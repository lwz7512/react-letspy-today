{"version":3,"sources":["reportWebVitals.js","config/constants.js","helper/CanvasHelper.js","components/HeroCard.js","components/ProjectCard.js","components/ContactCard.js","components/Spinner.js","service/ProjectService.js","state/ProjectState.js","pages/HomePage.js","components/ProjectIntro.js","components/MissionPanel.js","components/ProjectDemoMode.js","utils/StrUtil.js","config/ProjectDefaultCode.js","config/project.js","components/PYCodeEditor.js","components/ProjectTips.js","games/CloneArmy.js","games/LavaAdventure.js","games/MakeYourPath.js","games/GuessMyName.js","games/SphinxRiddle.js","games/WhichWayToGo.js","games/FlyThemUp.js","games/PassLiveBridge.js","games/FixTheClock.js","config/phaser.js","games/Congratulations.js","games/GameFailed.js","helper/ProjectHelper.js","components/PhaserGameBox.js","components/MiniGamePanel.js","components/ProjectCodeMode.js","utils/DomUtil.js","pages/ProjectPage.js","pages/DonationPage.js","pages/ProfilePage.js","pages/ContactPage.js","components/CheatsheetViewer.js","pages/CheatSheetPage.js","components/DisclosureViewer.js","pages/DisclosurePage.js","structure/AppTopbar.js","structure/AppFooter.js","components/Modal.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","app_brand","hero_title_a","hero_title_b","action_now_label","action_now_route","feature_title_a","feature_title_b","feature_title_c","EditorMode","games","id","src","doc","alt","code","Infinity","gameDevWorkflow","drawHeroImageBy","gapWidthPercent","imgRawWidth","imgRawHeight","srcImg","document","getElementById","heroContainer","getElementsByClassName","item","cw","clientWidth","ch","clientHeight","canvasBlack","setAttribute","ctxBlack","getContext","clearRect","drawImage","width","height","HeroCard","tileA","titleB","route","actionNow","rawImgSrc","useState","imageLoaded","setImageLoaded","setImgRawWidth","setImgRawHeight","rawImgDataRef","useRef","moveDirection","typeWriterText","useTypewriter","words","loop","text","openDemoVideoView","initPercent","current","window","requestAnimationFrame","videoPlayingEndHandler","setTimeout","style","display","useEffect","img","Image","onload","remove","complete","className","onClick","event","preventDefault","target","tagName","url","controls","onEnded","cursorStyle","to","type","ProjectCard","project","completed","image","Array","level","fill","map","_","i","player","title","description","ContactCard","handleRoute","href","label","Spinner","API_ROOT_PATH","getGameCodeRunningResult","gameSnippet","axios","post","response","catch","error","console","log","projectStore","create","set","get","projects","setProjects","items","introMode","switchMode","state","runningMode","toggleRunning","projectID","setProjectID","projectName","setProjectName","name","projectReference","setProjectReference","content","codeValue","codeValueChanged","codeExecResult","codeExecError","isRunning","isSucceed","gameSucceed","result","startRunning","execute","a","getHandler","params","codeType","runPY","reset","GAME_DEGUG","tipsPanelExpanded","toggleTipsPanel","HomePage","history","useHistory","useLocalStorageState","role","length","queryParams","data","push","pathname","search","scrollTo","handleRouteChange","ProjectIntro","filter","Number","tags","tag","MissionPanel","tip","mission","ProjectDemoMode","config","attributes","poster","rTabs","str","trim","replace","isEmptyObj","obj","Object","keys","projectsBoilerplateCode","projectsCodeTarget","projName","expect","walk","jump","pivot","ability","dotLoaderStyle","css","codeEditorOptions","fontSize","minimap","enabled","PYCodeEditor","onCodeCopy","editorRef","mode","setMode","projectContent","typist","currentProjectCode","btnCmnstl","switchEditorMode","querySelectorAll","forEach","node","defaultLanguage","defaultValue","loading","options","onMount","editor","getValue","onChange","value","avgTypingDelay","cursor","blink","element","onTypingDone","line","index","remarkPlugins","remarkGfm","children","rel","tooltip","size","setValue","lines","replaceAll","navigator","clipboard","writeText","join","ProjectTips","toastRef","activeIndex","setActiveIndex","projectInfo","command","show","severity","summary","detail","life","tips","coding","pass","ref","model","onSelect","e","readOnly","CloneArmy","succeed","guideTxt","bingo","bind","columnIndex","shootingInterval","this","load","spritesheet","frameWidth","frameHeight","endFrame","audio","fireSound","sound","add","explosionSound","anims","key","frames","frameRate","repeat","hideOnComplete","setScale","soldiers","group","runChildUpdate","enemies","playerLasers","j","soldier","Soldier","m","n","alien","Enemy","input","on","reversedSoilder","getChildren","reverse","oneColumn","getData","play","bullet","fire","physics","collider","enemy","destroy","setData","clearTint","_createGuideText","tweens","targets","y","duration","paused","yoyo","message","x","removeFromDisplayList","time","delta","getLength","onGameSuccess","scene","start","msg","success","_createTextBouncing","game","events","emit","Phaser","Scene","Bullet","texture","existing","world","enableBody","born","initY","GameObjects","shootTimer","addEvent","delay","callback","setFrame","callbackScope","undefined","Sprite","setTint","Utils","GetRandom","body","velocity","LavaAdventure","background","docker","failed","actions","pivotHolded","exitHitted","actionManager","tilemapTiledJSON","make","tilemap","tiles","addTilesetImage","createLayer","setCollision","exits","filterTiles","tile","pickups","pivoted","setVisible","_createPlayer","_createPlayerAnimation","cursors","keyboard","createCursorKeys","removeCapture","loseSound","sprite","setBounce","setCollideWorldBounds","setDepth","frame","generateFrameNumbers","end","setVelocityX","isPlaying","left","isDown","right","up","blocked","down","setVelocityY","_successHandler","overlapTiles","_hitPivot","_hitExit","_gameFailed","_goDrop","_collisionCheck","isEnd","_manualControl","pivotHit","exitHit","update","setPosition","_goIdle","steps","_goStart","step","Action","ActionManager","dockerLayer","pivotLayer","updateCallback","frameCounter","frameTotal","_parse","onUpdate","actionToFunction","_goRight","_goJump","_goPivot","transport","_goTransport","idle","context","exitCallback","moveCounter","onExit","action","shift","unshift","MakeYourPath","blankRows","level0","level1","debug","tilesArray","tileWidth","tileHeight","groundLayer","_createGroundLayer","bridge","bricks","isArray","brick","withBlankLines","slice","bridgeLayer","reduce","b","GuessMyName","layerHoriOffset","tiles2","lockerLayer","keyLayer","lettersLayer","caillouLayer","ladderLayer","_collisionTiles","bgLayer","doors","concat","ladders","hitLadder","ySpeed","isStatic","Math","ceil","abs","distance","tileCenterX","playerCenterX","center","round","_closeEnough","hitKey","_hitTile","answer","SphinxRiddle","egypt","sphinx","floorLayer","boxesLayer","doorLayer","_createAnimation","popup","_createDialog","graphics","lineStyle","strokeRoundedRect","fillStyle","fillRoundedRect","dialog","dialogX","dialogY","fontFamily","color","setLineSpacing","done","setText","WhichWayToGo","paths","rm","walker","floor","tools","setAllowGravity","removeTileAt","path","GridWalker","_onCellChange","CellStep","speed","toTheEnd","xDiff","yDiff","max","setVelocity","_goDown","_goTop","cellFinishCallback","onCellChange","headStep","FlyThemUp","atlas","setOrigin","ground","_createBatteries","_createSoldiers","batteries","btr","generateFrameNames","prefix","troops","TroopsOnMyControl","launch","SuperSoldier","lazyLaunch","launchTime","accelerator","outOfValley","successCallback","superSoldiers","successHandler","soldiersInTrap","allset","isFree","PassLiveBridge","exitLayer","layerGroup","layer","platform","MovingPlatform","horiDifference","hitExit","setX","_hitRightBoundaryCheck","_hitPickups","stop","stoneGroup","stoneLayers","startMoveTime","endMoveTime","tween","random","ease","shutdown","setY","FixTheClock","sky","decorations","miniClock","_createHunchbackMan","lord","helpme","close","_closeDialog","completeHandler","_dialogCompleteHandler","dialogs","DialogManager","clock","RealClock","keyPressed","w","h","dialogW","dialogH","dialogPanel","dialogTxt","centerX","centerY","started","visible","addBackgroundImage","drawClock","clear","translateCanvas","theDate","Date","drawHourHand","drawMinuteHand","drawSecondHand","clockFace","degrees","PI","thickness","beginPath","moveTo","lineTo","fillPath","strokePath","getHours","getMinutes","save","radians","degreesToRadians","rotateCanvas","drawHand","restore","minutes","getSeconds","seconds","onComplete","gamesForProject","BaseConfig","AUTO","parent","banner","LargerBase","PlatformerConfig","default","matter","gravity","enableSleep","arcade","Congratulations","xPos","particles","createEmitter","scale","min","lifespan","angle","gravityY","blendMode","levelupSound","GameFailed","lastScene","_restart","gameoverSound","checkResultMatchTarget","equal","matched","expKey","generateSuccessMessage","PhaserGameBox","codeResultCallback","gameRef","audioSuccessRef","audioFailureRef","currentTarget","updateProjectStatus","Audio","getAt","music","currentGame","withParentAndScene","Game","addListener","removeListener","MiniGamePanel","buttonIcon","icon","disabled","ProjectCodeMode","mockRunningHandlelr","hasError","successMessage","failureMessage","notification","addEffect","targetClass","effectClass","querySelector","classList","removeEffect","ProjectPage","location","useLocation","pid","useParams","URLSearchParams","res","DonationPage","ProfilePage","ContactPage","initContact","email","subject","contact","setContact","checked","setChecked","sending","setSending","emailValidity","test","buttonEnabled","inputChangeHandler","field","submitContact","messageObj","status","showPopup","showError","stopPropagation","border","allowFullScreen","method","htmlFor","placeholder","required","rows","evt","CheatsheetViewer","metadata","useLayoutEffect","snippets","cards","main","section","createElement","span","appendChild","sectionTitle","cloneNode","copyBtn","prepend","createSection","parentSection","paragraph","link","createParagraph","preBlock","createPreBlock","card","codeImage","snippetKey","getAttribute","imageSource","addEventListener","codeSnippet","snackbar","popImage","CustomEvent","dispatchEvent","cardGrid","append","targetContainer","masonryBox","mHeight","replaceChildren","cover","download","date","CheatSheetPage","cheatsheet","setCheatsheet","setMetadata","getCheatsheetContent","resp","metadataParser","DisclosureViewer","onAnchorClick","linkClickHandler","lineNumber","substr","indexOf","headerH4Nodes","headerH4Elements","header","linksNodes","imageNodes","imageElements","toggleImageDisplay","altProp","removeEventListener","DisclosurePage","selectedGame","setSelectedGame","gameMode","setGameMode","gameDisclosure","setGameDisclosure","gameSourceCode","setGameSourceCode","gameAssets","setGameAssets","selectCodeLine","setSelectCodeLine","thumbnails","gameSelectHandler","file","markdown","assets","nail","monaco","focus","revealLineNearTop","Position","asset","split","AppTopbar","layoutColorMode","onMobileTopbarMenuClick","mobileTopbarMenuActive","listen","classNames","AppFooter","props","Modal","snippet","modal","App","setMobileTopbarMenuActive","scroll","top","behavior","component","exact","ReactDOM","render"],"mappings":"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","file":"static/js/main.95154b4f.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/**\n * app brand labels\n */\nexport const app_brand = {\n  hero_title_a: 'Minimal Python Coding Playground',\n  hero_title_b: ['You Coding', 'You Playing', 'You get Rewards'],\n  action_now_label: 'Get Started',\n  action_now_route: '/project/1',\n  feature_title_a: 'Coding with fun?',\n  feature_title_b: '🐱',\n  feature_title_c: 'let\\'s start with some well designed projects to guide your through very basic Python.',\n}\n\nexport const EditorMode = {\n  EDIT: 'edit',\n  LIVE: 'live_code',\n  REFE: 'reference_subtitle',\n  TIPS: 'tips',\n  RESET: 'reset_editor',\n  HELP: 'help_contact',\n  HIDE: 'hide_header'\n}\n\nexport const games = [\n  {\n    id: 1, src: 'games/shots/gameshot_1.png', doc: 'games/1.md', \n    alt: 'The Clone Armys', code: 'CloneArmy.js'\n  },\n  {\n    id: 2, src: 'games/shots/gameshot_2.png', doc: 'games/2.md', \n    alt: 'Lava Adventure', code: 'LavaAdventure.js'\n  },\n  {\n    id: 3, src: 'games/shots/gameshot_3.png', doc: 'games/3.md', \n    alt: 'Make your Bridge', code: 'MakeYourPath.js'\n  },\n  {\n    id: 4, src: 'games/shots/gameshot_4.png', doc: 'games/4.md', \n    alt: 'Guess My Name', code: 'GuessMyName.js'\n  },\n  {\n    id: 5, src: 'games/shots/gameshot_5.png', doc: 'games/5.md', \n    alt: 'Riddle of Sphinx', code: 'SphinxRiddle.js'\n  },\n  {\n    id: 6, src: 'games/shots/gameshot_6.png', doc: 'games/6.md', \n    alt: 'Free Your Troops', code: 'FlyThemUp.js'\n  },\n  {\n    id: 7, src: 'games/shots/gameshot_7.png', doc: 'games/7.md', \n    alt: 'Which way to go', code: 'WhichWayToGo.js'\n  },\n  {\n    id: 8, src: 'games/shots/gameshot_8.png', doc: 'games/8.md', \n    alt: 'Pass live bridge', code: 'PassLiveBridge.js'\n  },\n  {\n    id: 9, src: 'games/shots/gameshot_9.png', doc: 'games/9.md', \n    alt: 'Fix the clock', code: 'FixTheClock.js'\n  },\n  { id: Infinity, src: '', doc: '', alt: 'Stay tuned...', },\n]\n\nexport const gameDevWorkflow = [\n  '1. Select Python Nano-Concept to cover',\n  '2. Outline a story including a challenge to be done',\n  '3. Collect and search handy game assets(image, audio)',\n  '4. Build Game map in Tiled if necessary',\n  '5. Develop the static main scene of game',\n  '6. Add interaction to game',\n  '7. Complete the whole game logic',\n  '8. Expose `bingo` interface for Python code result',\n]","/**\n * draw image to canvas from source image\n * \n * @param {number} gapWidthPercent \n * @param {number} imgRawWidth \n * @param {number} imgRawHeight \n */\nexport const drawHeroImageBy = (gapWidthPercent, imgRawWidth, imgRawHeight) => {\n  let srcImg = document.getElementById(\"heroImage\");\n  let heroContainer = document.getElementsByClassName('hero-container').item(0)\n  let cw = heroContainer.clientWidth\n  let ch = heroContainer.clientHeight\n\n  let canvasBlack = document.getElementById(\"hero_canvas_black\");\n  canvasBlack.setAttribute('width', cw)\n  canvasBlack.setAttribute('height', ch)\n\n  let ctxBlack = canvasBlack.getContext(\"2d\");\n  // ctxBlack.fillStyle = 'black';\n  // ctxBlack.fillRect(0, 0, cw, ch);\n  ctxBlack.clearRect(0, 0, cw, ch)\n\n  ctxBlack.drawImage(\n    srcImg, // source\n    imgRawWidth*gapWidthPercent/2, 0, // start point\n    imgRawWidth*(1 - gapWidthPercent)/2, imgRawHeight, // image size\n    0, 0, // put to where\n    canvasBlack.width*(1 - gapWidthPercent)/2, canvasBlack.height*1.4  // half canvas size\n  )\n\n  ctxBlack.drawImage(\n    srcImg, // source\n    imgRawWidth/2, 0, // start from right part of image\n    imgRawWidth*(1 - gapWidthPercent)/2, imgRawHeight, // image size\n    canvasBlack.width*(1 + gapWidthPercent)/2, 0, // put to right part of canvas\n    canvasBlack.width*(1 - gapWidthPercent)/2, canvasBlack.height*1.4 // half canvas size\n  )\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport { Link, } from 'react-router-dom';\nimport ReactPlayer from 'react-player'\nimport { useTypewriter, Cursor } from 'react-simple-typewriter'\n\nimport { drawHeroImageBy } from \"../helper/CanvasHelper\";\n\nconst HeroCard = ({tileA, titleB, route, actionNow}) => {\n\n  const thumbnailImgSrc = 'assets/backgrounds/home_hero_thumbnail.jpg'\n  const rawImgSrc = 'assets/backgrounds/home_hero.jpg'\n  const demoVideoSrc = 'assets/video/LETPY_joy_0320_640x360.mp4'\n\n  const [imageLoaded, setImageLoaded] = useState(false)\n  const [imgRawWidth, setImgRawWidth] = useState(0)\n  const [imgRawHeight, setImgRawHeight] = useState(0)\n\n  const rawImgDataRef = useRef(0)\n  const moveDirection = useRef(0)\n\n  const {text: typeWriterText } = useTypewriter({\n    words: titleB,\n    loop: 0, // Infinit\n  })\n\n  const openDemoVideoView = (initPercent) => {\n    rawImgDataRef.current += initPercent ? 0.014 : -0.014\n\n    drawHeroImageBy(rawImgDataRef.current, imgRawWidth, imgRawHeight)\n\n    if (rawImgDataRef.current > 0 && rawImgDataRef.current < 1) {\n      window.requestAnimationFrame(() => openDemoVideoView(moveDirection.current))\n    }\n  }\n\n  // OPEN VIDEO:\n  const runOpenStageAnimation = () => {\n    moveDirection.current = 1\n    rawImgDataRef.current = 0\n    openDemoVideoView(1)\n    const videoContainer = document.getElementById('video-container')\n    videoContainer.style.display = 'block'\n    const contentContainer = document.getElementById('content-container')\n    contentContainer.style.display = 'none'\n  }\n\n  // CLOSE VIDEO:\n  const videoPlayingEndHandler = () => {\n    moveDirection.current = 0\n    rawImgDataRef.current = 1\n    openDemoVideoView(0)\n    setTimeout(() => {\n      const contentContainer = document.getElementById('content-container')\n      contentContainer.style.display = 'block'\n    }, 1000)\n  }\n\n  const closeVideoHandler = event => {\n    event.preventDefault()\n    const tag = event.target.tagName\n    if (tag === 'DIV') {\n      videoPlayingEndHandler()\n    }\n  }\n\n  useEffect(() => {\n    setImageLoaded(false)\n    const img = new Image()\n    img.onload = () => {\n      setImageLoaded(true)\n      setImgRawWidth(img.width)\n      setImgRawHeight(img.height)\n\n      img.remove()\n    }\n    img.src = rawImgSrc\n    if (img.complete) img.onload()\n  }, [])\n\n\n  useEffect(() => {\n    if (!imageLoaded) return\n\n    drawHeroImageBy(0, imgRawWidth, imgRawHeight)\n\n  }, [imageLoaded, imgRawWidth, imgRawHeight])\n\n  return (\n    <div className=\"card hero-container border-noround md:border-round\">\n      <img \n        id=\"heroImage\"\n        className=\"absolute hero-image\" \n        src={imageLoaded ? rawImgSrc : thumbnailImgSrc} \n        alt=\"hero background\"\n      />\n      <div \n        id=\"video-container\" \n        className=\"video-container absolute\"\n        onClick={closeVideoHandler}\n        >\n        <div className=\"video\">\n          <ReactPlayer\n            url={demoVideoSrc}\n            controls={true}\n            onEnded={videoPlayingEndHandler}\n            width=\"100%\"\n            height=\"100%\"\n          />\n        </div>\n      </div>\n      <canvas id=\"hero_canvas_black\" className=\"black-canvas\"></canvas>\n      <div id=\"content-container\" className=\"absolute content-container\">\n        <h1 className=\"intro-title\">{tileA}</h1>\n        <h2 className=\"intro-subtitle\">\n          {typeWriterText}\n          <Cursor cursorStyle=\"_\"/>\n        </h2>\n        <Link to={route} className=\"action-button\">\n            {actionNow}\n        </Link>\n        <button \n          type=\"button\" \n          className=\"action-button now\"\n          onClick={runOpenStageAnimation}\n          >Demo\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default HeroCard","import { Link, } from 'react-router-dom';\n\nconst ProjectCard = ({ project, completed }) => {\n\n  return (\n    <div className=\"w-full sm:w-6 lg:w-4 p-3 sm:p-5\" >\n        <div className=\"feature-card zoom\">\n            <img className=\"\" alt=\"components\" src={project.image} />\n            <div className=\"top-row\">\n              { Array(project.level).fill(0).map(\n                (_, i) => (\n                  <span className=\"px-1\" key={i}>\n                    <img src=\"assets/icon/favourite.png\" className=\"star-icon\" alt=\"star\" />\n                  </span>\n                )\n              )}\n              { completed[project.id] && (\n                <img \n                  src=\"assets/icon/medal.png\" \n                  className=\"complete-badge-icon\" \n                  alt=\"badge\" \n                />\n              )}\n            </div>\n            <div className=\"center-row\" >\n              <div className=\"avatar-img\">\n                <img\n                  src={project.player}\n                  alt=\"game player\" \n                />\n              </div>\n            </div>\n            <div className=\"footer-row\">\n              <h3>{project.title}</h3>\n            </div>\n            <div className=\"feature-card-detail\">\n                <p className=\"text-xl  h-8rem\">{project.description}</p>\n            </div>\n            <div className=\"footer p-5\">\n              <Link to={`/project/${project.id}`} \n                  className=\"action-button in-card\">\n                  Explore\n              </Link>\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default ProjectCard","import { Button } from 'primereact/button';\n\nconst ContactCard = ({handleRoute}) => (\n  <div className=\"card m-2 md:m-3 p-5 xl:p-7 border-round surface-50\">\n    <div className=\"grid\">\n        <div className=\"section-content cell w-12 md:w-6\">\n            <h2 className=\"text-2xl xl:text-5xl\">Let’s Work Together!</h2>\n            <div className=\"text-block mt-5\">\n                <p className=\"text-xl x:text-2xl text-600\">\n                    Say hello at <a href=\"mailto:lwz7512@gmail.com\">lwz7512@gmail.com </a>\n                    or tell me more about your ideas by getting this better.\n                </p>\n            </div>\n            <div className=\"button-group mt-5 flex justify-content-center md:justify-content-start\">\n                <Button label=\"Connect\" onClick={handleRoute} />\n            </div>\n        </div>\n        <div className=\"section-image cell mt-5 lg:mt-0 w-12 w-12 md:w-6\">\n            <img src=\"assets/layout/images/130.png\" alt=\"cta\" />\n        </div>\n    </div>\n  </div>\n)\n\nexport default ContactCard","const Spinner = () => (\n  <i \n    className=\"pi pi-spin pi-spinner\" \n    style={{'fontSize': '2em'}} \n  />\n)\n\nexport default Spinner","import axios from 'axios'\n// import axios from \"./axios\";\n\nconst API_ROOT_PATH = '/api/v1'\nconst GITHUB_REPO_GAMES_PATH = 'https://raw.githubusercontent.com/lwz7512/react-letspy-today/master/src/games'\n\n// from backend\nexport const getProjects = () =>\n  axios.get('data/projects.json')\n    .then(res => res.data.data);\n\nexport const getGameCodeRunningResult = gameSnippet => \n  axios.post(`${API_ROOT_PATH}/run`, gameSnippet)\n  .then(function (response) {\n    return response;\n  })\n  .catch(function (error) {\n    console.log(error);\n    return error\n  });\n\nexport const postContactMessage = messageObj =>\n  axios.post(`${API_ROOT_PATH}/contact`, messageObj)\n  .then(function (response) {\n    return response;\n  })\n  .catch(function (error) {\n    console.log(error);\n    return error\n  });\n\n// from local project static file\nexport const getProjectContent = id => \n  axios.get(`guides/${id}.md`).then(res => res.data);\n\nexport const getCheatsheetContent = name => \n  axios.get(`cheatsheets/${name}.md`).then(res => res.data);\n\nexport const getDisclosureContent = id =>\n  axios.get(`games/${id}.md`).then(res => res.data);\n\n// get remote js source code from github\nexport const getRemoteSourceCode = file =>\n  axios.get(`${GITHUB_REPO_GAMES_PATH}/${file}`).then(res => res.data);","import create from 'zustand'\n\nimport {\n  getGameCodeRunningResult as runPY\n} from '../service/ProjectService'\n\n/**\n * Compose GameSnippet object\n * @param {function} getHandler \n * @returns gameSnippet match backend schema\n */\nconst getCurrentGameSnippet = getHandler => ({\n  id:   getHandler()['projectID'],\n  name: getHandler()['projectName'],\n  code: getHandler()['codeValue'],\n  params: '',\n  codeType: '',\n})\n\nconst projectStore = create(\n  (set, get) => ({\n    // for home page\n    projects: [],\n    setProjects: items => set({ projects : items }),\n    // for project page\n    introMode: true,\n    switchMode: () => set(\n      state => ({introMode: !state['introMode']})\n    ),\n    runningMode: false, // just for visual effect\n    toggleRunning: () => set(\n      state => ({runningMode: !state['runningMode']})\n    ),\n\n    // project id\n    projectID: '1',\n    setProjectID: id => set({projectID: id}),\n    // project name\n    projectName: 'demo project',\n    setProjectName: name => set({projectName: name}),\n    projectReference: '', // markdown content\n    setProjectReference: content => set({projectReference: content}),\n\n    // *** RUNTIME STATE ***\n    // editor code\n    codeValue: '',\n    codeValueChanged: code => set({codeValue: code}),\n    // code running state\n    codeExecResult: {},\n    // code running error\n    codeExecError: null,\n    // starte running code\n    isRunning: false,\n    // game status\n    isSucceed: false,\n    // update game status\n    gameSucceed: result => set({isSucceed: result}),\n    // call backend\n    startRunning: () => set({isRunning: true}),\n    // code running request\n    execute: async (target) => {\n      set({runningMode: true})\n      const gameSnippet = getCurrentGameSnippet(get)\n      const result = await runPY({...gameSnippet, ...target})\n      if (result['status'] === 200) {\n        set({codeExecResult: result['data']})\n      } else {\n        set({codeExecError: result})\n      }\n      set({isRunning: false})\n      setTimeout(()=>{set({runningMode: false})}, 300)\n    },\n    reset: () => set({\n      codeExecResult: {},\n      codeExecError: null,\n      introMode: true,\n      isSucceed: false,\n    }),\n    GAME_DEGUG: true,\n    tipsPanelExpanded: true,\n    toggleTipsPanel: () => set(\n      state => ({tipsPanelExpanded: !state['tipsPanelExpanded']})\n    ),\n    // more state and action ...\n  })\n)\n\nexport default projectStore\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport useLocalStorageState from 'use-local-storage-state'\n\nimport { app_brand } from '../config/constants'\n\nimport HeroCard from '../components/HeroCard'\nimport ProjectCard from '../components/ProjectCard'\nimport ContactCard from '../components/ContactCard'\nimport Spinner from '../components/Spinner'\n\nimport projectStore from '../state/ProjectState'\n\n\nconst HomePage = () => {\n\n    const history = useHistory()\n    const projects = projectStore(state => state.projects)\n    const [completed, ] = useLocalStorageState('projects_status', {})\n\n    const handleRouteChange = (target, queryParams = '', data = null) => {\n        history.push({\n            pathname: target,\n            search: `?${queryParams}`,\n            state: data\n        })\n        window.scrollTo(0, 0)\n    }\n\n    return (\n        <div className=\"home md:pt-0\">\n            {/* hero */}\n            <div className=\"col-12 px-0 sm:px-2\">\n                <HeroCard \n                    tileA={app_brand.hero_title_a}\n                    titleB={app_brand.hero_title_b}\n                    route={app_brand.action_now_route}\n                    actionNow={app_brand.action_now_label}\n                />\n            </div>\n            {/* projects title */}\n            <div className=\"col-12 features\">\n                <h1 className=\"mb-6\">\n                    <span className=\"header-title \">PROJECTS</span>\n                </h1>\n                <p className=\"text-2xl\">\n                    {app_brand.feature_title_a}\n                    <span role=\"img\" aria-label=\"celebrate\" className=\"px-2\">\n                        {app_brand.feature_title_b}\n                    </span> \n                    {app_brand.feature_title_c}\n                </p>\n            </div>\n            {/* projects grid */}\n            <div className=\"col-12 features\">\n                { !projects.length && (\n                    <Spinner />\n                )}\n                { projects.length > 0 && (\n                    <div className=\"grid\">\n                        { projects.map((project, i) => (\n                            <ProjectCard \n                                key={i} \n                                project={project}\n                                completed={completed}\n                            />\n                        ))}\n                    </div>\n                )}\n            </div>\n            {/* work with me */}\n            <div className=\"col-12 my-0 md:my-5 cta-section\">\n                <ContactCard \n                    handleRoute={()=>handleRouteChange('/contact')} \n                />\n            </div>\n        </div>\n    );\n}\n\nexport default HomePage","import React from 'react'\n\nimport projectStore from '../state/ProjectState'\n\n\nconst ProjectIntro = () => {\n\n  const projectID = projectStore(state => state.projectID)\n  const projects = projectStore(state => state.projects)\n  const [ project ] = projects.filter(project => project.id === Number(projectID))\n\n  return (\n    <div className=\"intro-area border-solid h-10rem blue-round-panel pb-0\">\n      {/* title row */}\n      <div className=\"flex justify-content-between\">\n        <h3 className=\"text-900\">\n          <span className=\"border-bottom-3 \">\n            {project.title}\n          </span>\n          </h3>\n        <h3>\n          { Array(project.level).fill(0).map(\n            (_, i) => (\n              <span className=\"px-1\" key={i}>\n                ⭐\n              </span>\n            )\n          )}\n        </h3>\n      </div>\n      {/* body row */}\n      <div className=\"flex justify-content-between\">\n        <div className=\"left-part flex-1\">\n          <p className=\"description text-xl text-700\">\n            {project.description}\n          </p>\n          <p className=\"pb-0 tags\">\n            {project.tags.map(\n              (tag, i) => (\n                <span className={`action-fun text-sm var-${i}`} key={tag}>\n                  {tag}\n                </span>\n              )\n            )}\n          </p>\n        </div>\n        <div className=\"right-part\">\n          <img src={project.player} width=\"50\" alt=\"alien\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ProjectIntro","import React from 'react'\n\nimport projectStore from '../state/ProjectState'\n\nconst MissionPanel = () => {\n\n  const switchMode = projectStore(state => state.switchMode)\n  const projectID = projectStore(state => state.projectID)\n  const projects = projectStore(state => state.projects)\n  const [ tip ] = projects.filter(project => project.id === Number(projectID))\n\n\n  return (\n    <div className=\"flex-space-between full-height\">\n      <div className=\"left-part bg-indigo-50\">\n        <h3 className=\"text-900 \">\n          <span className=\"border-bottom-3 \">Mission</span>\n        </h3>\n        <p className=\"text-2xl text-700 mt-3\">\n          {tip.mission}\n        </p>\n      </div>\n      <div className=\"right-part center-child bg-blue-500\">\n        <button \n          type=\"button\" \n          className=\"go-btn\" \n          onClick={switchMode}>\n          <span className=\"ml-1\">Go</span>\n          <span className=\"pb-0\">\n            <i className=\"pi pi-angle-double-right\"></i>\n          </span>\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default MissionPanel","import React from 'react'\n\nimport ReactPlayer from 'react-player'\nimport ProjectIntro from './ProjectIntro';\nimport MissionPanel from './MissionPanel';\n\nconst ProjectDemoMode = () => {\n  // TODO: get project video address...\n\n  return (\n    <>\n      <ProjectIntro />\n      <div className=\"content-area blue-round-panel dark\">\n        <ReactPlayer\n          url=\"assets/video/logo_reveal_640x360.mp4\"\n          controls={true}\n          config={{\n            attributes: {\n              poster: \"assets/video/letspy-today.png\"\n            }\n          }}\n        />\n      </div>\n      <div className=\"result-area border-solid h-12rem blue-round-panel p-0\">\n        <MissionPanel />\n      </div>\n    </>\n  )\n}\n\nexport default ProjectDemoMode","export const rTabs = str => str.trim().replace(/^ {4}/gm, '');\n\nexport const isEmptyObj = obj => Object.keys(obj).length === 0","import { rTabs } from '../utils/StrUtil'\n\nconst projectCode_1 = rTabs(`\n    troops_amount = 20  # DO NOT TOUCH THIS LINE!\n    # Note: \n    # make an expression to double the troops_amount variable value:\n    # troops_amount = troops_amount * 2\n`)\n\nconst projectCode_2 = rTabs(`\n    # Mission Brief:\n    # Ola is being trapped in the lava valley! \n    # Your mission is to help him out of there!\n    #\n    # actions available: \n    # walk(1)\n    # jump(1)\n    # pivot()\n    # \n    # How to control player:\n    # walk: RIGHT ARROW KEY\n    # jump: UP ARROW KEY\n    #\n    # lets get started with:\n    walk(1)\n`)\n\nconst projectCode_3 = rTabs(`\n    # Mission Brief:\n    # A bridge is missing some bricks which are represented by '1', \n    # make up for it to pass safely!\n    # \n    bridge = [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0]\n    # lets get started with repairing first space:\n    bridge[1] = 1\n    # now your turn to fill other spaces:\n`)\n\nconst projectCode_4 = rTabs(`\n    # The robot's name is saved in variable 'myName':\n    # myName = \"**ILLOU\"\n    #\n    # Mission Brief:\n    # The robot could not recall his name recorded in a variable <myName> above, \n    # help him to figure it out the first two letters.\n    # \n    # Tips:\n    # First two letter of his name is missing, you are expected to use\n    # string slice method to extract the real value of '**' from <myName>!\n    # \n    # Now, write you solution to replace the 'None' below:\n    firstTwoChars = None\n`)\n\nconst projectCode_5 = rTabs(`\n    # There are two box holding the answer of the Sphinx famous question:\n    # green_box = \"********\"\n    # red_box = \"########\"\n    #\n    # Mission Brief:\n    # first, you need to know the right anwser, \n    # then you need to know how to check the two box with \"if\" statement,\n    # if the two box contain the key word of right anwser, return the box!\n    #\n    # Tips:\n    # key word may use 'person', :)\n    # lets first create a placeholder for your anwser,\n    # check two box variables, asign the right one to the 'the_right_box':\n    the_right_box = None\n`)\n\n\nconst projectCode_6 = rTabs(`\n    # Assume you have Soldier definition like this:\n    # class Soldier:\n    #    def addPower(self, ability):\n    #        self.ability = ability\n    #\n    # also a squad of uncertain number soldiers under your control:\n    # troops = [soldier, soldier, soldier, ...soldier]\n    #\n    # Mission Brief:\n    # Your troops are being trapped in toxic valley, you need to dispatch\n    # flying armor for each of them to get out of there!\n    #\n    # Tips:\n    # Every soldier in your 'troops' need 'flying' ability to escapge\n    # valley, loop the 'troops' list through 'for ... in' statement, \n    # get each soldier and call its 'addPower' function by:\n    # soldier.addPower('flying').\n    # \n    # lets check out our 'troops' list by a loop processing:\n    \n`)\n\nconst projectCode_7 = rTabs(`\n    # Mission Brief: \n    # In this game, you are going to loop 'all_paths' list:\n    # all_paths = [path_object, path_object, path_object, ...]\n    # Check each path object, which one includes the right obstacle to \n    # reach the exit point!\n    #\n    # Tips:\n    # Every path_object has a function: includeItem(type) to return \n    # True or False. type parameter in the function might be one of \n    # 'leaf', 'bridge', 'diamond', 'key', 'heart', 'cone'.\n    # You may have noticed the right way out includes a 'key'!\n    # \n    # lets first create a placeholder used to save your finding:\n    right_path = None\n\n`)\n\nconst projectCode_8 = rTabs(`\n    # Assume you have two groups of stones which are flying constantly:\n    # yellow_stones = [*, *, *, *]\n    # red_stones = [*, *, *, *]\n    # Each 'stone' in that group actually is one of the alphabet\n    #\n    # Mission Brief:\n    # To reach the exit, you need to\n    # 1. have 'yellow_stones' sorted in ascending order,\n    # 2. have 'red_stones' sorted in descending order,\n    # 3. add two group stones into one list 'bridge_stones' below\n    #\n    # Tips:\n    # Remember to jump and hit the key to unlock the door.\n    #\n    # connect ascending yellow_stones and descending red_stones into:\n    bridge_stones = None\n    # lets first hack two groups of stones:\n`)\n\nconst projectCode_9 = rTabs(`\n    # To fix the clock, here is a starting point to figure out current time:\n    from datetime import datetime\n    now = datetime.now()\n    #\n    # Mission Brief:\n    # You have a 'now' object to use, \n    # get the 'hour', 'minute', 'second' value from it!\n    #\n    # Tips:\n    # visit this tutorial to find the clue:\n    # https://www.geeksforgeeks.org/python-datetime-datetime-class/\n    # Search: Example 2: Accessing the attributes of date and time object\n    # \n    # lets define empty variables to be replaced with your solutions,\n    # utilize the 'now' object above to get these values:\n    hour = None\n    minute = None\n    second = None\n`)\n\n\nexport const projectsBoilerplateCode = {\n    1: projectCode_1,\n    2: projectCode_2,\n    3: projectCode_3,\n    4: projectCode_4,\n    5: projectCode_5,\n    6: projectCode_6,\n    7: projectCode_7,\n    8: projectCode_8,\n    9: projectCode_9,\n}\n\nexport const projectsCodeTarget = {\n    1: {\n        projName: 'Clone Army',\n        codeType: 'statements', \n        params: 'troops_amount', \n        expect: 40,\n    },\n    2: {\n        projName: 'Lava Adventure',\n        codeType: 'actions',\n        params: '',\n        expect: [{walk: 1}, {jump: 1}, {walk: 1}, {jump: 1}, {walk: 1}, {pivot: 0}],\n    },\n    3: {\n        projName: 'Missing bricks',\n        codeType: 'statements',\n        params: 'bridge',\n        expect: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n    },\n    4: {\n        projName: 'Guess My Name',\n        codeType: 'statements', \n        params: 'firstTwoChars', \n        expect: 'CA',\n    },\n    5: {\n        projName: 'Riddle of Sphinx',\n        codeType: 'statements',\n        params: 'the_right_box',\n        expect: 'a person'\n    },\n    6: {\n        projName: 'Free Your Troops',\n        codeType: 'statements',\n        params: 'troops',\n        expect: [\n            {ability: 'flying'}, {ability: 'flying'}, {ability: 'flying'},\n            {ability: 'flying'}, {ability: 'flying'}, {ability: 'flying'},\n            {ability: 'flying'}, {ability: 'flying'}, {ability: 'flying'},\n            {ability: 'flying'}, {ability: 'flying'}, {ability: 'flying'},\n        ]\n    },\n    7: {\n        projName: 'Which way to go',\n        codeType: 'statements',\n        params: 'right_path',\n        expect: {id: 4}\n    },\n    8: {\n        projName: 'Pass live bridge',\n        codeType: 'statements',\n        params: 'bridge_stones',\n        expect: ['a', 'b', 'c', 'd', 'h', 'g', 'f', 'e']\n    },\n    9: {\n        projName: 'Fix the clock',\n        codeType: 'solutions_clock',\n        params: 'hour,minute,second',\n        expect: [true, true, true]\n    },\n}\n","import { css } from \"@emotion/react\";\n\n\nexport const dotLoaderStyle = css`\n  display: block;\n  margin: 0 auto;\n`\n\nexport const codeEditorOptions = {\n  fontSize: 14,\n  minimap: {\n    enabled: false\n  }\n}","import React, { useRef, useState, useEffect } from 'react'\nimport MonacoEditor from '@monaco-editor/react'\nimport { Button } from 'primereact/button'\nimport {\n  BiTerminal, BiBookAlt, BiReset, BiHelpCircle, BiWindowClose, BiCodeAlt, \n} from 'react-icons/bi'\nimport Typist from 'react-typist'\nimport ReactMarkdown from 'react-markdown'\nimport remarkGfm from 'remark-gfm'\n\nimport { EditorMode } from '../config/constants'\nimport projectStore from '../state/ProjectState'\nimport { projectsBoilerplateCode, } from '../config/ProjectDefaultCode'\nimport { codeEditorOptions } from '../config/project'\n\n\n/**\n * Python mini playground for each project\n */\nconst PYCodeEditor = ({ onCodeCopy }) => {\n\n  const editorRef = useRef(null);\n  const [mode, setMode] = useState(EditorMode.EDIT)\n\n  const projectID = projectStore(state => state.projectID)\n  const projectContent = projectStore(state => state.projectReference)\n\n  const codeValueChanged = projectStore(state => state.codeValueChanged)\n  const toggleTipsPanel = projectStore(state => state.toggleTipsPanel)\n  const projects = projectStore(state => state.projects)\n  const [ { typist } ] = projects.filter(\n    project => project.id === Number(projectID)\n  )\n\n  const currentProjectCode = projectsBoilerplateCode[projectID]\n  const btnCmnstl = 'p-button-rounded p-button-icon-only mx-2 mt-3'\n\n  const handleEditorDidMount = (editor, _) => {\n    editorRef.current = editor;\n    codeValueChanged(editor.getValue())\n  }\n\n  const switchEditorMode = mode => () => {\n    setMode(mode)\n  }\n\n  const switchInstructionPanel = () => {\n    toggleTipsPanel()\n  }\n\n  const resetEditorCode = () => {\n    editorRef.current.setValue(currentProjectCode)\n  }\n\n  const typeDoneHandler = () => {\n    // console.log('type animation done! to replay...')\n  }\n\n  const switchToTypistAndCopy = () => {\n    setMode(EditorMode.LIVE)\n    const lines = typist.map(\n      line => line ? line : \"\\n\"\n    ).map(\n      line => line.replaceAll(/\\.\\./g, \"  \")\n    )\n    // copy to clipboard\n    navigator.clipboard.writeText(lines.join(''));\n\n    if (onCodeCopy) onCodeCopy('Copied into clicpboard!')\n  }\n\n\n  useEffect(() => {\n    if (mode !== EditorMode.REFE) return\n\n    const selector = '.reference-panel p > a'\n    const links = document.querySelectorAll(selector)\n    links.forEach(\n      node => node.setAttribute('target', '_blank')\n    )\n\n  }, [mode])\n\n  return (\n    <div className=\"code-editor h-full w-full flex justify-content-between\">\n      {mode === EditorMode.EDIT && (\n        <MonacoEditor\n          height=\"420px\"\n          width=\"710px\"\n          defaultLanguage=\"python\"\n          defaultValue={currentProjectCode}\n          loading=\"Loading Code Editor...\"\n          options={codeEditorOptions}\n          onMount={handleEditorDidMount}\n          onChange={value => codeValueChanged(value)}\n        />\n      )}\n      {mode === EditorMode.LIVE && (\n        <div className=\"terminal-panel w-full\">\n          <Typist\n            className=\"typist-header\"\n            avgTypingDelay={90}\n            cursor={{\n              blink: true,\n              element: '|',\n            }}\n            onTypingDone={typeDoneHandler}\n            >\n              {typist.map((line, index) => (line? \n                (<span className=\"typist-line\" key={index}> {line} </span>) :\n                (<br key={index}/>)\n              ))\n              }\n          </Typist>\n        </div>\n      )}\n      {mode === EditorMode.REFE && (\n        <div className=\"reference-panel w-full p-4 bg-blue-50\">\n          <ReactMarkdown \n            remarkPlugins={[remarkGfm]}\n            children={projectContent}\n          />\n        </div>\n      )}\n      {mode === EditorMode.HELP && (\n        <div className=\"help-panel w-full p-3 bg-indigo-50\">\n          <h4>Email Me: lwz7512@gmail.com</h4>\n          <h4>FollowMe: \n            <a href=\"https://twitter.com/lwz75121\" target=\"_blank\" rel=\"noreferrer\">@lwz75121</a>\n          </h4>\n        </div>\n      )}\n      {/* tools */}\n      <div className=\"tools border-left-1 border-blue-500 flex flex-column align-items-center\">\n        {/* edit */}\n        <Button\n          className={`p-button-danger ${btnCmnstl} ${mode===EditorMode.EDIT?'selected':''}`}\n          tooltip=\"Edit Code\"\n          onClick={switchEditorMode(EditorMode.EDIT)}\n          >\n            <BiCodeAlt size=\"22\" />\n        </Button>\n        {/* reset */}\n        <Button \n            className=\"p-button-warning p-button-rounded p-button-icon-only mx-2 mt-3\"\n            tooltip=\"Reset Code to Initial\"\n            onClick={resetEditorCode}\n            >\n            <BiReset size=\"20\" />\n          </Button>\n        {/* live */}\n        <Button \n          className={`p-button-help ${btnCmnstl} ${mode===EditorMode.LIVE?'selected':''}`}\n          tooltip=\"Tips\"\n          onClick={switchToTypistAndCopy}\n          >\n          <BiTerminal size=\"20\" />\n        </Button>\n        {/* text reference */}\n        <Button \n          className={`p-button-primary ${btnCmnstl} ${mode===EditorMode.REFE?'selected':''}`}\n          tooltip=\"Guide and Reference\"\n          onClick={switchEditorMode(EditorMode.REFE)}\n          >\n          <BiBookAlt size=\"20\" />\n        </Button>\n        {/* help */}\n        <Button \n          className={`p-button-success ${btnCmnstl} ${mode===EditorMode.HELP?'selected':''}`}\n          tooltip=\"Help Me\"\n          onClick={switchEditorMode(EditorMode.HELP)}\n          >\n          <BiHelpCircle size=\"20\" />\n        </Button>\n        {/* close */}\n        <Button \n          className={`p-button-info ${btnCmnstl} ${mode===EditorMode.HIDE?'selected':''}`}\n          tooltip=\"Close Instructions\"\n          onClick={switchInstructionPanel}\n          >\n          <BiWindowClose size=\"20\" />\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport default PYCodeEditor","import React, { useRef, useState } from 'react'\nimport { Link, } from 'react-router-dom';\nimport {Steps} from 'primereact/steps';\nimport { Toast } from 'primereact/toast';\nimport projectStore from '../state/ProjectState'\n\nconst ProjectTips = () => {\n\n  const toastRef = useRef(null)\n  const [activeIndex, setActiveIndex] = useState(0);\n  const projectID = projectStore(state => state.projectID)\n  const projects = projectStore(state => state.projects)\n  const [ projectInfo ] = projects.filter(project => project.id === Number(projectID))\n\n\n  const items = [\n      {\n        label: 'Mission',\n        command: () => {\n          toastRef.current.show({\n            severity: 'info',\n            summary: 'Mission Brief',\n            detail: projectInfo.mission,\n            life: 4000\n          });\n        }\n      },\n      {\n        label: 'Tips',\n        command: () => {\n          toastRef.current.show({\n            severity: 'info', \n            summary: 'Tips', \n            detail: projectInfo.tips, \n            life: 4000 \n          });\n        }\n      },\n      {\n        label: 'Coding',\n        command: () => {\n          toastRef.current.show({\n            severity: 'info', \n            summary: 'Coding target', \n            detail: projectInfo.coding, \n            life: 3000 \n          });\n        }\n      },\n      {\n        label: 'Proceed',\n        command: () => {\n          toastRef.current.show({\n            severity: 'info', \n            summary: 'Last step', \n            detail: projectInfo.walk, \n            life: 3000 \n          });\n        }\n      },\n      {\n        label: 'Pass',\n        command: () => {\n          toastRef.current.show({\n            severity: 'info', \n            summary: 'Congratulations', \n            detail: projectInfo.pass, \n            life: 3000 \n          });\n        }\n      }\n  ];\n\n  return (\n    <div className=\"intro-area border-solid h-10rem blue-round-panel pb-0\">\n      <Toast ref={toastRef} />\n      {/* title row */}\n      <div className=\"flex justify-content-between\">\n        <h3 className=\"text-900\">Instructions</h3>\n        <h3>\n          <Link to=\"/\">\n            <span className=\"px-1\">🏠</span>\n          </Link>\n        </h3>\n      </div>\n      {/* body row */}\n      <div className=\"flex justify-content-between\">\n        <Steps model={items} \n          className=\"w-full mt-4\"\n          activeIndex={activeIndex} \n          onSelect={(e) => setActiveIndex(e.index)} \n          readOnly={false}\n          />\n      </div>\n    </div>\n  )\n}\n\nexport default ProjectTips","import Phaser from 'phaser';\n\n\nclass CloneArmy extends Phaser.Scene {\n  constructor(){\n    super('CloneArmy');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    // soldiers column\n    this.columnIndex = 0\n    // shooting interval\n    this.shootingInterval = 0\n  }\n\n  preload(){\n    this.load.image('dude', 'assets/sprites/phaser-dude.png');\n    this.load.image('vida', 'assets/sprites/darthvida_sm.png');\n    this.load.image('bullet', 'assets/sprites/bullet5.png');\n    this.load.spritesheet('soldier', 'assets/sprites/solider_yellow.png', { frameWidth: 48, frameHeight: 48});\n    this.load.spritesheet('invader', 'assets/sprites/invader1.png', { frameWidth: 32, frameHeight: 32 });\n    this.load.spritesheet('boom', 'assets/sprites/explosion.png', { frameWidth: 64, frameHeight: 64, endFrame: 23 });\n    this.load.audio('fire', 'assets/audio/blaster.mp3');\n    this.load.audio('explosion', 'assets/audio/explosion.mp3');\n  }\n    \n  create(){\n    this.fireSound = this.sound.add('fire')\n    this.explosionSound = this.sound.add('explosion')\n\n    const move = {\n        key: 'move',\n        frames: 'invader',\n        frameRate: 4,\n        repeat: -1\n    };\n    const explode = {\n        key: 'explode',\n        frames: 'boom',\n        frameRate: 36,\n        hideOnComplete: true\n    };\n    this.anims.create(move);\n    this.anims.create(explode);\n\n    this.add.image(570, 30, 'dude');\n    const vida = this.add.image(30, 32, 'vida');\n    vida.setScale(0.8, 0.8);\n\n    this.soldiers = this.add.group([], {runChildUpdate: true});\n    this.enemies = this.add.group([], {runChildUpdate: true});\n    this.playerLasers = this.add.group([], {runChildUpdate: true});\n\n    // soldiers squad ...\n    const rows = 4\n    const yPositionStart = 110\n    for (var i=0; i<5; i++) {\n      for (var j=0; j<rows; j++) {\n        var soldier = new Soldier(this, 20+i*20, yPositionStart+j*32, 'soldier', i*rows+j)\n        this.soldiers.add(soldier);\n      }\n    }\n\n    for (var m=0; m<10; m++) {\n      for (var n=0; n<rows; n++) {\n        var alien = new Enemy(this, 310+m*30, yPositionStart+n*32, 'invader', m*rows+n)\n        this.enemies.add(alien)\n      }\n    }\n\n    // this.cursors = this.input.keyboard.createCursorKeys();\n    // disable space key presss, conflict with monaco editor\n    // this.input.keyboard.removeCapture(32);\n\n    // fire by a column of soldiers\n    this.input.on('pointerdown', function() {\n      // if (!this.complete) return\n\n      // control shooting interal\n      if (this.shootingInterval < 40) return\n\n      // reset interval\n      this.shootingInterval = 0\n\n      const reversedSoilder = [...this.soldiers.getChildren()].reverse()\n      const oneColumn = []\n      reversedSoilder.forEach(soldier => {\n        if (oneColumn.length === 4) return\n        if (!soldier.getData('fired')) {\n          oneColumn.push(soldier)\n        }\n      })\n\n      if (oneColumn.length) {\n        this.fireSound.play()\n      }\n      oneColumn.forEach(soldier => {\n        const bullet = soldier.fire()\n        if (bullet) {\n          this.playerLasers.add(bullet)\n        }\n      })\n    }, this);\n    \n    // collision detection\n    this.physics.add.collider(this.enemies, this.playerLasers, function(enemy, bullet){\n      this.explosionSound.play()\n      // this.exploding = true\n      bullet.destroy()\n\n      enemy.setData('isDead', true)\n      enemy.clearTint()\n      enemy.play('explode')\n      enemy.on('animationcomplete', function(){\n        // this.exploding = false\n        enemy.destroy() // destroy enemy later\n      }, this)\n\n    }, null, this)\n\n    // guide text\n    this._createGuideText('press LEFT MOUSE to shoot those aliens.', 90, 20)\n\n  } // end of create\n\n  _createTextBouncing() {\n    this.tweens.add({\n      targets: this.guideTxt,\n      y: 30,\n      duration: 500,\n      repeat: 4,\n      paused: false,\n      yoyo: true\n    });\n  }\n\n  /**\n   * create/update a text on screen\n   * @param {string} message : text display\n   * @param {int} x : horizontal position\n   * @param {int} y : vertical position\n   */\n  _createGuideText(message, x=10, y=10) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    const params = [\n      x, y, message, { fill: '#ffff00' }\n    ]\n    this.guideTxt = this.add.text(...params);\n  }\n\n  update(time, delta){\n    if (this.succeed) return\n    // update interval\n    this.shootingInterval += 1\n\n    const completed = this.enemies.getLength() === 0\n    if (!completed) return\n    \n    this.succeed = true\n    // lazy change scene to congratulation!\n    setTimeout(() => {\n      this.onGameSuccess()\n      this.scene.start(\n        'congratulations', \n        { msg: 'You completed the [Clone Army] project!'}\n      )\n    }, 300)\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n   bingo(_, success) {\n    if (this.complete) return\n\n    if (!success) return // success is a must\n\n    this._createGuideText('Bingo! continue shooting those aliens!', 70, 20)\n    this._createTextBouncing()\n    // add more soliders...\n    const rows = 4\n    const yPositionStart = 110\n    for (var i=5; i<10; i++) {\n      for (var j=0; j<rows; j++) {\n        var soldier = new Soldier(this, 20+i*20, yPositionStart+j*32, 'soldier', i*rows+j)\n        this.soldiers.add(soldier);\n      }\n    }\n    this.complete = true\n    return this.complete\n  }\n\n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n\n}\n\nclass Bullet extends Phaser.GameObjects.Image {\n  constructor(scene, x, y, texture){\n    super(scene, x, y, texture);\n    this.scene = scene;\n    this.scene.add.existing(this);\n    this.scene.physics.world.enableBody(this, 0); // dynamic body\n    this.setData('isDead', false);\n    this.born = 0\n    this.initY = y\n  }\n\n  // update position\n  update(time, delta) {\n    // moving...\n    this.x += delta * 0.6\n    this.y = this.initY // keep the bullet no gravity flying\n  }\n\n}\n\nclass Soldier extends Phaser.GameObjects.Sprite {\n  constructor(scene, x, y, texture, id){\n    super(scene, x, y, texture, 0) // stand\n    this.scene = scene;\n    this.scene.add.existing(this);\n    this.scene.physics.world.enableBody(this, 1); // static body\n    this.setData('id', id)\n    this.setData('fired', false)\n    this.setScale(0.6, 0.6);\n  }\n\n  fire() {\n    if (this.getData('fired')) return null\n\n    this.shootTimer = this.scene.time.addEvent({\n      delay: 200,\n      callback() {\n        this.setFrame(2) // lazy Kneeling\n        this.setData('fired', true) // lazy set fired\n      },\n      callbackScope: this,\n      loop: false,\n    });\n\n    return new Bullet(this.scene, this.x, this.y, 'bullet')\n  }\n\n  update() {\n    if (this.shootTimer === undefined) return\n    if (this.shootTimer === null) return\n    // lazy clear timer\n    if (this.getData('fired')) {\n      this.shootTimer.remove();\n      this.shootTimer = null\n    }\n  }\n\n}\n\nclass Enemy extends Phaser.GameObjects.Sprite {\n  constructor(scene, x, y, texture, id){\n    super(scene, x, y, texture)\n    this.scene = scene;\n    this.scene.add.existing(this);\n    this.scene.physics.world.enableBody(this, 0); // dynamic body\n    this.setData('id', id)\n    this.setData('isDead', false)\n    this.setScale(0.8, 0.8)\n    this.play('move')\n\n    const colors = [ 0xef658c, 0xff9a52, 0xffdf00, 0x31ef8c, 0x21dfff, 0x31aade, 0x5275de, 0x9c55ad, 0xbd208c ];\n    this.setTint(Phaser.Utils.Array.GetRandom(colors));\n  }\n\n  update(time, delta) {\n    if (!this.getData('isDead')) {\n      this.body.velocity.y = -5 // stand still\n    } else {\n      this.body.velocity.y = 100 // drop down...\n    }\n  }\n\n}\n\nexport default CloneArmy","import Phaser from 'phaser';\n\n\nclass LavaAdventure extends Phaser.Scene {\n  constructor(){\n    super('LavaAdventure');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // tile layers\n    this.background = null\n    this.docker = null\n    // failed after player y > 180\n    this.failed = false\n    // actions to go\n    this.actions = []\n    // hit the pivot\n    this.pivotHolded = false\n    // hit the exit\n    this.exitHitted = false\n    // manager\n    this.actionManager = null\n  }\n\n  init() {\n    this.failed = false\n  }\n\n  preload(){\n    this.load.image('sky', 'assets/skies/sunset.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/kenney_redux_64x64.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/lavaAdventure.json')\n    this.load.spritesheet(\n      'player', \n      'assets/sprites/player_tilesheet.png', \n      { frameWidth: 80, frameHeight: 110 }\n    );\n    \n    this.load.audio('lose', 'assets/audio/arcade_resources_sounds_lose4.mp3');\n  }\n  \n  create(){\n    this.add.image(300, 102, 'sky')\n\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('adventure', 'tiles');\n\n    this.background = map.createLayer('background', tiles, -40, 0);\n    this.background.setCollision([2, 13,]) // 2: wall, 13: grass block, 96: exit\n    this.exits = this.background.filterTiles(tile => tile.index === 96)\n    \n    this.docker = map.createLayer('docker', tiles, -40, 0)\n    this.docker.setCollision([42, 54]) // road tiles\n    this.pickups = this.docker.filterTiles(tile => tile.index === 190);\n\n    this.pivoted = map.createLayer('pivoted', tiles, -40, 0)\n    this.pivoted.setVisible(false) // hide first\n    this.pivoted.setCollision([42, 54]) // road tiles\n\n    this._createPlayer()\n    this._createPlayerAnimation()\n\n    // set layer collision\n    this.physics.add.collider(this.background, this.player);\n    this.physics.add.collider(this.docker, this.player);\n    this.physics.add.collider(this.pivoted, this.player);\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n    // disable space key presss, conflict with monaco editor\n    this.input.keyboard.removeCapture(32);\n    this.loseSound = this.sound.add('lose')\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(20, 0, 'player', 0);\n    this.player.setBounce(0.2);\n    this.player.setScale(0.4, 0.4);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n  }\n\n  _createPlayerAnimation() {\n    this.anims.create({\n        key: 'turn',\n        frames: [ { key: 'player', frame: 0 } ],\n        frameRate: 6\n    });\n\n    this.anims.create({\n        key: 'left',\n        frames: this.anims.generateFrameNumbers('player', { start: 10, end: 9 }),\n        frameRate: 6,\n        repeat: -1\n    });\n\n    this.anims.create({\n        key: 'right',\n        frames: this.anims.generateFrameNumbers('player', { start: 9, end: 10 }),\n        frameRate: 6,\n        repeat: -1\n    });\n\n    this.anims.create({\n      key: 'jump',\n      frames: [ { key: 'player', frame: 1 } ],\n      frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'hold',\n      frames: [ { key: 'player', frame: 11 } ],\n      frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'pivot',\n      frames: this.anims.generateFrameNumbers('player', { start: 13, end: 14 }),\n      frameRate: 6,\n      repeat: 1\n    });\n\n    this.anims.create({\n      key: 'fall',\n      frames: [ { key: 'player', frame: 4 } ],\n      frameRate: 6\n    });\n\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(50, 20, message, { fill: '#ffff00', fontSize: 18 });\n  }\n\n  _goIdle() {\n    this.player.setVelocityX(0);\n    this.player.play('turn');\n  }\n\n  _goDrop() {\n    this.player.play('fall');\n\n    if (this.loseSound.isPlaying) return\n    this.loseSound.play()\n  }\n\n  _gameFailed() {\n    this.failed = true\n    setTimeout(() => {\n      this.scene.start(\n        'gamefailed', \n        { scene: 'LavaAdventure'}\n      )\n    }, 200)\n  }\n\n  _hitPivot() {\n    this.pivotHolded = true\n  }\n\n  _hitExit() {\n    this.exitHitted = true\n  }\n\n  _manualControl() {\n    if (this.cursors.left.isDown) {\n      this.player.setVelocityX(-160);\n      return this.player.play('left', true);\n    } else if (this.cursors.right.isDown) { // walk right\n      this.player.setVelocityX(90);\n      return this.player.play('right', true);\n    }\n    if (this.cursors.up.isDown && this.player.body.blocked.down){\n      // this.player.play('jump');\n      return this.player.setVelocityY(-160);\n    }\n    this.player.setVelocityX(0);\n    this.player.play('turn');\n\n    if (this.exitHitted) {\n      this._successHandler()\n    }\n  }\n\n  /**\n   * check collision before mannual and auto mode\n   */\n  _collisionCheck() {\n    this.physics.world.overlapTiles(this.player, this.pickups, this._hitPivot, null, this);\n    this.physics.world.overlapTiles(this.player, this.exits, this._hitExit, null, this);\n  }\n\n  /**\n   * **********  GAME UPDATE CALLBACK  *************\n   * @returns \n   */\n  update(){\n    if (this.failed || this.succeed) return\n\n    if (this.player.y > 180) {\n      return this._gameFailed()\n    }\n\n    if (this.player.y > 120) {\n      return this._goDrop()\n    }\n\n    this._collisionCheck()\n\n    // manual mode\n    if (!this.actionManager || this.actionManager.isEnd()) {\n      return this._manualControl()\n    }\n\n    // auto mode\n    const state = {\n      pivotHit: this.pivotHolded, \n      exitHit: this.exitHitted\n    }\n    this.actionManager.update(state)\n  }\n\n  _goStart() {\n    // back to start\n    this.player.setPosition(20, 60)\n    this.pivotHolded = false\n    this.docker.setVisible(true)\n    this.pivoted.setVisible(false)\n    this.pivoted.x = -40\n    this._goIdle()\n  }\n\n  _successHandler() {\n    this.succeed = true\n    this.onGameSuccess()\n    this.scene.start(\n      'congratulations', \n      { msg: 'You completed the [Lava Adventure] project!'}\n    )\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(steps = [], success) {\n    this._goStart()\n\n    const actions = steps.map(\n      step => new Action(this.player, step)\n    )\n\n    this.actionManager = new ActionManager(\n      actions,\n      {\n        player: this.player,\n        dockerLayer: this.docker,\n        pivotLayer: this.pivoted,\n      },\n      this._successHandler.bind(this)\n    )\n\n    if (success) {\n      this._createGuideText('Bingo! walk and jump to EXIT!')\n    }\n\n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nclass Action {\n\n  constructor(player, step, updateCallback=null) {\n    this.player = player\n    this.step = step\n    this.frameCounter = 0\n    this.frameTotal = 40\n    this._parse(step)\n    this.onUpdate = updateCallback\n  }\n\n  _parse(step) {\n    this.name = Object.keys(step)[0]\n    this.length = step[this.name]\n    if (this.length) {\n      this.frameTotal *= this.length\n    } else {\n      this.frameTotal = 12 // for pivot\n    }\n  }\n\n  toString() {\n    return '>>> action: ' + this.name\n  }\n\n  _goRight() {\n    this.player.setVelocityX(90);\n    this.player.play('right', true);\n  }\n\n  _goJump() {\n    this.player.play('jump');\n    this.player.setVelocityX(100);\n    this.player.setVelocityY(-140);\n  }\n\n  _goPivot() {\n    this.player.setVelocityX(0);\n    this.player.play('pivot', true);\n    this.player.setScale(0.6, 0.6)\n  }\n\n  _goTransport() {\n    this.player.play('turn');\n    this.player.setScale(0.4, 0.4)\n    this.player.x += 1\n  }\n\n  _goIdle() {\n    this.player.setVelocityX(0);\n    this.player.play('turn');\n  }\n\n  update() {\n    if (this.frameCounter > this.frameTotal) return\n    \n    const actionToFunction = {\n      walk : this._goRight.bind(this),\n      jump : this._goJump.bind(this),\n      pivot: this._goPivot.bind(this),\n      transport: this._goTransport.bind(this),\n      idle: this._goIdle.bind(this),\n    }\n    // safety check\n    if (!actionToFunction[this.name]) return\n    \n    // execute the action\n    actionToFunction[this.name]()\n\n    if (this.onUpdate) this.onUpdate()\n\n    this.frameCounter += 1\n  }\n\n  isEnd() {\n    return this.frameCounter >= this.frameTotal\n  }\n\n}\n\n\nclass ActionManager {\n\n  constructor(\n    actions = [], \n    context = { player: null, dockerLayer: null, pivotLayer: null }, \n    exitCallback = null\n  ) {\n    this.actions = actions\n    this.state = {}\n    this.moveCounter = 0\n    this.context = context\n    this.onExit = exitCallback\n  }\n\n  update(state = {pivotHit: false, exitHit: false}) {\n    this.state = state\n    // game complete!\n    if (!this.actions.length) return\n\n    this.moveCounter += 1 // lazy action execution counter\n    // waiting for bingo calling repetition until last update\n    if (this.moveCounter < 24) return\n\n    const action = this.actions[0]\n    // action running...\n    action.update()\n\n    if (!action.isEnd()) return // still need update current action\n\n    // remove first action after it completion\n    this.actions.shift()\n\n    // pivot action, and hit the pivot trigger\n    if (action.name === 'pivot' && this.state.pivotHit) {\n      this.context.dockerLayer.setVisible(false)\n      this.context.pivotLayer.setVisible(true)\n      // insert next action: transport\n      this.actions.unshift(new Action(\n        this.context.player, \n        {transport: 2}, // move steps\n        () => this.context.pivotLayer.x += 1\n      ))\n    }\n\n    // reach the exit trigger\n    if (action.name === 'jump' && this.state.exitHit) {\n      this.actions.unshift(new Action(\n        this.context.player,\n        {walk: 0},\n      ))\n      this.actions.unshift(new Action(\n        this.context.player,\n        {idle: 1},\n      ))\n    }\n\n    // end of all actions\n    if (this.actions.length === 0 && this.state.exitHit) {\n      if (this.onExit) this.onExit()\n    }\n\n  }\n\n  isEnd() {\n    return this.actions.length === 0\n  }\n\n}\n\nexport default LavaAdventure","import Phaser from 'phaser';\n\nclass MakeYourPath extends Phaser.Scene {\n  \n  constructor(){\n    super('MakeYourPath');\n    this.blankRows = [\n      [ 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, ], // - row blank\n      [ 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, ], // - row blank\n      [ 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 151, ], // - row blank, last tile is Door\n    ]\n    this.level0 = [\n      ...this.blankRows,\n      [ 12, 107, 12, 107, 12, 107, 12, 107, 12, 107, 12, 107, 12, 107, 12, 107, 12, 107, 12,  ], // - ** path row **\n      [ 1, 107, 1, 107, 1, 107, 1, 107, 1, 107, 1, 107, 1, 107, 1, 107, 1, 107, 1, ], // - row blank\n      [ 1, 10, 1, 10, 1, 10, 1, 10, 1, 10, 1, 10, 1, 10, 1, 10, 1, 10, 1, ], // - row lava\n    ]\n    this.level1 = [\n      ...this.blankRows,\n      [ 107, 122, 107, 122, 107, 122, 107, 122, 107, 122, 107, 122, 107, 122, 107, 122, 107, 122, 107, ], // - ** path row **\n    ]\n    this.pickups = []\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // debug flag\n    this.debug = false\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n  }\n\n  preload() {\n    this.load.image('tileskenney', 'assets/tilemaps/tiles/kenney_redux_64x64.png');\n    this.load.spritesheet('dude', 'assets/sprites/dude.png', { frameWidth: 32, frameHeight: 48 });\n  }\n\n  _createGroundLayer(tilesArray) {\n    // When loading from an array, make sure to specify the tileWidth and tileHeight\n    var map = this.make.tilemap({ data: tilesArray, tileWidth: 64, tileHeight: 64 });\n    var tiles = map.addTilesetImage('tileskenney');\n    var groundLayer = map.createLayer(0, tiles, 0, 42);\n    groundLayer.setScale(0.5, 0.5);\n    groundLayer.setCollision([12, 122]) // 12, 122 is the tile id of path row\n\n    // get exit tile\n    if (this.pickups.length === 0) {\n      this.pickups = map.filterTiles(tile => tile.index === 151);\n    }\n\n    return groundLayer\n  }\n\n  _createPlayerAnimation() {\n    this.anims.create({\n        key: 'left',\n        frames: this.anims.generateFrameNumbers('dude', { start: 0, end: 3 }),\n        frameRate: 10,\n        repeat: -1\n    });\n\n    this.anims.create({\n        key: 'turn',\n        frames: [ { key: 'dude', frame: 4 } ],\n        frameRate: 20\n    });\n\n    this.anims.create({\n        key: 'right',\n        frames: this.anims.generateFrameNumbers('dude', { start: 5, end: 8 }),\n        frameRate: 10,\n        repeat: -1\n    });\n\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(0, 0, 'dude');\n    this.player.setBounce(0.2);\n    this.player.setScale(0.8, 0.8)\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1) // put front\n  }\n\n  _createPlayerBouncing() {\n    this.tweens.add({\n      targets: this.player,\n      y: 50,\n      duration: 500,\n      repeat: 2,\n      paused: false,\n      yoyo: true\n    });\n  }\n\n  _createTextBouncing() {\n    this.tweens.add({\n      targets: this.guideTxt,\n      y: 20,\n      duration: 500,\n      repeat: 3,\n      paused: false,\n      yoyo: true\n    });\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ffff00' });\n  }\n\n  create() {\n    // create ground layer first\n    var groundLayer = this._createGroundLayer(this.level0)\n\n    // then, create player\n    this._createPlayer()\n    this._createPlayerAnimation();\n    this._createGuideText('Watch out!')\n    \n    // set layer collision\n    this.physics.add.collider(groundLayer, this.player);\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n    this.input.keyboard.removeCapture(32) // disable space key presss, conflict with monaco editor\n  }\n\n  update() {\n\n    if (this.cursors.left.isDown) {\n        this.player.setVelocityX(-160);\n        this.player.anims.play('left', true);\n    } else if (this.cursors.right.isDown) { // walk right\n        this.player.setVelocityX(80);\n        this.player.anims.play('right', true);\n    } else {\n        this.player.setVelocityX(0);\n        this.player.anims.play('turn');\n    }\n    // Disable jump\n    if (this.cursors.up.isDown && this.player.body.blocked.down){\n        // this.player.setVelocityY(-150);\n    }\n\n    // check collision\n    this.physics.world.overlapTiles(this.player, this.pickups, this._hitExit, null, this);\n  }\n\n  _hitExit() {\n    if (this.succeed) return\n\n    // lazy change scene to congratulation!\n    setTimeout(() => {\n      this.onGameSuccess()\n      this.scene.start(\n        'congratulations', \n        { msg: 'You completed the [Make Your Path] chapter!' }\n      )\n    }, 300)\n\n    this.succeed = true\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(bridge) {\n    if (this.complete) return\n    // reset player\n    this.player.setPosition(0, 80)\n\n    const bricks = []\n    if (Array.isArray(bridge)) {\n      // add the missing bricks\n      bridge.forEach((brick, index) => {\n        if (index % 2 === 0) bricks.push(107)\n        if (index % 2 === 1 && brick === 1) bricks.push(122)\n      })\n    }\n    // FIXME: restrict bricks to 18 blocks @2021/12/16\n    const withBlankLines = [...this.blankRows, bricks.slice(0, 18)]\n    const bridgeLayer = this._createGroundLayer(withBlankLines)\n    this.physics.add.collider(bridgeLayer, this.player);\n\n    const expectSum = bridge.reduce((a, b) => a + b, 0)\n    if (expectSum !== 18) return // not successful\n    \n    this._createGuideText('Bingo! Move player toward Exit with RIGHT ARROW key!')\n    // this._createPlayerBouncing()\n    this._createTextBouncing()\n    \n    this.complete = true\n\n    return this.complete\n  }\n\n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nexport default MakeYourPath","import Phaser from 'phaser';\n\nclass GuessMyName extends Phaser.Scene {\n\n  constructor(){\n    super('GuessMyName');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.pickups = []\n    this.layerHoriOffset = -40\n  }\n\n  preload(){\n    this.load.image('sky', 'assets/skies/sky2.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/platformPack_tilesheet.png');\n    this.load.image('letters', 'assets/tilemaps/tiles/yellow_spritesheet_512.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/guessMyName.json')\n    // player sprite sheet\n    this.load.spritesheet(\n      'player', \n      'assets/sprites/platformerPack_character.png', \n      { frameWidth: 96, frameHeight: 96 }\n    );\n  }\n    \n  create(){\n    this.add.image(300, 102, 'sky')\n\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('platform', 'tiles');\n    var tiles2 = map.addTilesetImage('letters512', 'letters')\n\n    this.background = map.createLayer('background', tiles, this.layerHoriOffset, 0);\n    this.background.setCollision([18, 60])\n\n    this.lockerLayer = map.createLayer('lock', tiles, this.layerHoriOffset, 0);\n    this.keyLayer = map.createLayer('key', tiles, this.layerHoriOffset, 0);\n    this.lettersLayer = map.createLayer('letters', tiles2, this.layerHoriOffset, 0);\n    this.caillouLayer = map.createLayer('caillou', tiles2, this.layerHoriOffset, 0);\n    this.caillouLayer.setVisible(false)\n\n    this.ladderLayer = map.createLayer('ladder', tiles, this.layerHoriOffset, 0);\n    this.ladderLayer.setVisible(false)\n    \n    this._collisionTiles(this.background, this.ladderLayer, this.keyLayer)\n    this._createPlayerAnimation()\n    this._createPlayer()\n\n    this.collider = this.physics.add.collider(this.background, this.player);\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n    // disable space key presss, conflict with monaco editor\n    this.input.keyboard.removeCapture(32);\n\n    this._createGuideText('Move the robot by pressing RIGHT KEY!')\n  }\n\n  _collisionTiles(bgLayer, ladderLayer, keyLayer) {\n    if (this.pickups.length) return\n    // get door\n    var doors = bgLayer.filterTiles(tile => tile.index === 76)\n    this.pickups = this.pickups.concat(doors)\n    // get ladder\n    var ladders = ladderLayer.filterTiles(tile => tile.index === 58)\n    this.pickups = this.pickups.concat(ladders)\n    // get keys\n    var keys = keyLayer.filterTiles(tile => tile.index === 65)\n    this.pickups = this.pickups.concat(keys)\n  }\n\n  _createPlayer() {\n    // y position below 30 to invoke jump!\n    this.player = this.physics.add.sprite(100, 30, 'player', 0);\n    this.player.setBounce(0.2);\n    this.player.setScale(0.6, 0.6);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n    this.player.play('jump')\n  }\n\n  _createPlayerAnimation() {\n    this.anims.create({\n        key: 'turn',\n        frames: [ { key: 'player', frame: 0 } ],\n        frameRate: 6\n    });\n\n    this.anims.create({\n        key: 'jump',\n        frames: [ { key: 'player', frame: 1 } ],\n        frameRate: 6\n    });\n\n    this.anims.create({\n        key: 'left',\n        frames: this.anims.generateFrameNumbers('player', { start: 3, end: 2 }),\n        frameRate: 6,\n        repeat: -1\n    });\n\n    this.anims.create({\n        key: 'right',\n        frames: this.anims.generateFrameNumbers('player', { start: 2, end: 3 }),\n        frameRate: 6,\n        repeat: -1\n    });\n\n    this.anims.create({\n      key: 'climb',\n      frames: this.anims.generateFrameNumbers('player', { start: 4, end: 5 }),\n      frameRate: 6\n    });\n\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ffff00' });\n  }\n\n  _manualControl() {\n    if (this.cursors.left.isDown) {\n      // FIXME: prevent player falling down to the ground from 2nd floor\n      if (this.player.y < 40 && this.player.x < 300) {\n        return this.player.setVelocityX(0);\n      }\n      this.player.setVelocityX(-160);\n      return this.player.play('left', true);\n    } else if (this.cursors.right.isDown) { // walk right\n      this.player.setVelocityX(90);\n      return this.player.play('right', true);\n    }\n\n    // to the end of ladder, jump to the ground\n    if (this.hitLadder && this.player.y < 40) {\n      this.player.setVelocityY(0)\n      this.player.setPosition(320, 0)\n      this.background.setCollision(60, true) // enable landing to the 2nd floor ground!\n      return\n    }\n\n    // climbing the ladder...\n    if (this.cursors.up.isDown && this.hitLadder) {\n      this.player.setVelocityY(-90);\n      return this.player.play('climb', true);\n    }\n    \n    // hold the ladder...\n    if (this.hitLadder) {\n      this.player.setVelocityX(0)\n      return this.player.play('climb');\n    }\n\n    var ySpeed = this.player.body.velocity.y\n    var isStatic = Math.ceil(Math.abs(ySpeed)) === 1\n\n    this.player.setVelocityX(0);\n\n    if (isStatic) this.player.play('turn');\n  }\n\n  /**\n   * touch enough to consider a real hit\n   * @param {Sprite} player \n   * @param {Tile} tile \n   * @param {Number} distance \n   * @returns true or false\n   */\n   _closeEnough(player, tile, distance) {\n    var tileCenterX = tile.x * 64 + 32 + this.layerHoriOffset\n    var playerCenterX = player.body.center.x\n    var horiDifference = Math.round(Math.abs(tileCenterX - playerCenterX))\n    return distance > horiDifference\n  }\n\n  _hitTile(player, tile) {\n    if (!this._closeEnough(player, tile, 20)) return\n\n    if (tile.index === 65) {// hit the key, unlock the proceeding items\n      this.hitKey = true\n      this.lockerLayer.setVisible(false)\n      this.ladderLayer.setVisible(true)\n      this.keyLayer.setVisible(false)\n    }\n    if (tile.index === 76) {// hit the door\n      this.succeed = true // end of  game!\n    }\n\n    if (!this.hitKey) return // pickup key first!\n    if (tile.index === 58) {// after picked key to allow hit ladder\n      this.hitLadder = true\n    }\n  }\n\n  update() {\n    if (this.succeed) return\n\n    // 1. reset hit flag\n    this.hitLadder = false\n\n    // 2. detect hit the key, and show the ladder...\n    this.physics.world.overlapTiles(this.player, this.pickups, this._hitTile, null, this);\n\n    // 3. check hit flag, and set anction\n    this._manualControl()\n\n    // 4. hit the exit\n    if (this.succeed) {\n      this.scene.start(\n        'congratulations', \n        { msg: 'You completed the [Guess My Name] chapter!' }\n      );\n      this.onGameSuccess()\n    }\n  }\n\n  /**\n   * exposure to outside of game\n   * @returns nothing\n   */\n  bingo(answer, success) {\n    if (answer !== 'CA') return\n\n    this._createGuideText('Bingo! Walk right to pickup the key using RIGHT KEY!')\n    this.background.setCollision(60, false) // remove the block collision\n    this.caillouLayer.setVisible(true)\n\n    this.complete = true\n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nexport default GuessMyName","import Phaser from 'phaser';\n\nclass SphinxRiddle extends Phaser.Scene {\n\n  constructor(){\n    super('SphinxRiddle');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.pickups = []\n    this.layerHoriOffset = -40\n  }\n\n  preload(){\n    this.load.image('egypt', 'assets/skies/pyramid_desert_sm.jpg');\n    this.load.image('sphinx', 'assets/sprites/sphinx_sm.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/platformPack_tilesheet.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/sphinxRiddle.json');\n    // player sprite sheet\n    this.load.spritesheet(\n      'player', \n      'assets/sprites/adventurer_tilesheet.png', \n      { frameWidth: 80, frameHeight: 110 }\n    );\n  }\n    \n  create(){\n    this.egypt = this.add.image(300, 80, 'egypt');\n    this.sphinx = this.add.image(500, 100, 'sphinx');\n\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('platform', 'tiles');\n    this.floorLayer = map.createLayer('background', tiles, -40, 0);\n    this.floorLayer.setCollision(4)\n    this.boxesLayer = map.createLayer('boxes', tiles, -60, 0);\n    this.doorLayer = map.createLayer('door', tiles, -40, 0);\n    this.doorLayer.setVisible(false);\n  \n    this._createAnimation()\n    this._createPlayer()\n\n    this.physics.add.collider(this.floorLayer, this.player);\n    this.cursors = this.input.keyboard.createCursorKeys();\n    // disable space key presss, conflict with monaco editor\n    this.input.keyboard.removeCapture(32);\n\n    // get door\n    var doors = this.doorLayer.filterTiles(tile => tile.index === 76)\n    this.pickups = this.pickups.concat(doors)\n\n    var popup = this._createDialog.bind(this)\n    setTimeout(popup, 1000)\n  }\n\n  _createDialog() {\n    var dialogX = 140\n    var dialogY = 30\n    var dialogW = 300\n    var dialogH = 100\n    var dialogR = 6\n\n    var graphics = this.add.graphics();\n    graphics.lineStyle(2, 0xff0000, 1);\n    graphics.strokeRoundedRect(dialogX, dialogY, dialogW, dialogH, dialogR);\n    graphics.fillStyle(0xffff00, 0.6);\n    graphics.fillRoundedRect(dialogX, dialogY, dialogW, dialogH, dialogR);\n    // What goes on four feet in the morning, two feet at noon, and three feet in the evening? \n    var content = [\n        \"What goes on four feet in the morning, \",\n        \"two feet at noon, and three feet in the\",\n        \"evening? Anwser is hidden in the two\",\n        \"boxes, which box hold the right anwser!\",\n    ];\n\n    this.dialog = this.add.text(\n      dialogX+8, \n      dialogY+8, \n      content, \n      { fontFamily: 'Arial', color: '#000000'}\n    );\n    this.dialog.setLineSpacing(6);\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ffff00' });\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(100, 60, 'player', 0);\n    this.player.setBounce(0.2);\n    this.player.setScale(0.5, 0.5);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n  }\n\n  _createAnimation() {\n    this.anims.create({\n        key: 'turn',\n        frames: [ { key: 'player', frame: 0 } ],\n        frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'left',\n      frames: this.anims.generateFrameNumbers('player', { start: 10, end: 9 }),\n      frameRate: 6,\n      repeat: -1\n  });\n\n  this.anims.create({\n      key: 'right',\n      frames: this.anims.generateFrameNumbers('player', { start: 9, end: 10 }),\n      frameRate: 6,\n      repeat: -1\n  });\n\n  this.anims.create({\n    key: 'jump',\n    frames: [ { key: 'player', frame: 1 } ],\n    frameRate: 6\n  });\n\n  }\n\n  _manualControl() {\n    if (this.cursors.left.isDown) {\n      this.player.setVelocityX(-160);\n      return this.player.play('left', true);\n    } else if (this.cursors.right.isDown) { // walk right\n      this.player.setVelocityX(90);\n      return this.player.play('right', true);\n    }\n    if (this.cursors.up.isDown){\n        this.player.play('jump');\n      if (this.player.body.blocked.down)\n        return this.player.setVelocityY(-160);\n    }\n\n    var ySpeed = this.player.body.velocity.y\n    var isStatic = Math.ceil(Math.abs(ySpeed)) === 1\n\n    this.player.setVelocityX(0);\n\n    if (isStatic) this.player.play('turn');\n\n    // if (this.exitHitted) {\n    //   this._successHandler()\n    // }\n  }\n\n  /**\n   * touch enough to consider a real hit\n   * @param {Sprite} player \n   * @param {Tile} tile \n   * @param {Number} distance \n   * @returns true or false\n   */\n   _closeEnough(player, tile, distance) {\n    var tileCenterX = tile.x * 64 + 32 + this.layerHoriOffset\n    var playerCenterX = player.body.center.x\n    var horiDifference = Math.round(Math.abs(tileCenterX - playerCenterX))\n    return distance > horiDifference\n  }\n\n  _hitTile(player, tile) {\n    if (!this.complete) return\n    if (!this._closeEnough(player, tile, 10)) return\n\n    this.succeed = true // end of  game!\n  }\n\n  update(){\n    if (this.succeed) return\n\n    // detect hit the key, and show the ladder...\n    this.physics.world.overlapTiles(this.player, this.pickups, this._hitTile, null, this);\n    \n    this._manualControl()\n\n    if (this.succeed) {\n      this.scene.start(\n        'congratulations', \n        { msg: 'You completed the [Riddle of Sphinx] chapter!' }\n      );\n      this.onGameSuccess()\n    }\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(_, done) {\n    if (!done) return\n\n    this.dialog.setText([\n      \"Bingo!\",\n      \"press RIGHT ARROW KEY\",\n      \"toward door to complete this game!\"\n    ])\n\n    this.doorLayer.setVisible(true)\n    this.complete = true\n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nexport default SphinxRiddle","import Phaser from 'phaser';\n\n\nclass WhichWayToGo extends Phaser.Scene {\n\n  constructor(){\n    super('WhichWayToGo');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.layerHoriOffset = -40\n    // path tiles player can walk\n    this.paths = {\n      1 : [{x: 1, y: 2}, {x: 1, y: 3}, ],\n      2 : [{x: 1, y: 2}, {x: 2, y: 2}, {x: 3, y: 2}, {x: 3, y: 1}, {x: 4, y: 1}, {x: 4, y: 2}, {x: 5, y: 2}],\n      3 : [{x: 1, y: 2}, {x: 2, y: 2}, {x: 3, y: 2}, {x: 3, y: 3}, {x: 4, y: 3}, {x: 5, y: 3}, {x: 6, y: 3}],\n      4 : [\n        {x: 1, y: 2}, {x: 1, y: 1, rm: true}, {x: 1, y: 0}, {x: 2, y: 0}, {x: 3, y: 0}, {x: 4, y: 0}, {x: 5, y: 0}, \n        {x: 5, y: 1}, {x: 6, y: 1}, {x: 6, y: 0, rm: true}, {x: 7, y: 0}, {x: 8, y: 0}, {x: 9, y: 0}\n      ],\n      5 : [\n        {x: 1, y: 2}, {x: 1, y: 1}, {x: 1, y: 0}, {x: 2, y: 0}, {x: 3, y: 0}, {x: 4, y: 0}, {x: 5, y: 0}, \n        {x: 5, y: 1}, {x: 6, y: 1}, {x: 7, y: 1}, {x: 8, y: 1}\n      ],\n      6 : [\n        {x: 1, y: 2}, {x: 1, y: 1}, {x: 1, y: 0}, {x: 2, y: 0}, {x: 3, y: 0}, {x: 4, y: 0}, {x: 5, y: 0}, \n        {x: 5, y: 1}, {x: 6, y: 1}, {x: 6, y: 2}, {x: 7, y: 2}\n      ],\n    }\n    // walking player\n    this.walker = null\n  }\n\n  preload(){\n    this.load.image('ground', 'assets/tilemaps/tiles/terrainTiles_default.png');\n    this.load.image('platform', 'assets/tilemaps/tiles/platformPack_tilesheet.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/whichWaytogo.json');\n    // player sprite sheet\n    this.load.spritesheet(\n      'player', \n      'assets/sprites/spritesheet_enemies.png', \n      { frameWidth: 128, frameHeight: 130 }\n    );\n  }\n    \n  create(){\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('terrain', 'ground');\n    this.floor = map.createLayer('background', tiles, -40, 0);\n\n    var tiles2 = map.addTilesetImage('tools', 'platform');\n    this.tools = map.createLayer('tools', tiles2, -40, 0)\n\n    this._createAnimation()\n    this._createPlayer()\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ff0000' });\n  }\n\n  _createAnimation() {\n    this.anims.create({\n        key: 'idle',\n        frames: this.anims.generateFrameNumbers('player', { frames: [41, 49, 57 ] }),\n        frameRate: 3,\n        repeat: -1\n    });\n\n    this.anims.create({\n        key: 'move',\n        frames: this.anims.generateFrameNumbers('player', { start: 41, end: 57 }),\n        frameRate: 2,\n        repeat: -1\n    });\n\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(20, 154, 'player', 57);\n    this.player.setBounce(0.2);\n    this.player.setScale(0.25, 0.25);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n    this.player.body.setAllowGravity(false)\n    this.player.play('idle', true)\n  }\n\n  _successHandler() {\n    this.succeed = true\n    this.onGameSuccess()\n    this.scene.start(\n      'congratulations', \n      { msg: 'You completed the [Which Way to Go] project!'}\n    )\n  }\n\n  _onCellChange(tile) {\n    if (!tile.rm) return\n    this.tools.removeTileAt(tile.x, tile.y)\n  }\n\n  update(){\n    if (!this.walker || this.succeed) return\n\n    // walker by path tiles\n    this.walker.update()\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(path, success) {\n    if (!success) return false\n\n    this.walker = new GridWalker(\n      this.player, \n      this.paths[path.id],\n      this._onCellChange.bind(this),\n      this._successHandler.bind(this)\n    )\n    this._createGuideText('Bingo!')\n\n    return true\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nclass CellStep {\n  constructor(player, tile){\n    this.player = player\n    this.tile = tile\n    this.speed = 60 // do not change this value!\n    this.toTheEnd = false\n  }\n\n  update() {\n    if (this.toTheEnd) return\n\n    let threshold = 1\n    let layerXOffset = -10\n    let layerYOffset = 26\n    let xDiff = this.tile.x * 64 + layerXOffset - this.player.x\n    let yDiff = this.tile.y * 64 + layerYOffset - this.player.y\n    // stop\n    let maxDiff = Math.max(Math.abs(xDiff), Math.abs(yDiff))\n    if (maxDiff === threshold) {\n      console.log('>>> one step is end!');\n      this.toTheEnd = true\n      return this.player.setVelocity(0, 0)\n    }\n\n    if (xDiff > threshold) {\n      return this._goRight()\n    }\n    if (yDiff > threshold) {\n      return this._goDown()\n    }\n    if (yDiff < -threshold) {\n      return this._goTop()\n    }\n  }\n\n  _goRight() {\n    this.player.setVelocityX(this.speed);\n  }\n\n  _goTop() {\n    this.player.setVelocityY(-this.speed);\n  }\n\n  _goDown() {\n    this.player.setVelocityY(this.speed);\n  }\n\n  isEnd() {\n    return this.toTheEnd\n  }\n} \n\n\nclass GridWalker {\n  constructor(player, tiles, cellFinishCallback, exitCallback){\n    this.steps = tiles.map(\n      tile => new CellStep(player, tile)\n    );\n    this.moveCounter = 0;\n    this.onCellChange = cellFinishCallback;\n    this.onExit = exitCallback;\n  }\n\n  update(){\n    // game complete!\n    if (!this.steps.length) return\n\n    this.moveCounter += 1 // lazy action execution counter\n    // waiting for bingo calling repetition until last update\n    if (this.moveCounter < 24) return\n    \n    // get recent step to update\n    const headStep = this.steps[0]\n    headStep.update()\n\n    if (!headStep.isEnd()) return // still need update current action\n\n    // remove first step after it completion\n    this.steps.shift()\n    this.onCellChange(headStep.tile)\n\n    if (!this.steps.length) {\n      this.onExit()\n    }\n  }\n}\n\n\nexport default WhichWayToGo","import Phaser from 'phaser';\n\n\nclass FlyThemUp extends Phaser.Scene {\n\n  constructor(){\n    super('FlyThemUp');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.layerHoriOffset = -40\n  }\n\n  preload(){\n    this.load.image('sky', 'assets/skies/toxic.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/tilesheet_complete.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/flyThemUp.json');\n    this.load.spritesheet(\n      'soldiers', \n      'assets/sprites/soldiers.png', \n      { frameWidth:32, frameHeight:38 }\n    );\n    this.load.spritesheet(\n      'battery', \n      'assets/sprites/battery.png', \n      { frameWidth:48, frameHeight:48 }\n    );\n    this.load.atlas(\n      'elves', \n      'assets/animations/elves-craft-pixel.png', \n      'assets/animations/elves-craft-pixel.json'\n    );\n  }\n  \n  create(){\n    this.add.image(0, 0, 'sky').setOrigin(0);\n\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('platform', 'tiles');\n\n    this.ground = map.createLayer('ground', tiles, -10, -20);\n    this.ground.setCollision([2, 50, 51])\n\n    this._createBatteries();\n    this._createAnimation();\n    this._createPlayer();\n    this._createSoldiers();\n\n    this.physics.add.collider(this.ground, this.player);\n  }\n\n  _createBatteries() {\n    this.batteries = this.add.group();\n    for (let i=2; i<=4; i++) {\n      let btr = this.add.sprite(36+i*12, 20, 'battery', i)\n      btr.setScale(0.4, 0.4)\n      this.batteries.add(btr)\n    }\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(50, 0, 'elves');\n    this.player.setBounce(0.2);\n    this.player.setScale(0.4, 0.4);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n    this.player.play('blueIdle')\n  }\n\n  _createSoldiers() {\n    this.soldiers = this.add.group([], {runChildUpdate: true});\n    var soldiersTotal = 12;\n    for (let i=0; i<soldiersTotal; i++) {\n      let soldier = this.physics.add.sprite(144+24*i, 22, 'soldiers', 0)\n      soldier.setBounce(0.2);\n      soldier.play('soldierIdle')\n      this.soldiers.add(soldier);\n      this.physics.add.collider(this.ground, soldier);\n    }\n  }\n\n  _createAnimation() {\n    this.anims.create({\n      key: 'greenIdle', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'green_idle_', start: 0, end: 4 }), \n      frameRate: 10, \n      repeat: -1\n    });\n    \n    this.anims.create({\n      key: 'blueIdle', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'blue_idle_', start: 0, end: 4 }), \n      frameRate: 10, \n      repeat: -1\n    });\n\n    this.anims.create({\n      key: 'greenAttack', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'green_attack_', start: 0, end: 5 }), \n      frameRate: 10\n    });\n\n    this.anims.create({\n      key: 'blueAttack', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'blue_attack_', start: 0, end: 4 }), \n      frameRate: 10\n    });\n\n    this.anims.create({\n      key: 'greenDead', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'green_die_', start: 0, end: 4 }), \n      frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'blueDead', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'blue_die_', start: 0, end: 4 }), \n      frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'soldierIdle', \n      frames: this.anims.generateFrameNames('soldiers', { start: 2, end: 3 }), \n      frameRate: 3,\n      repeat: -1\n    });\n\n    this.anims.create({\n      key: 'soldierFly', \n      frames: this.anims.generateFrameNames('soldiers', { start: 5, end: 9 }), \n      frameRate: 6,\n      repeat: -1\n    });\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ffff00' });\n  }\n\n  _successHandler() {\n    this.succeed = true\n    this.onGameSuccess()\n    this.scene.start(\n      'congratulations', \n      { msg: 'You completed the [Free Your Troops] project!'}\n    )\n  }\n\n  update(){\n    if (!this.troops) return\n\n    this.troops.update()\n    this.player.play('blueAttack', true)\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(troops, success) {\n    if (!success) return\n    // console.log(troops)\n\n    this._createGuideText('Bingo!')\n\n    // troops ready\n    this.troops = new TroopsOnMyControl(\n      this._successHandler.bind(this)\n    )\n    this.troops.launch(this.soldiers.getChildren())\n    this.batteries.destroy(true, true)\n\n    this.complete = true\n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\n\nclass SuperSoldier {\n\n  constructor(soldier, lazyLaunch){\n    this.soldier = soldier\n    this.launchTime = lazyLaunch\n    this.frameCounter = 0\n    this.accelerator = 0\n    this.outOfValley = false\n  }\n\n  update(){\n    this.frameCounter += 1\n    // waiting...\n    if (this.frameCounter < this.launchTime) \n      return\n    // out of top stage\n    if (this.soldier.y < -30) {\n      this.soldier.setVelocityY(0)\n      this.outOfValley = true\n      return\n    }\n    this.accelerator += 10\n    this.soldier.setVelocityY(-90 - this.accelerator)\n  }\n\n  isFree(){\n    return this.outOfValley\n  }\n}\n\n\nclass TroopsOnMyControl {\n\n  constructor(successCallback){\n    this.superSoldiers = null\n    this.moveCounter = 0\n    this.successHandler = successCallback\n  }\n\n  launch(soldiersInTrap){\n    this.superSoldiers = []\n    soldiersInTrap.forEach((soldier, index) => {\n      this.superSoldiers.push(\n        new SuperSoldier(soldier, index * 10)\n      )\n    })\n  }\n\n  update(){\n    this.moveCounter += 1 // lazy action execution counter\n    // waiting for bingo calling repetition until last update\n    if (this.moveCounter < 24) return\n\n    // fly all up\n    let allset = true\n    this.superSoldiers.forEach(soldier => {\n      soldier.update()\n      if (!soldier.isFree()) allset = false\n    })\n\n    if (allset) {\n      this.successHandler()\n    }\n  }\n\n  isEnd(){\n    // let allset = true\n    // this.superSoldiers.forEach(soldier => {\n    //   if (!soldier.isFree()) allset = false\n    // })\n    // return allset\n  }\n}\n\nexport default FlyThemUp","import Phaser from 'phaser';\n\n\nclass PassLiveBridge extends Phaser.Scene {\n\n  constructor(){\n    super('PassLiveBridge');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.layerHoriOffset = -40\n  }\n\n  init(){\n    // in case of failure, need reset these values\n    this.failed = false\n    this.pickups = []\n  }\n\n  preload(){\n    this.load.image('sky', 'assets/skies/space3.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/tilesheet_complete_32.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/passLiveBridge.json');\n    this.load.spritesheet(\n      'aliens',\n      'assets/sprites/aliens_green.png',\n      {frameWidth: 64, frameHeight: 96}\n    );\n  }\n  \n  create(){\n    this.add.image(0, 0, 'sky').setOrigin(0);\n    \n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('platform', 'tiles');\n    \n    this._createPlayerAnimation();\n    this._createPlayer();\n\n    this.lockerLayer = map.createLayer('layer_lock', tiles, -40, -20)\n    this.lockerLayer.setCollision(51)\n\n    this.exitLayer = map.createLayer('layer_exit', tiles, -40, -20)\n    this.exitLayer.setVisible(false)\n    this.exitLayer.setCollision(51)\n\n    this.keyLayer = map.createLayer('layer_key', tiles, -40, -20)\n    \n    this.layerGroup = this.add.group();\n    for (let i=1; i<9; i++) {\n      let layer = map.createLayer('layer_'+i, tiles, -40, -20);\n      layer.setCollision([118, 119, 52, 53])\n      this.layerGroup.add(layer)\n    }\n\n    var keys = this.keyLayer.filterTiles(tile => tile.index === 80);\n    this.pickups = this.pickups.concat(keys)\n    var doors = this.exitLayer.filterTiles(tile => tile.index === 152)\n    this.pickups = this.pickups.concat(doors)\n\n    this.physics.add.collider(this.layerGroup, this.player);\n    this.physics.add.collider(this.lockerLayer, this.player);\n    this.physics.add.collider(this.exitLayer, this.player);\n\n    this.platform = new MovingPlatform(\n      this.layerGroup,\n      this.tweens,\n      this.player\n    )\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n    // disable space key presss, conflict with monaco editor\n    this.input.keyboard.removeCapture(32);\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(50, 50, 'aliens');\n    this.player.setBounce(0.2);\n    this.player.setScale(0.5, 0.5);\n    this.player.setCollideWorldBounds(false);\n    this.player.setDepth(1)\n    this.player.play('idle')\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ffff00' });\n  }\n\n  _createPlayerAnimation() {\n\n    this.anims.create({\n      key: 'idle', \n      frames: this.anims.generateFrameNames('aliens', { frames: [0, 0, 0, 6, 6, 6] }),\n      frameRate: 2, \n      repeat: -1\n    });\n\n    this.anims.create({\n      key: 'walk', \n      frames: [ {key: 'aliens', frame: 3}, {key: 'aliens', frame: 4}, ],\n      frameRate: 2, \n      repeat: -1\n    });\n\n    this.anims.create({\n      key: 'swim', \n      frames: [ {key: 'aliens', frame: 9}, {key: 'aliens', frame: 10}, ],\n      frameRate: 2, \n      repeat: -1\n    });\n\n    this.anims.create({\n      key: 'jump', \n      frames: [ { key: 'aliens', frame: 8 } ],\n      frameRate: 2, \n    });\n\n    this.anims.create({\n      key: 'fall', \n      frames: [ { key: 'aliens', frame: 7 } ],\n      frameRate: 2, \n    });\n\n  }\n\n  /**\n   * touch enough to consider a real hit\n   * @param {Sprite} player \n   * @param {Tile} tile \n   * @param {Number} distance \n   * @returns true or false\n   */\n   _closeEnough(player, tile, distance, tileWidth = 32) {\n    var tileCenterX = tile.x * tileWidth + tileWidth/2 + this.layerHoriOffset\n    var playerCenterX = player.body.center.x\n    var horiDifference = Math.round(Math.abs(tileCenterX - playerCenterX))\n    return distance > horiDifference\n  }\n\n  _manualControl() {\n\n    if (this.cursors.left.isDown) { // walk left: ;\n      this.player.setVelocityX(-90);\n      return this.player.play('walk', true);\n    }\n    if (this.cursors.right.isDown) { // walk right\n      this.player.setVelocityX(90);\n      return this.player.play('walk', true);\n    }\n    if (this.cursors.up.isDown && this.player.body.blocked.down){\n      this.player.play('jump');\n      return this.player.setVelocityY(-180);\n    }\n\n    this.player.setVelocityX(0);\n    this.player.play('idle', true);\n\n    // check player falling down here!\n    if (this.player.y > 300) {\n      this.failed = true\n    }\n  }\n\n  _hitPickups(player, tile){\n    var hit = this._closeEnough(player, tile, 4)\n    if (!hit) return\n\n    if (tile.index === 80 && this.keyLayer) {\n      this.keyLayer.removeFromDisplayList()\n      this.keyLayer = null\n      this.exitLayer.setVisible(true)\n      this.hitKey = true\n    }\n    // hit the door\n    if (tile.index === 152 && this.hitKey) {\n      this.hitExit = true\n    }\n\n  }\n\n  _successHandler(){\n    this.onGameSuccess()\n    this.scene.start(\n      'congratulations', \n      { msg: 'You completed the [Pass live bridge] project!'}\n    )\n  }\n\n  _gameFailed() {\n    setTimeout(() => {\n      this.scene.start(\n        'gamefailed', \n        { scene: 'PassLiveBridge'}\n      )\n    }, 200)\n  }\n\n  _hitRightBoundaryCheck() {\n    if(this.player.x < 580) return\n\n    this.player.setVelocityX(0)\n    this.player.setX(578)\n  }\n\n\n  update() {\n    if (this.failed || this.succeed) return\n\n    this.platform.update()\n    this._hitRightBoundaryCheck()\n    this._manualControl()\n\n    this.physics.world.overlapTiles(\n      this.player, this.pickups, this._hitPickups, null, this\n    );\n\n    if (this.failed) {\n      return this._gameFailed()\n    }\n\n    if (this.hitExit && this.complete){\n      this._successHandler()\n    }\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(_, success) {\n    if (!success) return\n\n    this._createGuideText('Bingo!')\n    this.platform.stop()\n    this.complete = true\n\n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n\n}\n\nclass MovingPlatform {\n\n  constructor(stoneGroup, tweens, player){\n    this.stoneLayers = stoneGroup.getChildren()\n    this.tweens = tweens\n    this.player = player\n\n    this.frameCounter = 0\n    this.startMoveTime = 100\n    this.endMoveTime = 300\n  }\n\n  update(){\n    this.frameCounter += 1\n\n    if (this.frameCounter === this.startMoveTime) {\n      this.start()\n    }\n    // if (this.frameCounter === this.endMoveTime) {\n    //   this.stop()\n    // }\n  }\n\n  start(){\n    this.stoneLayers.forEach((layer) => {\n      var y = -100 * Math.random() * 3 + 100\n      var tween = {\n        targets: layer,\n        y,\n        duration: 2000,\n        delay: Math.random() * 500,\n        ease: 'Sine.easeInOut',\n        yoyo: true,\n        loop: -1\n      }\n      this.tweens.add(tween)\n    })\n  }\n\n  stop(){\n    this.tweens.shutdown()\n    this.stoneLayers.forEach(layer => layer.setY(-20))\n    this.player.setY(50)\n  }\n\n}\n\nexport default PassLiveBridge","import Phaser from 'phaser';\n\n\nclass FixTheClock extends Phaser.Scene {\n\n  constructor(){\n    super('FixTheClock');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.layerHoriOffset = -40\n  }\n\n  preload(){\n    this.load.image('background', 'assets/backgrounds/backgroundDesert.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/building_spritesheet.png');\n    this.load.image('hunchback', 'assets/sprites/hunchback_man_64.png');\n    this.load.image('clock', 'assets/backgrounds/clock_yellow.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/fixTheClock.json');\n    this.load.spritesheet(\n      'player',\n      'assets/sprites/female_tilesheet.png',\n      { frameWidth: 80, frameHeight: 110}\n    );\n  }\n    \n  create(){\n    var sky = this.add.image(0, 0, 'background');\n    sky.setOrigin(0, 0.4);\n    sky.setScale(0.6, 0.6);\n\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('platform', 'tiles');\n\n    this.ground = map.createLayer('background', tiles, -40, -10);\n    this.ground.setCollision(58);\n    this.ground.setScale(0.6, 0.6);\n\n    this.decorations = map.createLayer('decorations', tiles, -40, -10);\n    this.decorations.setScale(0.6, 0.6);\n\n    this.miniClock = map.createLayer('clock', tiles, -40, -10)\n    this.miniClock.setScale(0.6, 0.6)\n    this.miniClock.setVisible(false)\n    this.doorLayer = map.createLayer('door', tiles, -40, -10)\n    this.doorLayer.setScale(0.6, 0.6)\n    this.doorLayer.setVisible(false)\n\n    this._createAnimation();\n    this._createPlayer();\n    this._createHunchbackMan();\n\n    this.physics.add.collider(this.ground, this.player);\n    this.physics.add.collider(this.ground, this.lord);\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n    // // disable space key presss, conflict with monaco editor\n    this.input.keyboard.removeCapture(32);\n\n    var helpme = this._createDialog.bind(\n      this, 320, 70, 230, 60, \n      [\n        \"Our church clock not working,\",\n        \"mind to do me a favour? \"\n      ]\n    )\n    var response = this._createDialog.bind(this, 400, 130, 80, 30, [\"Sure!\"] )\n    var close = this._closeDialog.bind(this)\n    var completeHandler = this._dialogCompleteHandler.bind(this)\n    this.dialogs = new DialogManager([\n      {action: helpme, delay: 30},\n      {action: response, delay: 200},\n      {action: close, delay: 300},\n    ], completeHandler)\n\n    // create a clock\n    this.clock = new RealClock(this, 250, 90)\n    this._createGuideText('Walk toward the door keeper using RIGHT KEY!')\n  }\n\n  _dialogCompleteHandler() {\n    this._createGuideText('')\n    this.miniClock.setVisible(false)\n    this.clock.popup()\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(320, 100, 'player');\n    this.player.setBounce(0.2);\n    this.player.setScale(0.4, 0.4);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n  }\n\n  _createHunchbackMan() {\n    this.lord = this.physics.add.sprite(570, 100, 'hunchback');\n    this.lord.setScale(0.6, 0.6);\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ff0000' });\n  }\n\n  _createAnimation() {\n    this.anims.create({\n        key: 'turn',\n        frames: [ { key: 'player', frame: 0 } ],\n        frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'left',\n      frames: this.anims.generateFrameNumbers('player', { start: 10, end: 9 }),\n      frameRate: 6,\n      repeat: -1\n  });\n\n  this.anims.create({\n      key: 'right',\n      frames: this.anims.generateFrameNumbers('player', { start: 9, end: 10 }),\n      frameRate: 6,\n      repeat: -1\n  });\n\n  this.anims.create({\n    key: 'jump',\n    frames: [ { key: 'player', frame: 1 } ],\n    frameRate: 6\n  });\n\n  }\n\n  _manualControl() {\n    if (this.cursors.left.isDown) {\n      this.player.setVelocityX(-160);\n      this.player.play('left', true);\n      this.keyPressed = true\n      return\n    } else if (this.cursors.right.isDown) { // walk right\n      this.player.setVelocityX(90);\n      this.player.play('right', true);\n      this.keyPressed = true\n      return\n    }\n\n    var ySpeed = this.player.body.velocity.y\n    var isStatic = Math.ceil(Math.abs(ySpeed)) === 1\n    if (isStatic) this.player.play('turn');\n\n    this.player.setVelocityX(0);\n    this.keyPressed = false\n  }\n\n  /**\n   * touch enough to consider a real hit\n   * @param {Sprite} player \n   * @param {Tile} tile \n   * @param {Number} distance \n   * @returns true or false\n   */\n   _closeEnough(player, tile, distance) {\n    var tileCenterX = tile.x * 64 + 32 + this.layerHoriOffset\n    var playerCenterX = player.body.center.x\n    var horiDifference = Math.round(Math.abs(tileCenterX - playerCenterX))\n    return distance > horiDifference\n  }\n\n  _createDialog(x, y, w, h, content) {\n    this._closeDialog()\n\n    var dialogX = x // 320\n    var dialogY = y // 70\n    var dialogW = w // 230\n    var dialogH = h // 60\n    var dialogR = 6\n\n    if (this.dialogPanel) \n      this.dialogPanel.removeFromDisplayList()\n    if (this.dialogTxt) \n      this.dialogTxt.removeFromDisplayList()\n\n    var graphics = this.add.graphics();\n    graphics.lineStyle(2, 0xff0000, 1);\n    graphics.strokeRoundedRect(dialogX, dialogY, dialogW, dialogH, dialogR);\n    graphics.fillStyle(0xffff00, 0.8);\n    graphics.fillRoundedRect(dialogX, dialogY, dialogW, dialogH, dialogR);\n    this.dialogPanel = graphics\n\n    this.dialogTxt = this.add.text(\n      dialogX+8, \n      dialogY+8, \n      content, \n      { fontFamily: 'Arial', color: '#000000'}\n    );\n    this.dialogTxt.setLineSpacing(6);\n  }\n\n  _closeDialog() {\n    if (this.dialogPanel) \n      this.dialogPanel.removeFromDisplayList()\n    if (this.dialogTxt) \n      this.dialogTxt.removeFromDisplayList()\n    // this is the end of dialogs\n    return true\n  }\n\n  _successHandler(){\n    this.onGameSuccess()\n    this.scene.start(\n      'congratulations', \n      { msg: 'You completed the [Fix The Clock] project!'}\n    )\n  }\n\n\n  update(){\n    if (this.succeed) return\n    \n    this._manualControl()\n    this.dialogs.update()\n    this.clock.update()\n\n    if (this.player.x > 500 && !this.complete) {\n      this.player.setVelocityX(0);\n      this.player.play('turn');\n      // step back a little\n      if (!this.keyPressed) {\n        this.player.setX(500)\n        this.dialogs.start()\n      }\n    }\n\n    if (this.player.x > 520 && this.complete) {\n      this.succeed = true\n      this.player.setVelocityX(0)\n      this.player.play('turn')\n      this.player.setX(520)\n      this._successHandler()\n    }\n\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(_, success) {\n    if (!success) return\n\n    this._createGuideText('Bingo! Enter the door to complete this game!')\n    this.complete = true\n    this.lord.setVisible(false)\n    this.doorLayer.setVisible(true)\n\n    // run clock\n    this.clock.start()\n    \n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\n\nclass RealClock {\n\n  constructor(scene, centerX, centerY) {\n    this.scene = scene\n    this.centerX = centerX\n    this.centerY = centerY\n    this.started = false\n    this.frameCounter = 0\n    this.visible = false\n  }\n\n  start(){\n    if (!this.visible) return\n    // if anwser right open this flag\n    this.started = true\n  }\n\n  popup(){\n    this.visible = true\n    this.addBackgroundImage(this.scene, this.centerX)\n    this.drawClock()\n  }\n\n  update(){\n    if (!this.started) return\n\n    this.frameCounter += 1\n    if (this.frameCounter % 60 === 0) {\n      this.drawClock()\n    }\n  }\n\n  drawClock(){\n    if (this.context) {\n      this.context.clear()\n    }\n    this.context = this.scene.add.graphics()\n    this.context.translateCanvas(this.centerX+90, this.centerY)\n    var theDate = new Date();\n    this.drawHourHand(theDate);\n    this.drawMinuteHand(theDate);\n    this.drawSecondHand(theDate);\n  }\n  \n  addBackgroundImage(scene, centerX){\n    if (this.clockFace) {\n      this.clockFace.removeFromDisplayList()\n    }\n    this.clockFace = scene.add.image(0, 0, 'clock');\n    this.clockFace.setOrigin(0, 0);\n    this.clockFace.setScale(0.4, 0.4);\n    this.clockFace.setX(centerX)\n  }\n\n  degreesToRadians(degrees) {\n    return (Math.PI / 180) * degrees\n  }\n\n  drawHand(size, thickness = 4){\n    this.context.beginPath()\n    this.context.moveTo(0, 0)\n    this.context.lineTo(-thickness, -10)\n    this.context.lineTo(0, -size/2)\n    this.context.lineTo(thickness, -10)\n    this.context.lineTo(0, 0)\n    this.context.fillPath()\n    this.context.strokePath()\n  }\n\n  drawHourHand(theDate){\n    var hours = theDate.getHours() + theDate.getMinutes() / 60;\n    var degrees = (hours * 360 / 12) % 360;\n    this.context.save();\n    this.context.fillStyle(0x333333);\n    this.context.lineStyle(1, 0x666666);\n    \n    var radians = this.degreesToRadians(degrees)\n    this.context.rotateCanvas(radians);\n    this.drawHand(110, 5);\n    this.context.restore();\n  }\n\n  drawMinuteHand(theDate){\n    var minutes = theDate.getMinutes() + theDate.getSeconds() / 60;\n    this.context.save();\n    this.context.fillStyle(0x333333);\n    this.context.lineStyle(1, 0x666666);\n    var radians = this.degreesToRadians(minutes * 6)\n    this.context.rotateCanvas(radians);\n    this.drawHand(130, 5);\n    this.context.restore();\n  }\n\n  drawSecondHand(theDate){\n    var seconds = theDate.getSeconds();\n    this.context.save();\n    this.context.fillStyle(0xff0000);\n    this.context.lineStyle(1, 0x8B0000);\n    var radians = this.degreesToRadians(seconds * 6)\n    this.context.rotateCanvas(radians);\n    this.drawHand(150);\n    this.context.restore();\n  }\n\n}\n\n\nclass DialogManager {\n\n  constructor(dialogs, onComplete){\n    this.dialogs = dialogs\n    this.frameCounter = 0\n    this.isRunning = false\n    this.completeHandler = onComplete\n  }\n\n  start(){\n    this.isRunning = true\n    this.frameCounter = 0\n  }\n\n  update(){\n    if (!this.isRunning) return\n\n    var dialogHandler = dialog => {\n      if (dialog.delay !== this.frameCounter) return\n      var isEnd = dialog.action()\n      if (!isEnd) return\n      this.stop()\n    }\n    this.dialogs.forEach(dialogHandler)\n    this.frameCounter += 1\n  }\n\n  stop(){\n    this.isRunning = false\n    if (this.completeHandler) this.completeHandler()\n  }\n\n}\n\nexport default FixTheClock","// save phaser game configs/games\nimport Phaser from 'phaser';\n\n// import TemplateGame from '../games/TemplateGame';\nimport CloneArmy from '../games/CloneArmy';\nimport LavaAdventure from '../games/LavaAdventure';\nimport MakeYourPath from '../games/MakeYourPath';\nimport GuessMyName from '../games/GuessMyName'\nimport SphinxRiddle from '../games/SphinxRiddle'\nimport WhichWayToGo from '../games/WhichWayToGo'\nimport FlyThemUp from '../games/FlyThemUp'\nimport PassLiveBridge from '../games/PassLiveBridge'\nimport FixTheClock from '../games/FixTheClock'\n\n\nexport const gamesForProject = {\n    1 : CloneArmy,\n    2 : LavaAdventure,\n    3 : MakeYourPath,\n    4 : GuessMyName,\n    5 : SphinxRiddle,\n    6 : FlyThemUp,\n    7 : WhichWayToGo,\n    8 : PassLiveBridge,\n    9 : FixTheClock,\n}\n\n\nexport const BaseConfig = {\n    type: Phaser.AUTO,\n    width: 600,\n    height: 237,\n    parent: 'phaser-game-box', // div id\n    banner: false,\n};\n\nexport const LargerBase = {\n    ...BaseConfig,\n    width: 800,\n    height: 600,\n}\n\nexport const GravityConfig = {\n    ...LargerBase,\n    physics: {\n        default: 'matter',\n        matter: {\n            gravity: { y: 1 },\n            enableSleep: false,\n            debug: true\n        }\n    },\n}\n\nexport const PlatformerConfig = {\n    ...BaseConfig,\n    physics: {\n        default: 'arcade',\n        arcade: {\n            gravity: { y: 300 },\n            debug: false\n        }\n    },\n};\n","import Phaser from 'phaser';\n\nclass Congratulations extends Phaser.Scene {\n\n  constructor(){\n    super('congratulations');\n  }\n\n  init(data) {\n    this.message = data.msg\n  }\n\n  preload() {\n    this.load.image('sparkBlue', 'assets/particles/blue.png');\n    this.load.image('sparkGreen', 'assets/particles/green.png');\n    this.load.image('sparkRed', 'assets/particles/red.png');\n    this.load.image('sparkYellow', 'assets/particles/yellow.png');\n    this.load.audio('levelup', 'assets/audio/nextLevel.mp3');\n  }\n\n  _createGuideText(message = 'Congratulations') {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    var xPos = (600 - (message.length) * 10) / 2\n    this.guideTxt = this.add.text(xPos, 40, message, { fill: '#00ff00' });\n  }\n\n  \n  create() {\n\n    this._createGuideText(this.message)\n    \n    //  First create a particle manager\n    //  A single manager can be responsible for multiple emitters\n    //  The manager also controls which particle texture is used by _all_ emitter\n    var texture = Phaser.Utils.Array.GetRandom(['sparkBlue', 'sparkGreen', 'sparkRed', 'sparkYellow'])\n    var particles = this.add.particles(texture);\n\n    particles.createEmitter({\n      x: 300,\n      y: 230,\n      scale: { start: 0.3, end: 0 },\n      speed: { min: 200, max: 300 },\n      lifespan: 2000,\n      angle: { min: 245, max: 300 },\n      gravityY: 200,\n      blendMode: 'ADD',\n    });\n\n    this.levelupSound = this.sound.add('levelup')\n    this.levelupSound.play()\n  }\n\n  update(){\n\n  }\n}\n\nexport default Congratulations","import Phaser from 'phaser';\n\nclass GameFailed extends Phaser.Scene {\n  constructor(){\n    super('gamefailed');\n  }\n\n  init(data) {\n    this.lastScene = data.scene\n  }\n\n  preload(){\n    this.load.audio('gameover', 'assets/audio/arcade_resources_sounds_gameover2.mp3');\n  }\n    \n  create(){\n    const message = 'Oops...you failed!'\n    const guideTxt = this.add.text(180, 50, message, { fill: '#ffff00', fontSize: 24 });\n    this.tweens.add({\n      targets: guideTxt,\n      y: 20,\n      duration: 1000,\n      ease: \"Power2\",\n      yoyo: true,\n      loop: -1\n    });\n    // TODO: add 'RESTART' button \n    const backMessage = 'Press SPACE BAR to restart!'\n    this.add.text(180, 120, backMessage, { fill: '#00ff00', fontSize: 16 })\n\n    this.input.keyboard.on('keydown-SPACE', function() {\n      this._restart()\n    }, this)\n\n    this.gameoverSound = this.sound.add('gameover')\n    this.gameoverSound.play()\n  }\n\n  update(){\n\n  }\n\n  _restart() {\n    this.scene.start(this.lastScene)\n  }\n\n}\n\nexport default GameFailed","/**\n * compare code execution result with expectation\n * @param {*} expect \n * @param {*} result \n * @returns true or false\n */\nexport const checkResultMatchTarget = (expect, result) => {\n  if (result === 0 || result === null) return false // 0, something wrong in backend\n  if (expect === result) return true // number comparison\n\n  // start array compare\n  if (Array.isArray(expect) && Array.isArray(result)) {\n      if (expect.length !== result.length) return false\n      // compare each value\n      let equal = true\n      expect.forEach((value, index) => {\n        if (value !== result[index]) {\n          equal = false\n        }\n      })\n      if (equal) return true\n      // compare each action object\n      let matched = true\n      expect.forEach((action, index) => {\n        const expKey = Object.keys(action).length ? Object.keys(action)[0] : ''\n        if (expKey === '') return matched = false\n        if (result[index][expKey] !== action[expKey]) {\n          return matched = false\n        }\n      })\n      return matched\n  }\n\n  // compare Object id only\n  if (typeof expect === 'object' && typeof result === 'object') {\n    return expect.id === result.id\n  }\n\n  return false\n}\n\nexport const generateSuccessMessage = (target) => {\n  return `Congratulations! You completed the ${target.projName} program!`\n}\n\nexport const generateFailureMessage = (target, result) => {\n  // code running error in backend\n  if (!result.success) return result.message\n  // if (target.params) {// string type\n  //     return `expecting '${target.params}' equal to ${target.expect}`\n  // }\n  // actions\n  return 'OhOh...check the code, try again!'\n}","import React, { useEffect, useRef } from 'react'\nimport Phaser from 'phaser';\nimport useLocalStorageState from 'use-local-storage-state'\nimport projectStore from '../state/ProjectState'\n\nimport { PlatformerConfig, gamesForProject } from '../config/phaser';\nimport Congratulations from '../games/Congratulations';\nimport GameFailed from '../games/GameFailed';\n\nimport { checkResultMatchTarget } from '../helper/ProjectHelper';\nimport { isEmptyObj } from '../utils/StrUtil'\nimport { projectsCodeTarget } from '../config/ProjectDefaultCode';\n\nconst PhaserGameBox = ({ codeResultCallback }) => {\n\n  const gameRef = useRef(null)\n  const audioSuccessRef = useRef(null)\n  const audioFailureRef = useRef(null)\n\n  const projectID = projectStore(state => state.projectID)\n  const codeExecResult = projectStore(state => state.codeExecResult)\n  const currentTarget = projectsCodeTarget[projectID]\n  const [projects, updateProjectStatus] = useLocalStorageState('projects_status', {})\n\n  // console.log(codeExecResult)\n\n  useEffect(() => {\n    audioSuccessRef.current = new Audio('assets/audio/p-ping.mp3');\n    audioFailureRef.current = new Audio('assets/audio/error_006.ogg');\n  }, [])\n\n  useEffect(() => {\n    if (!gameRef.current) return\n    if (isEmptyObj(codeExecResult)) return\n    \n    const success = checkResultMatchTarget(\n      currentTarget.expect, \n      codeExecResult.result\n    )\n    // allowing reach to bingo without success\n    const currentScene = gameRef.current.scene.getAt(0)\n    currentScene.bingo(codeExecResult.result, success)\n    \n    const music = success ? audioSuccessRef : audioFailureRef\n    setTimeout(() => music.current.play(), 300)\n    \n  }, [codeExecResult, currentTarget])\n\n\n  useEffect(() => {\n    const currentGame = gamesForProject[projectID]\n    const withParentAndScene = {\n      ...PlatformerConfig,\n      scene: [currentGame, Congratulations, GameFailed]\n    }\n    const game = new Phaser.Game(withParentAndScene)\n    gameRef.current = game // cache game for later check\n\n    return () => {\n      game.destroy(true)\n    }\n  }, [projectID])\n\n\n  useEffect(() => {\n    if (!gameRef.current) return\n\n    // TODO: to save my record if logged in ...\n    // use callback hook to reuse the gamePassHandler function\n    const gamePassHandler = () => {\n      updateProjectStatus({...projects, [projectID]:'done'})\n      codeResultCallback(true)\n    }\n    const { events } = gameRef.current\n    events.addListener('gamePass', gamePassHandler)\n\n    return () => {\n      events.removeListener('gamePass')\n    }\n  })\n\n  return (\n    <div id=\"phaser-game-box\" />\n  )\n}\n\nexport default PhaserGameBox","import React from 'react'\n\nimport { Button } from 'primereact/button'\nimport { BiRun } from 'react-icons/bi'\nimport { FiThumbsUp } from 'react-icons/fi'\nimport { DotLoader } from 'react-spinners';\n\nimport { dotLoaderStyle } from '../config/project'\nimport projectStore from '../state/ProjectState'\n\nimport PhaserGameBox from './PhaserGameBox'\n\n\nconst MiniGamePanel = () => {\n\n  const switchMode = projectStore(state => state.switchMode)\n  const runningMode = projectStore(state => state.runningMode)\n  const startRunning = projectStore(state => state.startRunning)\n  const isSucceed = projectStore(state => state.isSucceed)\n  const gameSucceed = projectStore(state => state.gameSucceed)\n\n  const buttonIcon = !runningMode && (\n    isSucceed ? <FiThumbsUp size=\"52\" /> : <BiRun size=\"54\" />\n  )\n\n  const codeResultHandler = result => gameSucceed(result)\n\n  return (\n    <div className=\"flex full-height\">\n      {/* back button zone */}\n      <div className=\"w-4rem  bg-blue-500 flex align-items-center justify-content-center border-right-3 border-blue-500\">\n        <Button \n          icon=\"pi pi-angle-double-left\" \n          className=\"p-button-rounded p-button-outlined bg-white\"\n          onClick={switchMode}\n          />\n      </div>\n      {/* mini adventure game */}\n      <div className=\"flex-grow-1 flex bg-white\">\n        <PhaserGameBox \n          codeResultCallback={codeResultHandler}\n        />\n      </div>\n      <div className=\"right-part center-child bg-blue-500 border-left-3 border-blue-500\">\n        {/* TODO: replace true with isSucceed */}\n        <button \n          type=\"button\" \n          className=\"go-btn\"\n          disabled={runningMode}\n          onClick={startRunning}>\n          {buttonIcon}\n          <DotLoader \n            css={dotLoaderStyle} \n            color=\"#fbc02d\"\n            loading={runningMode}\n          />\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default MiniGamePanel","import React, { useEffect, useRef } from 'react'\n\nimport { Toast } from 'primereact/toast';\nimport PYCodeEditor from '../components/PYCodeEditor';\nimport ProjectTips from '../components/ProjectTips';\nimport MiniGamePanel from '../components/MiniGamePanel';\nimport projectStore from '../state/ProjectState'\nimport { isEmptyObj } from '../utils/StrUtil'\nimport { projectsCodeTarget } from '../config/ProjectDefaultCode';\nimport {\n  checkResultMatchTarget, \n  generateFailureMessage, \n  generateSuccessMessage,\n} from '../helper/ProjectHelper';\n\n\nconst ProjectCodeMode = () => {\n\n  const toastRef = useRef(null)\n  const isRunning = projectStore(state => state.isRunning)\n  const runningMode = projectStore(state => state.runningMode)\n  const execute = projectStore(state => state.execute)\n  const codeExecResult = projectStore(state => state.codeExecResult)\n  const codeExecError = projectStore(state => state.codeExecError)\n  const projectID = projectStore(state => state.projectID)\n  const reset = projectStore(state => state.reset)\n  const isSucceed = projectStore(state => state.isSucceed)\n  const tipsPanelExpanded = projectStore(state => state.tipsPanelExpanded)\n\n  const currentTarget = projectsCodeTarget[projectID]\n\n  const copyCodeHandler = message => {\n    const notification = {\n      severity: 'success', summary: 'Got it:', detail: message\n    }\n    // popup toast message\n    toastRef.current.show(notification);\n  }\n\n  useEffect(() => {\n    if (!isRunning) return\n  \n    const mockRunningHandlelr = async () => {\n      // not allowed to invoke execute on running\n      if (runningMode) return\n      await execute(currentTarget)\n    }\n  \n    mockRunningHandlelr()\n  })\n\n  useEffect(() => {\n    if (isEmptyObj(codeExecResult)) return\n    const success = checkResultMatchTarget(\n      currentTarget.expect, \n      codeExecResult.result\n    )\n    const hasError = !codeExecResult.success\n    const severity = success ? 'success' : (hasError ? 'error' : 'warn')\n    const summary = success ? 'Success!' : 'Failed!' // title\n    const successMessage = generateSuccessMessage(currentTarget)\n    const failureMessage = generateFailureMessage(currentTarget, codeExecResult)\n    const detail = success ? successMessage : failureMessage\n    const notification = { severity, summary, detail }\n    // popup toast message\n    toastRef.current.show(notification);\n\n  }, [codeExecResult, currentTarget])\n\n\n  useEffect(() => {\n    if (!codeExecError) return\n    // console.warn(codeExecError)\n    const notification = {\n      severity: 'warn', \n      summary: 'Try again!', // title\n      detail: 'something wrong...', \n      life: 2000\n    }\n    toastRef.current.show(notification);\n  }, [codeExecError])\n\n\n  useEffect(() => {\n    if (!isSucceed) return\n\n    const successMessage = generateSuccessMessage(currentTarget)\n    const notification = { severity: 'success', summary: 'You Won!', detail: successMessage }\n    // popup toast message\n    toastRef.current.show(notification);\n\n  }, [isSucceed, currentTarget])\n\n  useEffect(() => {\n    return reset // clear current project state after view destory\n  }, [reset])\n\n\n  return (\n    <>\n      <Toast ref={toastRef} />\n      {tipsPanelExpanded && (\n        <ProjectTips />\n      )}\n      <div className=\"content-area blue-round-panel light\">\n        <PYCodeEditor onCodeCopy={copyCodeHandler} />\n      </div>\n      <div className=\"result-area border-solid blue-round-panel p-0\">\n        <MiniGamePanel />\n      </div>\n    </>\n  )\n}\n\nexport default ProjectCodeMode","export const addEffect = (targetClass, effectClass) => {\n  document.querySelector(targetClass).classList.add(effectClass)\n}\n\nexport const removeEffect = (targetClass, effectClass) => {\n  document.querySelector(targetClass).classList.remove(effectClass)\n}","import React, { useEffect } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { ProgressSpinner } from 'primereact/progressspinner';\n\nimport ProjectDemoMode from '../components/ProjectDemoMode';\nimport ProjectCodeMode from '../components/ProjectCodeMode';\n\nimport projectStore from '../state/ProjectState'\nimport { projectsCodeTarget } from '../config/ProjectDefaultCode';\nimport { addEffect, } from '../utils/DomUtil';\nimport { getProjectContent } from '../service/ProjectService';\n\n\nconst ProjectPage = () => {\n\n  const location = useLocation()\n  const { pid } = useParams()\n  const setProjectID = projectStore(state => state.setProjectID)\n  const setProjectName = projectStore(state => state.setProjectName)\n  const setProjectReference = projectStore(state => state.setProjectReference)\n\n  const params = new URLSearchParams(location.search);\n  const codemode = params.get('codemode')\n  const introMode = codemode === 'true' ? \n    false : projectStore(state => state.introMode)\n  const projects = projectStore(state => state.projects)\n\n\n  useEffect(() => {\n    setProjectID(pid)\n    setProjectName(projectsCodeTarget[pid]?.projName)\n  })\n\n  useEffect(() => {\n    addEffect('.layout-topbar', '-translate-y-100')\n    addEffect('.layout-main-container', 'pt-2')\n  }, [])\n\n  useEffect(() => {\n    getProjectContent(pid).then(\n      result => setProjectReference(result)\n    )\n  }, [pid, setProjectReference])\n\n\n  if (!projects.length) {\n    return (\n      <div className=\"flex justify-content-center\">\n        <ProgressSpinner style={{width: '50px', height: '50px'}}/>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"project\">\n      { introMode && (\n        <ProjectDemoMode />\n      )}\n      { !introMode && (\n        <ProjectCodeMode />\n      )}\n    </div>\n  )\n}\n\nexport default ProjectPage","import React from 'react'; \nimport { FaPatreon, FaPaypal } from 'react-icons/fa';\n\n\nconst DonationPage = () => {\n\n    return (\n        <div className=\"donation mt-8 sm:mt-4 p-2 \">\n            <div className=\"grid bg-white\">\n                <div className=\"col panel\">\n                    <h1 className=\"header-title text-gray-900\">Show My Love</h1>\n                    <div className=\"text-slogan p-5 mt-0 md:mt-5\">\n                        <p className=\"text-2xl text-indigo-800\">\n                            Very appreciated for your love! \n                            Each of donation will make this project better and beneficial to everyone!\n                        </p>\n                    </div>\n                    <div className=\"button-groups pl-8 md:pl-5 py-3 mt-0 md:mt-2\">\n                        <a className=\"mr-3 button red\" href=\"/\">\n                            <FaPatreon size=\"16px\" />\n                            <span className=\"ml-2\">Patreon</span>\n                        </a>\n                        <a className=\"mr-3 button orange text-blue-900\" href=\"/\">\n                            <FaPaypal size=\"18px\" />\n                            <span className=\"ml-2\">Paypal</span>\n                        </a>\n                    </div>\n                    <div className=\"col donation-bg\"></div>\n                </div>\n                <div className=\"col panel\">\n                    <div className=\"donation-desc p-3 md:p-5\">\n                        <h3 className=\"text-2xl\">\n                            What you'll get if you make a donation to this project?\n                        </h3>\n                        <ul className=\"no-bullets pt-3\">\n                            <li className=\"flex\">\n                                <span className=\"text-6xl pr-3\">🥉</span>\n                                <p className=\"txt\">\n                                    <span className=\"px-2 border-left-3 border-green-500 surface-200\">1$</span>  --  \n                                    You'll be rewarded a `Python` beginner cheatsheet + 100 Python examples source code!\n                                </p>\n                            </li>\n                            <li className=\"flex\">\n                                <span className=\"text-6xl pr-3\">🥈</span>\n                                <p className=\"txt\">\n                                    <span className=\"px-2 border-left-3 border-green-500 surface-200\">3$</span>  --  \n                                    You'll be rewarded a `Python` + `PhaserJS` combo cheatsheet + 100 Python examples source code!\n                                </p>\n                            </li>\n                            <li className=\"flex\">\n                                <span className=\"text-6xl pr-3\">🥇</span>\n                                <p className=\"txt\">\n                                    <span className=\"px-2 border-left-3 border-green-500 surface-200\">5$</span>  --  \n                                    You'll be rewarded a `Python` + `PhaserJS` + `9 Games Pass Codes` combo cheatsheet!\n                                </p>\n                            </li>\n                            <li className=\"flex\">\n                                <span className=\"text-6xl pr-3\">🎖️</span>\n                                <p className=\"txt\">\n                                    <span className=\"px-2 border-left-3 border-green-500 surface-200\">10$</span>  --  \n                                    You'll be rewarded a previous combo cheatsheet + `9 Games Making workflow and Source code explanation`!\n                                </p>\n                            </li>\n                        </ul>\n                        <p className=\"p-5 text-lg\">Note: remember to leave a message or email after you made a donation!</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default DonationPage","import React from 'react';\nimport { Button } from 'primereact/button';\n \n\nconst ProfilePage = () => {\n\n    return (\n        <div className=\"profile button-social social-bg mt-8 sm:mt-4\">\n            <h1 className=\"header-title text-gray-900\">My Profile</h1>\n            <div className=\"card social-signin p-5 my-8 border-solid border-500 \">\n                <h4 className=\"text-center\">Sign in with</h4>\n                <div className=\"template py-5\">\n                    <Button className=\"google p-0 mr-3\">\n                        <i className=\"pi pi-google px-2\"></i>\n                        <span className=\"pl-5 text-xl\">Google</span>\n                    </Button>\n                    <Button className=\"discord p-0 \">\n                        <i className=\"pi pi-github px-2\"></i>\n                        <span className=\"pl-5 text-xl\">Github</span>\n                    </Button>\n                </div>\n                <p className=\"text-lg\"> <b>Note:</b> this is not necessary, \n                    the benefit to do this is you could get a <b>`cheatsheet`</b> bonus \n                    after you sucessfully completed one season projects(at least 9), \n                    also I could know whom this project have brought achievement to!\n                </p>\n            </div>\n            {/* <div className=\"col-12\"></div> */}\n        </div>\n    );\n}\n\nexport default ProfilePage","import React, { useState, useRef } from 'react';\nimport { Button } from 'primereact/button';\nimport { Toast } from 'primereact/toast';\nimport { postContactMessage } from \"../service/ProjectService\";\n\nconst ContactPage = () => {\n\n    const toastRef = useRef(null)\n\n    const initContact = {\n        name: '',\n        email: '',\n        subject: '',\n        message: ''\n    }\n    const [contact, setContact] = useState(initContact)\n    const [checked, setChecked] = useState(false)\n    const [sending, setSending] = useState(false)\n\n    // check email format\n    const EMAIL_REGX = /^\\S+@\\S+\\.\\S+$/\n    const emailValidity = !!contact.email && EMAIL_REGX.test(contact.email)\n    const buttonEnabled = contact.name && emailValidity && contact.subject\n         && contact.message && checked && !sending\n\n    const inputChangeHandler = field => event => {\n        setContact({...contact, [field]: event.target.value})\n    }\n    const checkboxChangeHandler = evt => {\n        setChecked(evt.target.checked)\n    }\n\n    const submitContact = async (event) => {\n        setSending(true)\n        const resp = await postContactMessage(contact)\n        if (resp.status === 200) {\n            setContact(initContact)\n            setChecked(false)\n            showPopup()\n        } else {\n            showError()\n        }\n        setSending(false)\n        event.preventDefault()\n        event.stopPropagation()\n    }\n\n    const showError = () => {\n        const notification = {\n            severity: 'error', \n            summary: 'Hmmm', // title\n            detail: \"hold on...\", \n            life: 2000\n          }\n        toastRef.current.show(notification);\n    }\n\n    const showPopup = () => {\n        const notification = {\n            severity: 'success', \n            summary: 'Thanks', // title\n            detail: \"Thanks for your great feedback!\", \n            life: 2000\n          }\n        toastRef.current.show(notification);\n    }\n\n    return (\n        <div className=\"contact mt-8 md:mt-4 px-2 \">\n            <Toast ref={toastRef} />\n            <div className=\"container my-5 px-2 md:pl-0\">\n                <h1 className=\"section-title line-top text-gray-900\">Contact</h1>\n            </div>\n            <div className=\"grid mb-5\">\n                <div className=\"col\">\n                    <p className=\"text-xl text-bluegray-700 welcome-text px-2 md:pl-0\">\n                        Let's build something great together. <br/>\n                        Complete contact form one right side or send me email at <br/>\n                        <a href=\"mailto:lwz7512@gmail.com\">lwz7512@gmail.com </a>\n                    </p>\n                    <hr/>\n                    <h2 className=\"px-2 md:pl-0\">Office</h2>\n                    <p className=\"text-xl text-bluegray-700 px-2 md:pl-0\">\n                        40 Larkview Terrace, Halifax, NS. <br/>\n                        902-237-7065\n                    </p>\n                    <div className=\"mt-5 map-container\">\n                        <iframe \n                            src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d22680.90407339273!2d-63.72530236250141!3d44.71730509098772!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4b598a2a38dd273b%3A0x15660da555fe5b62!2s40%20Larkview%20Terrace%2C%20Bedford%2C%20NS%20B4B%201G9!5e0!3m2!1sen!2sca!4v1645226783451!5m2!1sen!2sca\" \n                            width=\"600\" height=\"450\" \n                            style={{border:0}} \n                            allowFullScreen=\"\" \n                            loading=\"lazy\" \n                            title=\"office address\"\n                        />\n                    </div>\n                </div>\n                <div className=\"col px-3 md:pl-5\">\n                    <div className=\"card form-card border-round p-3 md:p-6\">\n                        <form action=\"#\" id=\"contactForm\" method=\"POST\">\n                            <div className=\"form-group\">\n                                <label htmlFor=\"name\">Name</label>\n                                <input \n                                    id=\"name\" \n                                    name=\"name\" \n                                    type=\"text\" \n                                    placeholder=\"Your name\" \n                                    required\n                                    value={contact.name}\n                                    onChange={inputChangeHandler('name')}\n                                />\n                                <span className=\"animate-border\" aria-hidden=\"true\"></span>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"email\">E-mail</label>\n                                <input \n                                    id=\"email\" \n                                    name=\"email\" \n                                    type=\"email\" \n                                    placeholder=\"Your Email address\" \n                                    required\n                                    value={contact.email}\n                                    onChange={inputChangeHandler('email')}\n                                />\n                                <span className=\"animate-border\" aria-hidden=\"true\"></span>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"subject\">What type of message you are going to leave?</label>\n                                <div className=\"form-select-wrap\">\n                                    <select \n                                        id=\"subject\" \n                                        name=\"subject\" \n                                        value={contact.subject}\n                                        onChange={inputChangeHandler('subject')}\n                                    >\n                                        <option value=\"\">Please select</option>\n                                        <option value=\"Suggestion\">Suggestion</option>\n                                        <option value=\"Design\">Design</option>\n                                        <option value=\"Bug\">Bug</option>\n                                        <option value=\"GameIdea\">Game Idea</option>\n                                        <option value=\"Contribution\">Contribution</option>\n                                    </select>\n                                </div>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"message\">Message</label>\n                                <textarea \n                                    id=\"message\" \n                                    name=\"message\"\n                                    rows=\"5\" \n                                    placeholder=\"Your message\"\n                                    value={contact.message}\n                                    onChange={inputChangeHandler('message')}\n                                ></textarea>\n                                <span className=\"animate-border\" aria-hidden=\"true\"></span>\n                            </div>\n                            <div className=\"form-group form-checkbox\">\n                                <input \n                                    id=\"consent\" \n                                    name=\"consent\" \n                                    type=\"checkbox\" \n                                    checked={checked} \n                                    onChange={checkboxChangeHandler}\n                                />\n                                <label htmlFor=\"consent\">I understand that this form is storing my submitted information so I can be contacted.</label>\n                            </div>\n                            <div className=\"form-submit button-group\">\n                                <Button \n                                    type=\"button\" \n                                    label=\"Send Message\"\n                                    disabled={!buttonEnabled}\n                                    loading={sending}\n                                    onClick={submitContact}\n                                />\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ContactPage","import React, { useLayoutEffect } from 'react'\nimport ReactMarkdown from 'react-markdown'\n\n/**\n * parse markdown content and render into react content\n * Features:\n * - h2/## as group\n * - markdown content support `details/summary` tag\n * - responsive layout, default 3 columns\n * - support yaml metadata\n */\n\nconst CheatsheetViewer = ({content, metadata}) => {\n\n  const defaultCoverImage = 'assets/backgrounds/peek_sm.png'\n\n  useLayoutEffect(() => {\n    if (!metadata) return\n\n    const { snippets } = metadata\n\n    const createSection = element => {\n      if (element.tagName !== 'H2') return null\n\n      const icon = document.createElement('i')\n      icon.classList.add('pi', 'pi-compass', 'text-2xl')\n      // head icon\n      const span = document.createElement('span')\n      span.classList.add('inline-block')\n      span.appendChild(icon)\n\n      // h2, card header\n      const sectionTitle = element.cloneNode(true)\n      sectionTitle.classList.add('card-title', 'mb-0', 'select-none')\n      // copy icon\n      const copyBtn = document.createElement('span')\n      copyBtn.classList.add('pi', 'pi-copy', 'text-2xl')\n\n      sectionTitle.prepend(span)\n      sectionTitle.appendChild(copyBtn)\n\n      const section = document.createElement('div')\n      section.classList.add('grid-item', 'zoom')\n      section.appendChild(sectionTitle)\n\n      return section\n    }\n    // innclude image\n    const createParagraph = (element, cards) => {\n      if (element.tagName !== 'P') return\n\n      const parentSection = cards.slice(-1)[0]\n      if (!parentSection) return // could be undefined\n      const paragraph = element.cloneNode(true)\n      paragraph.classList.add('p-3', 'mb-0')\n      const link = paragraph.querySelector('a')\n      if (link) {\n        link.setAttribute('target', '_blank')\n      }\n      parentSection.appendChild(paragraph)\n    }\n\n    const createPreBlock = (element, cards) => {\n      if (element.tagName !== 'PRE') return\n\n      const parentSection = cards.slice(-1)[0]\n      if (!parentSection) return // could be undefined\n      const preBlock = element.cloneNode(true)\n      parentSection.appendChild(preBlock)\n    }\n\n    const cards = []\n    const processor = element => {\n      const section = createSection(element)\n      section && cards.push(section)\n      createParagraph(element, cards)\n      createPreBlock(element, cards)\n    }\n\n    const main = document.querySelector('.md-wrapper')\n    const elements = [...main.children]\n    elements.forEach(processor)\n    \n    if (!cards.length) return\n\n    // add card interaction\n    cards.forEach(card => {\n      const codeImage = card.querySelector('img')\n      if (!codeImage) { // just plan text or link content in this card\n        card.querySelector('span.pi-copy').classList.remove('pi-copy')\n        return\n      }\n      const snippetKey = codeImage.getAttribute('alt')\n      const imageSource = codeImage.getAttribute('src')\n      const cardClickHandler = event => {\n        // handle copy\n        if (event.target.tagName === 'SPAN') {\n          const codeSnippet = snippets[snippetKey] || 'No Key Found'\n          // copy to clipboard\n          navigator.clipboard.writeText(codeSnippet)\n          // show toast\n          const snackbar = document.querySelector('.snackbar')\n          snackbar.classList.add('show')\n          setTimeout(() => snackbar.classList.remove('show'), 2000)\n        }\n        // handle popup image\n        if (event.target.tagName === 'IMG') {\n          const popImage = new CustomEvent('popImage', { 'detail': imageSource })\n          document.dispatchEvent(popImage)\n        }\n      }\n      if (codeImage) {\n        card.addEventListener('click', cardClickHandler)\n      }\n    })\n\n    const cardGrid = document.createElement('div')\n    cardGrid.classList.add('masonry')\n    cardGrid.append(...cards)\n\n    const targetContainer = document.querySelector('.cheat-sheet-cards')\n    targetContainer.appendChild(cardGrid)\n\n    // hide react-markdown\n    main.classList.add('hidden')\n\n    // enlarge masonry to reveal bottom card shadow\n    setTimeout(() => {\n      const masonryBox = document.querySelector('.masonry')\n      const mHeight = masonryBox.clientHeight\n      masonryBox.setAttribute(\"style\", `height: ${mHeight + 10}px`)\n    }, 200);\n\n    return () => {\n      // restore react-markdown\n      main.classList.remove('hidden')\n      // https://developer.mozilla.org/en-US/docs/Web/API/Element/replaceChildren\n      // replaceChildren() provides a very convenient mechanism for emptying a node of all its children.\n      // You call it on the parent node without any argument specified:\n      targetContainer.replaceChildren() // clear all\n    }\n\n  }, [content, metadata])\n\n  return (\n    <div className=\"cheat-sheet-viewer\">\n      <div className=\"snackbar\">Copied!</div>\n      <img \n        src={(metadata && metadata.cover) || defaultCoverImage}\n        alt=\"cover\" \n        className=\"cover max-w-full mt-8 md:mt-0\"\n      />\n      <h1 className=\"mb-5\">\n        {metadata && metadata.title}\n      </h1>\n      <pre className=\"bg-white text-xl p-4 line-height-3 border-1 border-indigo-100\">\n        <code className=\"pre-line\">\n          {metadata && metadata.description}\n        </code>\n      </pre>\n      <div className=\"flex my-5 px-3 justify-content-between align-items-center\">\n        <blockquote className=\"text-2xl \">\n          {metadata && (\n            <a href={metadata.download} target=\"_blank\" rel=\"noreferrer\">\n              Download Here! 🧨 \n            </a>\n          )}\n        </blockquote>\n        <p className=\"ml-3\">\n          {metadata && metadata.date}\n        </p>\n      </div>\n      <div className=\"md-wrapper mb-7\">\n        <ReactMarkdown>\n          {content}\n        </ReactMarkdown>\n      </div>\n      {/* hold all the cards here */}\n      <div className=\"cheat-sheet-cards mb-7\"/>\n    </div>\n  )\n}\n\nexport default CheatsheetViewer","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport metadataParser from 'markdown-yaml-metadata-parser'\nimport CheatsheetViewer from '../components/CheatsheetViewer'\nimport { getCheatsheetContent } from '../service/ProjectService'\n\nconst CheatSheetPage = () => {\n  /**\n   * available file name:\n   * \n   * python_beginner_cheatsheet - Y\n   * phaserjs_beginner_cheatsheet - Y\n   * python_knowledge_tree_path - N\n   * python_100_curated_examples - N\n   * letspy_games_create_n_explain - N\n   */\n  const { name } = useParams()\n  const [cheatsheet, setCheatsheet] = useState('loading...')\n  const [metadata, setMetadata] = useState(null)\n\n  useEffect(() => {\n    if (!name) return\n\n    getCheatsheetContent(name).then(resp => {\n      const result = metadataParser(resp)\n      setCheatsheet(result.content)\n      setMetadata(result.metadata)\n    })\n\n  }, [name])\n\n\n  return (\n    <CheatsheetViewer \n      content={cheatsheet}\n      metadata={metadata}\n    />\n  )\n}\n\nexport default CheatSheetPage","import React, { useEffect } from 'react'\nimport ReactMarkdown from 'react-markdown'\n\n\nconst DisclosureViewer = ({ content, mode, onAnchorClick }) => {\n\n\n  useEffect(() => {\n    if(!content) return\n    if(mode === 'code') return\n\n    const linkClickHandler = (event) => {\n      event.preventDefault()\n\n      const href = event.target.getAttribute('href')\n      const lineNumber = +href.substr(href.indexOf('=')+1)\n      onAnchorClick(lineNumber)\n    }\n\n    const selector = '.game-doc-code > h4 > a'\n    const headerH4Nodes = document.querySelectorAll(selector)\n    const headerH4Elements = [...headerH4Nodes]\n    headerH4Elements.forEach(header => {\n      header.addEventListener('click', linkClickHandler)\n    })\n    const linkInParagraph = '.game-doc-code > p > a'\n    const linksNodes = document.querySelectorAll(linkInParagraph)\n    const linkElements = [...linksNodes]\n    linkElements.forEach(link => link.setAttribute('target', '_blank'))\n\n    const imageSelector = '.game-doc-code img'\n    const imageNodes = document.querySelectorAll(imageSelector)\n    const imageElements = [...imageNodes]\n    const toggleImageDisplay = event => {\n      const hiddenImage = document.querySelector('.game-doc-code img.hidden')\n      hiddenImage.classList.remove('hidden') // first, display hidden image\n      event.target.classList.add('hidden') // then, hide me!\n    }\n    imageElements.forEach(image => {\n      const altProp = image.getAttribute('alt')\n      if (altProp.indexOf('toggle') === -1) return\n      // add show/hide toggle\n      image.addEventListener('click', toggleImageDisplay)\n      image.classList.add('reactive')\n      // hide the raw image\n      if (altProp.indexOf('hide') > -1) {\n        image.classList.add('hidden')\n      }\n    })\n\n    return () => {\n      imageElements.forEach(image => {\n        image.removeEventListener('click', toggleImageDisplay)\n      })\n      headerH4Elements.forEach(header => {\n        header.removeEventListener('click', linkClickHandler)\n      })\n    }\n\n  }, [content, mode, onAnchorClick])\n\n  return (\n    <ReactMarkdown>\n      {content || ''}\n    </ReactMarkdown>\n  )\n}\n\nexport default DisclosureViewer","import { useState, useEffect, useLayoutEffect, useRef } from 'react'\nimport MonacoEditor from '@monaco-editor/react'\nimport metadataParser from 'markdown-yaml-metadata-parser'\n\nimport { games, gameDevWorkflow } from '../config/constants'\nimport { codeEditorOptions } from '../config/project'\n\nimport Spinner from '../components/Spinner'\nimport DisclosureViewer from '../components/DisclosureViewer'\n\nimport {\n  getDisclosureContent, getRemoteSourceCode\n} from '../service/ProjectService'\n\n/**\n * All the games authoring process from zero to complete.\n * \n * Sketch:\n * ---------------------\n *     Hero\n * ---------------------\n *     Title\n * ---------------------\n *     Tools & workflow\n * ---------------------\n *   shoot  |    shoot\n * ---------------------\n *   shoot  |    shoot\n * ---------------------\n *   shoot  |    shoot\n * ---------------------\n */\n\nconst DisclosurePage = () => {\n\n  const editorRef = useRef(null)\n  const [selectedGame, setSelectedGame] = useState(null)\n  const [gameMode, setGameMode] = useState('doc') // or `code`\n  const [gameDisclosure, setGameDisclosure] = useState('')\n  const [gameSourceCode, setGameSourceCode] = useState('')\n  const [gameAssets, setGameAssets] = useState(null)\n  const [selectCodeLine, setSelectCodeLine] = useState(1)\n\n  const gameFilter = game => selectedGame ? selectedGame.id !== game.id : false\n  const removeInfinity = game => game.id !== Infinity\n  const thumbnails = games.filter(gameFilter).filter(removeInfinity)\n  const gameSelectHandler = game => () => setSelectedGame(game)\n  \n  const onCodeEditorMounted = (editor, monaco) => {\n    editorRef.current = editor\n    editor.focus()\n    editor.revealLineNearTop(selectCodeLine, 0)\n    editor.setPosition(new monaco.Position(selectCodeLine, 1))\n  }\n\n  // execute first\n  useLayoutEffect(() => {\n    if (!selectedGame) return\n\n    const currentGameTitle = document.querySelector('.titlebar')\n    currentGameTitle.classList.remove('show')\n\n  }, [selectedGame])\n\n  // execute 3~4 miliseconds later\n  useEffect(() => {\n    if (!selectedGame) return\n\n    // reset before request\n    setGameDisclosure('')\n    setGameSourceCode('')\n\n    // loading md content\n    getDisclosureContent(selectedGame.id).then(\n      markdown => {\n        const {metadata, content} = metadataParser(markdown)\n        setGameAssets(metadata.assets)\n        setTimeout(()=>setGameDisclosure(content), 500)\n      }\n    )\n    // loading source code\n    getRemoteSourceCode(selectedGame.code).then(\n      content => setTimeout(()=>setGameSourceCode(content), 500)\n    )\n    // animate up the title\n    const currentGameTitle = document.querySelector('.titlebar')\n    currentGameTitle.classList.add('show')\n\n  }, [selectedGame])\n\n\n  return (\n    <div className=\"disclosure-page\">\n      {/* hero */}\n      <img \n        className=\"hero-image\" \n        src=\"assets/backgrounds/sparkling_md.png\" \n        alt=\"hero\" \n      />\n      {/* title */}\n      <h1 className=\"mb-5\">Games Authoring Disclosure</h1>\n      {/* tools & workflow */}\n      <div className=\"description-area flex flex-wrap\">\n        <div className=\"section flex-1\">\n          <h3 className=\"text-center\">Development Tools</h3>\n          <ul className=\"tools pr-6\">\n            <li>\n              <a href=\"https://code.visualstudio.com/\" target=\"_blank\" rel=\"noreferrer\" className=\"pr-2\">\n                VS Code\n              </a> \n              for javascript editor\n            </li>\n            <li>Chrome Browser as game runtime</li>\n            <li>\n              <a href=\"https://www.mapeditor.org/\" target=\"_blank\" rel=\"noreferrer\" className=\"pr-2\">\n                Tiled\n              </a> \n              as game tilemap editor\n            </li>\n            <li>\n              <a href=\"https://nodejs.org/en/\" target=\"_blank\" rel=\"noreferrer\" className=\"pr-2\">\n                NodeJS\n              </a> \n              as game build tool\n            </li>\n          </ul>\n        </div>\n        <div className=\"section flex-1 border-left\">\n          <h3 className=\"text-center\">Creation Workflow</h3>\n          <ul className=\"workflow pl-6 pr-5 md:pl-7\">\n            {gameDevWorkflow.map((step, i) => (\n              <li key={i}>{step}</li>\n            ))}\n          </ul>\n        </div>\n      </div>\n      {/* two column games gallery */}\n      <div className=\"gallery mt-6 mb-0 flex flex-wrap\">\n        {/* default bigger image gallary */}\n        {games.map((game) => (\n          <div\n            key={game.alt}\n            className={`game-shot ${selectedGame?'hidden':''}`} \n          >\n            {\n              game.src ? (\n                <img \n                  src={game.src} \n                  alt={game.alt}\n                  className=\"interactive\"\n                  onClick={gameSelectHandler(game)}\n                />\n              ) : (\n                <div className=\"stay-tuned\">\n                  {game.alt}\n                </div>\n              )\n            }\n          </div>\n        ))}\n        {/* selected game & other mini thumbnails */}\n        { selectedGame && (\n          <>\n            <div className=\"game-shot relative\">\n              <img \n                src={selectedGame.src} \n                alt={selectedGame.alt} \n                className=\"border-1\"\n              />\n              <h3 className=\"titlebar mt-0 px-3 absolute\">\n                {selectedGame.alt}\n              </h3>\n            </div>\n            <div className=\"game-shot\">\n              { thumbnails.map((nail, i) => (\n                <img \n                  key={i}\n                  className=\"thumbnail interactive\" \n                  src={nail.src}\n                  alt={nail.alt}\n                  onClick={gameSelectHandler(nail)}\n                />\n              ))}\n            </div>\n          </>\n        )}\n      </div>\n      {/* selected game doc & source code */}\n      {/* doc & code tab gameMode */}\n      { selectedGame && (\n        <div className=\"flex flex-wrap w-12\">\n          <h3 \n            className={`tab ${gameMode==='doc'?'selected':''}`}\n            onClick={() => setGameMode('doc')}\n          >\n            Game Logic Explanation\n          </h3>\n          <h3 \n            className={`tab ${gameMode==='code'?'selected':''}`}\n            onClick={() => setGameMode('code')}\n          >\n            Source Code & Assets\n          </h3>\n        </div>\n      )}\n      {/* switchable content for document or game code */}\n      {selectedGame && (\n        <div className=\"flex flex-wrap w-12 mb-5\">\n          {/* doc content */}\n          { gameMode === 'doc' && (\n            <div className=\"flex-1 p-3 bg-white game-doc-code\">\n              { gameDisclosure ? (\n                <DisclosureViewer \n                  content={gameDisclosure}\n                  mode={gameMode}\n                  onAnchorClick={lineNumber => {\n                    setSelectCodeLine(lineNumber)\n                    setGameMode('code')\n                  }}\n                />\n              ) : (\n                <Spinner/>\n              )}\n            </div>\n          )}\n          {/* code content */}\n          { gameMode === 'code' && (\n            <div className=\"flex flex-1 game-doc-code\">\n              { gameSourceCode ? (\n                <MonacoEditor\n                  height=\"480px\"\n                  width=\"800px\"\n                  defaultLanguage=\"javascript\"\n                  defaultValue={gameSourceCode}\n                  loading=\"Loading Code Editor...\"\n                  options={codeEditorOptions}\n                  onMount={onCodeEditorMounted}\n                />\n              ) : (\n                <Spinner/>\n              )}\n              { gameAssets && (\n                <ul className=\"w-4 mx-auto\">\n                  {\n                    gameAssets.map(asset => {\n                      const [key, path] = asset.split(':')\n                      return (\n                        <li key={key}>\n                          <a href={path} target=\"_blank\"rel=\"noreferrer\">\n                            {key}\n                          </a>\n                        </li>\n                      )\n                    })\n                  }\n                </ul>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\n\nexport default DisclosurePage","import React, { useEffect }  from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { useHistory,  } from 'react-router-dom';\nimport { addEffect, removeEffect } from '../utils/DomUtil';\n\nconst logoly = 'assets/layout/images/letspy_arcade_sm.png'\n\nexport const AppTopbar = ({\n    layoutColorMode,\n    onMobileTopbarMenuClick,\n    mobileTopbarMenuActive\n}) => {\n\n    const history = useHistory()\n\n    const handleRouteChange = (target, queryParams = '', data = null) => {\n      history.push({\n          pathname: target,\n          search: `?${queryParams}`,\n          state: data\n      })\n      window.scrollTo(0, 0)\n    }\n\n    useEffect(() => {\n        return history.listen((location) => { \n            if (location.pathname.indexOf('project') > -1) {\n                addEffect('.layout-topbar', '-translate-y-100')\n                addEffect('.layout-main-container', 'pt-2')\n            } else {\n                removeEffect('.layout-topbar', '-translate-y-100')\n                removeEffect('.layout-main-container', 'pt-2')\n            }\n        }) \n     },[history]) \n\n\n    return (\n        <div className=\"layout-topbar transition-pt5 px-3 md:px-5\">\n            <Link to=\"/\" className=\"layout-topbar-logo\">\n                <img src={layoutColorMode === 'light' ? logoly : 'assets/layout/images/logo-white.svg'} alt=\"logo\"/>\n                <span>LetsPY</span>\n            </Link>\n            {/* menu button on mobile */}\n            <button \n                type=\"button\" \n                className=\"p-link layout-topbar-menu-button layout-topbar-button\" \n                onClick={onMobileTopbarMenuClick}>\n                <i className=\"pi pi-ellipsis-v\" />\n            </button>\n                <ul className={classNames(\n                    \"layout-topbar-menu lg:flex origin-top\", \n                    {'layout-topbar-menu-mobile-active': mobileTopbarMenuActive }\n                )}>\n                    <li>\n                        <button \n                            className=\"p-link layout-topbar-button\" \n                            onClick={()=>handleRouteChange('/')}>\n                            <i className=\"pi pi-home\"/>\n                            <span>Home</span>\n                        </button>\n                    </li>\n                    <li>\n                        <button \n                            className=\"p-link layout-topbar-button\" \n                            onClick={()=>handleRouteChange('/contact')}>\n                            <i className=\"pi pi-envelope\"/>\n                            <span>Contact</span>\n                        </button>\n                    </li>\n                    <li>\n                        <button \n                            className=\"p-link layout-topbar-button\" \n                            onClick={()=>handleRouteChange('/donation')}>\n                            <i className=\"pi pi-heart\"/>\n                            <span>Donation</span>\n                        </button>\n                    </li>\n                    <li>\n                        <button \n                            className=\"p-link layout-topbar-button\" \n                            onClick={()=>handleRouteChange('/profile')}>\n                            <i className=\"pi pi-user\"/>\n                            <span>Profile</span>\n                        </button>\n                    </li>\n                </ul>\n        </div>\n    );\n}\n","import React from 'react';\n\nexport const AppFooter = (props) => {\n    const logoly = 'assets/layout/images/letspy_arcade_sm.png'\n    return (\n        <div className=\"layout-footer\">\n            <img \n                src={props.layoutColorMode === 'light' ? logoly : 'assets/layout/images/logo-white.svg'} \n                alt=\"Logo\" \n                height=\"20\" \n                className=\"mr-2\" \n                />\n            by\n            <span className=\"font-medium ml-2\">\n                🌈CodingLab\n            </span>\n        </div>\n    );\n}\n","import { useLayoutEffect } from 'react'\n\nconst Modal = () => {\n\n  useLayoutEffect(() => {\n    // display new image\n    document.addEventListener('popImage', event => {\n      const snippet = new Image()\n      snippet.classList.add('snippet-img')\n      snippet.src = event.detail\n      const modal = document.querySelector('.modal')\n      modal.classList.remove('hidden')\n      modal.replaceChildren(snippet)\n    })\n    // close me\n    const modalElement = document.querySelector('.modal')\n    modalElement.addEventListener('click', event => {\n      event.currentTarget.classList.add('hidden')\n    })\n\n  }, [])\n\n  return (\n    <div className=\"modal hidden\" >\n      <img src=\"cheatsheets/snippets/carbon.png\" alt=\"snippet\" />\n    </div>\n  )\n\n}\n\nexport default Modal","import React, { useState, useEffect } from 'react'\nimport { Route, useHistory } from 'react-router-dom'\n\nimport HomePage from './pages/HomePage'\nimport ProjectPage from './pages/ProjectPage'\nimport DonationPage from './pages/DonationPage'\nimport ProfilePage from './pages/ProfilePage'\nimport ContactPage from './pages/ContactPage'\nimport CheatSheetPage from './pages/CheatSheetPage'\nimport DisclosurePage from './pages/DisclosurePage'\n\nimport { AppTopbar } from './structure/AppTopbar'\nimport { AppFooter } from './structure/AppFooter'\nimport Modal from './components/Modal'\n// prime style\nimport 'primereact/resources/primereact.min.css'\nimport 'primeicons/primeicons.css'\nimport 'primeflex/primeflex.css'\nimport 'prismjs/themes/prism-coy.css'\n// base style\n// import './layout/flags/flags.css'\nimport './layout/layout.scss'\n// app style\nimport './assets/style/App.scss'\n\nimport { getProjects } from './service/ProjectService'\nimport projectStore from './state/ProjectState'\n\n\nfunction App() {\n\n  const history = useHistory()\n  const [mobileTopbarMenuActive, setMobileTopbarMenuActive] = useState(false);\n  const setProjects = projectStore(state => state.setProjects)\n\n  const onMobileTopbarMenuClick = (event) => {\n    setMobileTopbarMenuActive(!mobileTopbarMenuActive);\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  const onWrapperClick = () => {\n    setMobileTopbarMenuActive(false)\n  }\n\n  useEffect(() => {\n    // window.scrollTo(0, 0);\n    setTimeout(() => {\n      window.scroll({top: 0, left: 0, behavior: 'smooth'})\n    }, 100) // lazy scroll top\n  }, [history.location.pathname]);\n\n\n  useEffect(() => {\n    setTimeout(() => {\n      getProjects().then(data => {\n        setProjects(data)\n      })\n    }, 500) // lazy loading...\n  }, [setProjects])\n\n  \n  return (\n    <div className=\"app layout-wrapper layout-theme-light\" onClick={onWrapperClick}>\n      <AppTopbar \n        layoutColorMode=\"light\" \n        mobileTopbarMenuActive={mobileTopbarMenuActive}\n        onMobileTopbarMenuClick={onMobileTopbarMenuClick} \n        />\n      <div className=\"layout-main-container\">\n        <div className=\"layout-main\">\n            <Route path=\"/project/:pid\" component={ProjectPage}/>\n            <Route path=\"/contact\" component={ContactPage}/>\n            <Route path=\"/donation\" component={DonationPage}/>\n            <Route path=\"/profile\" component={ProfilePage}/>\n            <Route path=\"/cheatsheet/:name\" component={CheatSheetPage}/>\n            <Route path=\"/disclosure\" component={DisclosurePage} />\n            <Route path=\"/\" exact component={HomePage}/>\n        </div>\n        <AppFooter layoutColorMode=\"light\"/>\n      </div>\n      <Modal/>\n    </div>\n  );\n}\n\nexport default App;\n","import reportWebVitals from './reportWebVitals';\nimport 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\nimport { HashRouter } from 'react-router-dom'\n// import ScrollToTop from './structure/ScrollToTop';\n\nReactDOM.render(\n    <HashRouter>\n        <App/>\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}