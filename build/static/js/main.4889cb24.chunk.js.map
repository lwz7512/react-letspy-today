{"version":3,"sources":["reportWebVitals.js","pages/EmptyPage.js","config/constants.js","components/ProjectCard.js","service/ProjectService.js","state/ProjectState.js","pages/HomePage.js","components/ProjectIntro.js","components/MissionPanel.js","components/ProjectDemoMode.js","utils/StrUtil.js","config/ProjectDefaultCode.js","config/project.js","components/PYCodeEditor.js","components/ProjectTips.js","games/CloneArmy.js","games/LavaAdventure.js","games/MakeYourPath.js","games/GuessMyName.js","games/SphinxRiddle.js","games/WhichWayToGo.js","games/FlyThemUp.js","games/PassLiveBridge.js","games/FixTheClock.js","config/phaser.js","games/Congratulations.js","games/GameFailed.js","helper/ProjectHelper.js","components/PhaserGameBox.js","components/MiniGamePanel.js","components/ProjectCodeMode.js","utils/DomUtil.js","pages/ProjectPage.js","pages/GamePage.js","structure/AppTopbar.js","structure/AppFooter.js","App.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","EmptyPage","className","app_brand","ProjectCard","project","completed","alt","src","image","Array","level","fill","map","_","i","id","player","title","description","to","getGameCodeRunningResult","gameSnippet","axios","post","response","catch","error","console","log","projectStore","create","set","get","projects","setProjects","items","introMode","switchMode","state","runningMode","toggleRunning","projectID","setProjectID","projectName","setProjectName","name","codeValue","codeValueChanged","code","codeExecResult","codeExecError","isRunning","isSucceed","gameSucceed","result","startRunning","execute","target","a","getHandler","params","codeType","runPY","setTimeout","reset","GAME_DEGUG","tipsPanelExpanded","toggleTipsPanel","HomePage","useLocalStorageState","Spinner","style","role","length","ProjectIntro","filter","Number","tags","tag","width","MissionPanel","tip","mission","type","onClick","ProjectDemoMode","url","controls","rTabs","str","trim","replace","isEmptyObj","obj","Object","keys","projectsBoilerplateCode","projectsCodeTarget","projName","expect","walk","jump","pivot","ability","dotLoaderStyle","css","codeEditorOptions","fontSize","minimap","enabled","PYCodeEditor","editorRef","useRef","currentProjectCode","height","defaultLanguage","defaultValue","loading","options","onMount","editor","current","getValue","onChange","value","tooltip","disabled","tooltipOptions","size","ProjectTips","toastRef","useState","activeIndex","setActiveIndex","projectInfo","label","command","event","show","sticky","severity","summary","detail","tips","life","coding","pass","ref","model","onSelect","e","index","readOnly","Bullet","scene","x","y","texture","add","existing","physics","world","enableBody","setData","born","initY","time","delta","this","Phaser","GameObjects","Image","Soldier","setScale","getData","shootTimer","addEvent","delay","callback","setFrame","callbackScope","loop","undefined","remove","Sprite","Enemy","play","setTint","Utils","GetRandom","body","velocity","CloneArmy","complete","succeed","guideTxt","bingo","bind","columnIndex","shootingInterval","load","spritesheet","frameWidth","frameHeight","endFrame","audio","fireSound","sound","explosionSound","anims","key","frames","frameRate","repeat","hideOnComplete","soldiers","group","runChildUpdate","enemies","playerLasers","j","soldier","m","n","alien","input","keyboard","on","reversedSoilder","getChildren","reverse","oneColumn","forEach","push","bullet","fire","collider","enemy","destroy","clearTint","tweens","targets","duration","paused","yoyo","message","removeFromDisplayList","text","getLength","onGameSuccess","start","msg","success","_createGuideText","_createTextBouncing","game","events","emit","Scene","Action","step","updateCallback","frameCounter","frameTotal","_parse","onUpdate","setVelocityX","setVelocityY","actionToFunction","_goRight","_goJump","_goPivot","transport","_goTransport","idle","_goIdle","ActionManager","actions","context","dockerLayer","pivotLayer","exitCallback","moveCounter","onExit","pivotHit","exitHit","action","update","isEnd","shift","setVisible","unshift","LavaAdventure","background","docker","failed","pivotHolded","exitHitted","actionManager","tilemapTiledJSON","make","tilemap","tiles","addTilesetImage","createLayer","setCollision","exits","filterTiles","tile","pickups","pivoted","_createPlayer","_createPlayerAnimation","cursors","createCursorKeys","removeCapture","loseSound","sprite","setBounce","setCollideWorldBounds","setDepth","frame","generateFrameNumbers","end","isPlaying","left","isDown","right","up","_successHandler","overlapTiles","_hitPivot","_hitExit","_gameFailed","_goDrop","_collisionCheck","_manualControl","setPosition","steps","_goStart","MakeYourPath","blankRows","level0","level1","debug","tilesArray","data","tileWidth","tileHeight","groundLayer","_createGroundLayer","blocked","down","bridge","bricks","isArray","brick","withBlankLines","slice","bridgeLayer","reduce","b","_createPlayerBouncing","GuessMyName","layerHoriOffset","tiles2","lockerLayer","keyLayer","lettersLayer","caillouLayer","ladderLayer","_collisionTiles","bgLayer","doors","concat","ladders","hitLadder","ySpeed","isStatic","Math","ceil","abs","distance","tileCenterX","playerCenterX","center","round","_closeEnough","hitKey","_hitTile","answer","SphinxRiddle","egypt","sphinx","floorLayer","boxesLayer","doorLayer","_createAnimation","popup","_createDialog","graphics","lineStyle","strokeRoundedRect","fillStyle","fillRoundedRect","dialog","dialogX","dialogY","fontFamily","color","setLineSpacing","done","setText","CellStep","speed","toTheEnd","xDiff","yDiff","max","setVelocity","_goDown","_goTop","GridWalker","cellFinishCallback","onCellChange","headStep","WhichWayToGo","paths","rm","walker","floor","tools","setAllowGravity","removeTileAt","path","_onCellChange","SuperSoldier","lazyLaunch","launchTime","accelerator","outOfValley","TroopsOnMyControl","successCallback","superSoldiers","successHandler","soldiersInTrap","allset","isFree","FlyThemUp","atlas","setOrigin","ground","_createBatteries","_createSoldiers","batteries","btr","generateFrameNames","prefix","troops","launch","MovingPlatform","stoneGroup","stoneLayers","startMoveTime","endMoveTime","layer","tween","random","ease","shutdown","setY","PassLiveBridge","exitLayer","layerGroup","platform","horiDifference","hitExit","setX","_hitRightBoundaryCheck","_hitPickups","stop","RealClock","centerX","centerY","started","visible","addBackgroundImage","drawClock","clear","translateCanvas","theDate","Date","drawHourHand","drawMinuteHand","drawSecondHand","clockFace","degrees","PI","thickness","beginPath","moveTo","lineTo","fillPath","strokePath","getHours","getMinutes","save","radians","degreesToRadians","rotateCanvas","drawHand","restore","minutes","getSeconds","seconds","DialogManager","dialogs","onComplete","completeHandler","FixTheClock","sky","decorations","miniClock","_createHunchbackMan","lord","helpme","close","_closeDialog","_dialogCompleteHandler","clock","keyPressed","w","h","content","dialogW","dialogH","dialogPanel","dialogTxt","gamesForProject","BaseConfig","AUTO","parent","banner","LargerBase","PlatformerConfig","default","matter","gravity","enableSleep","arcade","Congratulations","xPos","particles","createEmitter","scale","min","lifespan","angle","gravityY","blendMode","levelupSound","GameFailed","lastScene","_restart","gameoverSound","checkResultMatchTarget","equal","matched","expKey","generateSuccessMessage","PhaserGameBox","codeResultCallback","gameRef","audioSuccessRef","audioFailureRef","currentTarget","updateProjectStatus","useEffect","Audio","getAt","music","currentGame","withParentAndScene","Game","addListener","removeListener","MiniGamePanel","buttonIcon","icon","ProjectCodeMode","mockRunningHandlelr","hasError","successMessage","failureMessage","notification","warn","addEffect","targetClass","effectClass","document","querySelector","classList","removeEffect","ProjectPage","location","useLocation","pid","useParams","URLSearchParams","search","GamePage","AppTopbar","props","history","useHistory","listen","pathname","indexOf","layoutColorMode","onMobileTopbarMenuClick","classNames","mobileTopbarMenuActive","queryParams","window","scrollTo","handleRouteChange","onMobileSubTopbarMenuClick","AppFooter","App","res","component","exact","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.4889cb24.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\n\nconst EmptyPage = () => {\n\n    return (\n        <div className=\"grid\">\n            <div className=\"col-12\">\n                <div className=\"card\">\n                    <h5>Empty Page</h5>\n                    <p>Use this page to start from scratch and place your custom content.</p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default EmptyPage","/**\n * app brand labels\n */\nexport const app_brand = {\n  hero_title_a: 'Minimal Python Coding Playground',\n  hero_title_b: 'for Beginners',\n  action_now_label: 'Get Started',\n  action_now_route: '/project/1',\n  feature_title_a: 'Coding with fun?',\n  feature_title_b: '🐱',\n  feature_title_c: 'Here are well designed projects with different levels to guide your growing hands-on skills.',\n}","import { Link, } from 'react-router-dom';\n\nconst ProjectCard = ({ project, completed }) => {\n\n  return (\n    <div className=\"p-col-12 w-full sm:w-6 lg:w-4\" >\n        <div className=\"feature-card zoom\">\n            <img className=\"\" alt=\"components\" src={project.image} />\n            <div className=\"top-row\">\n              { Array(project.level).fill(0).map(\n                (_, i) => (\n                  <span className=\"px-1\" key={i}>\n                    <img src=\"assets/icon/favourite.png\" className=\"star-icon\" alt=\"star\" />\n                  </span>\n                )\n              )}\n              { completed[project.id] && (\n                <img \n                  src=\"assets/icon/medal.png\" \n                  className=\"complete-badge-icon\" \n                  alt=\"badge\" \n                />\n              )}\n            </div>\n            <div className=\"center-row\" >\n              <div className=\"avatar-img\">\n                <img\n                  src={project.player}\n                  alt=\"game player\" \n                />\n              </div>\n            </div>\n            <div className=\"footer-row\">\n              <h3>{project.title}</h3>\n            </div>\n            <div className=\"feature-card-detail\">\n                <p className=\"text-2xl h-8rem\">{project.description}</p>\n            </div>\n            <div className=\"footer p-5\">\n              <Link to={`/project/${project.id}`} \n                  className=\"action-button in-card\">\n                  Explore\n              </Link>\n            </div>\n        </div>\n    </div>\n  )\n}\n\nexport default ProjectCard","import axios from 'axios'\n\nconst API_ROOT_PATH = '/api'\n\nexport const getProjects = () =>\n  axios.get('data/projects.json')\n    .then(res => res.data.data);\n\nexport const getGameCodeRunningResult = gameSnippet => \n  axios.post(`${API_ROOT_PATH}/run`, gameSnippet)\n  .then(function (response) {\n    return response;\n  })\n  .catch(function (error) {\n    console.log(error);\n  });","import create from 'zustand'\n\nimport {\n  getGameCodeRunningResult as runPY\n} from '../service/ProjectService'\n\n/**\n * Compose GameSnippet object\n * @param {function} getHandler \n * @returns gameSnippet match backend schema\n */\nconst getCurrentGameSnippet = getHandler => ({\n  id:   getHandler()['projectID'],\n  name: getHandler()['projectName'],\n  code: getHandler()['codeValue'],\n  params: '',\n  codeType: '',\n})\n\nconst projectStore = create(\n  (set, get) => ({\n    // for home page\n    projects: [],\n    setProjects: items => set({ projects : items }),\n    // for project page\n    introMode: true,\n    switchMode: () => set(\n      state => ({introMode: !state['introMode']})\n    ),\n    runningMode: false, // just for visual effect\n    toggleRunning: () => set(\n      state => ({runningMode: !state['runningMode']})\n    ),\n    // project id\n    projectID: '1',\n    setProjectID: id => set({projectID: id}),\n    // project name\n    projectName: 'demo project',\n    setProjectName: name => set({projectName: name}),\n    // editor code\n    codeValue: '',\n    codeValueChanged: code => set({codeValue: code}),\n    // code running state\n    codeExecResult: {},\n    // code running error\n    codeExecError: null,\n    // starte running code\n    isRunning: false,\n    // game status\n    isSucceed: false,\n    // update game status\n    gameSucceed: result => set({isSucceed: result}),\n    // call backend\n    startRunning: () => set({isRunning: true}),\n    // code running request\n    execute: async (target) => {\n      set({runningMode: true})\n      const gameSnippet = getCurrentGameSnippet(get)\n      const result = await runPY({...gameSnippet, ...target})\n      if (result['status'] === 200) {\n        set({codeExecResult: result['data']})\n      } else {\n        set({codeExecError: result})\n      }\n      set({isRunning: false})\n      setTimeout(()=>{set({runningMode: false})}, 300)\n    },\n    reset: () => set({\n      codeExecResult: {},\n      codeExecError: null,\n      introMode: true,\n      isSucceed: false,\n    }),\n    GAME_DEGUG: true,\n    tipsPanelExpanded: true,\n    toggleTipsPanel: () => set(\n      state => ({tipsPanelExpanded: !state['tipsPanelExpanded']})\n    ),\n    // more state and action ...\n  })\n)\n\nexport default projectStore\n","import React from 'react';\nimport { Link, } from 'react-router-dom';\nimport useLocalStorageState from 'use-local-storage-state'\n\nimport { app_brand } from '../config/constants'\nimport ProjectCard from '../components/ProjectCard';\nimport projectStore from '../state/ProjectState'\n\nconst HomePage = () => {\n\n    const projects = projectStore(state => state.projects)\n    const [completed, ] = useLocalStorageState('projects_status', {})\n\n    const Spinner = () => (\n        <i className=\"pi pi-spin pi-spinner\" style={{'fontSize': '2em'}}></i>\n    )\n\n    return (\n        <div className=\"home\">\n            {/* hero */}\n            <div className=\"col-12 px-0 sm:px-2\">\n                <div className=\"card hero border-noround md:border-round\">\n                    <h1 className=\"intro-title\">{app_brand.hero_title_a}</h1>\n                    <h2 className=\"intro-subtitle\">{app_brand.hero_title_b}</h2>\n                    <Link to={app_brand.action_now_route} className=\"action-button\">\n                        {app_brand.action_now_label}\n                    </Link>\n                </div>\n            </div>\n            {/* projects title */}\n            <div className=\"col-12 features\">\n                <h1 className=\"mb-6\">\n                    <span className=\"header-title \">PROJECTS</span>\n                </h1>\n                <p className=\"text-2xl\">\n                    {app_brand.feature_title_a}\n                    <span role=\"img\" aria-label=\"celebrate\" className=\"px-2\">\n                        {app_brand.feature_title_b}\n                    </span> \n                    {app_brand.feature_title_c}\n                </p>\n            </div>\n            {/* projects grid */}\n            <div className=\"col-12 features\">\n                { !projects.length && (\n                    <Spinner />\n                )}\n                { projects.length > 0 && (\n                    <div className=\"grid\">\n                        { projects.map((project, i) => (\n                            <ProjectCard \n                                key={i} \n                                project={project}\n                                completed={completed}\n                            />\n                        ))}\n                    </div>\n                )}\n            </div>\n            {/* more features... */}\n\n        </div>\n    );\n}\n\nexport default HomePage","import React from 'react'\n\nimport projectStore from '../state/ProjectState'\n\n\nconst ProjectIntro = () => {\n\n  const projectID = projectStore(state => state.projectID)\n  const projects = projectStore(state => state.projects)\n  const [ project ] = projects.filter(project => project.id === Number(projectID))\n\n  return (\n    <div className=\"intro-area border-solid h-10rem blue-round-panel pb-0\">\n      {/* title row */}\n      <div className=\"flex justify-content-between\">\n        <h3 className=\"text-900\">\n          <span className=\"border-bottom-3 \">\n            {project.title}\n          </span>\n          </h3>\n        <h3>\n          { Array(project.level).fill(0).map(\n            (_, i) => (\n              <span className=\"px-1\" key={i}>\n                ⭐\n              </span>\n            )\n          )}\n        </h3>\n      </div>\n      {/* body row */}\n      <div className=\"flex justify-content-between\">\n        <div className=\"left-part flex-1\">\n          <p className=\"description text-xl text-700\">\n            {project.description}\n          </p>\n          <p className=\"pb-0 tags\">\n            {project.tags.map(\n              (tag, i) => (\n                <span className={`action-fun text-sm var-${i}`} key={tag}>\n                  {tag}\n                </span>\n              )\n            )}\n          </p>\n        </div>\n        <div className=\"right-part\">\n          <img src={project.player} width=\"50\" alt=\"alien\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ProjectIntro","import React from 'react'\n\nimport projectStore from '../state/ProjectState'\n\nconst MissionPanel = () => {\n\n  const switchMode = projectStore(state => state.switchMode)\n  const projectID = projectStore(state => state.projectID)\n  const projects = projectStore(state => state.projects)\n  const [ tip ] = projects.filter(project => project.id === Number(projectID))\n\n\n  return (\n    <div className=\"flex-space-between full-height\">\n      <div className=\"left-part\">\n        <h3 className=\"text-900 \">\n          <span className=\"border-bottom-3 \">Mission</span>\n        </h3>\n        <p className=\"text-2xl text-700 mt-3\">\n          {tip.mission}\n        </p>\n      </div>\n      <div className=\"right-part center-child bg-blue-500\">\n        <button \n          type=\"button\" \n          className=\"go-btn\" \n          onClick={switchMode}>\n          <span className=\"ml-1\">Go</span>\n          <span className=\"pb-0\">\n            <i className=\"pi pi-angle-double-right\"></i>\n          </span>\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default MissionPanel","import React from 'react'\n\nimport ReactPlayer from 'react-player'\nimport ProjectIntro from './ProjectIntro';\nimport MissionPanel from './MissionPanel';\n\nconst ProjectDemoMode = () => {\n\n  return (\n    <>\n      <ProjectIntro />\n      <div className=\"content-area blue-round-panel dark\">\n        <ReactPlayer\n            url='https://www.youtube.com/watch?v=oUFJJNQGwhk'\n            controls={true}\n          />\n      </div>\n      <div className=\"result-area border-solid h-12rem blue-round-panel p-0\">\n        <MissionPanel />\n      </div>\n    </>\n  )\n}\n\nexport default ProjectDemoMode","export const rTabs = str => str.trim().replace(/^ {4}/gm, '');\n\nexport const isEmptyObj = obj => Object.keys(obj).length === 0","import { rTabs } from '../utils/StrUtil'\n\nconst projectCode_1 = rTabs(`\n    troops_amount = 20  # DO NOT TOUCH THIS LINE!\n    # Note: \n    # make an expression to double the troops_amount variable value:\n    # troops_amount = troops_amount * 2\n`)\n\nconst projectCode_2 = rTabs(`\n    # Tips: \n    # walk(1)\n    # jump(1)\n    # pivot()\n    #\n    # lets get started with:\n    walk(1)\n    jump(1)\n    walk(1)\n    jump(1)\n    walk(1)\n    pivot()\n`)\n\nconst projectCode_3 = rTabs(`\n    bridge = [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0]\n    # lets get started with repairing first space:\n    bridge[1] = 1\n    # now your turn to fill other spaces:\n`)\n\nconst projectCode_4 = rTabs(`\n    # myName = \"??ILLOU\"\n    # Mission Brief:\n    # The robot could not recall his name recorded in a variable <myName> above, \n    # help him to figure it out the first two letters.\n    # \n    # Tips:\n    # First two letter of his name is missing, you are expected to use\n    # string slice method to extract the real value of '??' from <myName>!\n    # \n    # Now, write you solution to replace the 'None' below:\n    firstTwoChars = None\n`)\n\nconst projectCode_5 = rTabs(`\n    # There are two box holding the answer of the Sphinx famous question:\n    # green_box = \"********\"\n    # red_box = \"########\"\n    # Mission Brief:\n    # first, you need to know the right anwser, \n    # then you need to know how to check the two box with \"if\" statement,\n    # if the two box contain the key word of right anwser, return the box!\n    # Tips:\n    # key word may use 'person', :)\n    # lets first create a placeholder for your anwser,\n    # check two box variables, asign the right one to the 'the_right_box':\n    the_right_box = None\n    if \"person\" in green_box:\n        the_right_box = green_box\n    if \"person\" in red_box:\n        the_right_box = red_box\n`)\n\nconst projectCode_6 = rTabs(`\n    # Mission Brief: \n    # In this game, you are going to loop 'all_paths' list:\n    # all_paths = [path_object, path_object, path_object, ...]\n    # Check each path object, which one includes the right obstacle to \n    # reach the exit point!\n    #\n    # Tips:\n    # Every path_object has a function: includeItem(type) to return \n    # True or False. type parameter in the function might be one of \n    # 'leaf', 'bridge', 'diamond', 'key', 'heart', 'cone'.\n    # You may have noticed the right way out includes a 'key'!\n    # \n    # lets first create a placeholder used to save your finding:\n    right_path = None\n    for path_object in all_paths:\n        # check the 'path_object' above using its api 'includeItem',\n        # then assign your finding to 'right_path'\n        if path_object.includeItem('key'):\n            right_path = path_object\n`)\n\nconst projectCode_7 = rTabs(`\n    # Assume you have Soldier definition like this:\n    # class Soldier:\n    #    def addPower(self, ability):\n    #        self.ability = ability\n    # also a 'troops' including numerous soldiers under your control:\n    # troops = [soldier, soldier, soldier, ...soldier]\n    #\n    # Mission Brief:\n    # Your troops are being trapped in toxic valley, you need to dispatch\n    # flying armor for each of them to get out of there!\n    #\n    # Tips:\n    # Every soldier in your 'troops' need 'flying' ability to escapge\n    # valley, loop the 'troops' list, get each soldier and call its \n    # 'addPower' function.\n    # \n    # lets check out our 'troops' list by a loop processing:\n    for soldier in troops:\n        soldier.addPower('flying')\n`)\n\nconst projectCode_8 = rTabs(`\n    # Assume you have two groups of stones which are flying constantly:\n    # yellow_stones = [*, *, *, *]\n    # red_stones = [*, *, *, *]\n    # Each 'stone' in that group actually is one of the alphabet\n    #\n    # Mission Brief:\n    # To reach the exit, you need to\n    # 1. have 'yellow_stones' sorted in ascending order,\n    # 2. have 'red_stones' sorted in descending order,\n    # 3. add two group stones into one list 'bridge_stones' below\n    # Tips:\n    # Remember to jump and hit the key to unlock the door.\n    bridge_stones = []\n    # lets first hack two groups of stones:\n    yellow_stones.sort()\n    red_stones.sort(reverse=True)\n    bridge_stones = yellow_stones + red_stones\n`)\n\nconst projectCode_9 = rTabs(`\n    # To fix the clock, here is a starting point to figure out current time:\n    import datetime\n    now = datetime.datetime.now()\n    # Mission Brief:\n    # You have a 'now' object to use, \n    # get the 'hour', 'minute', 'second' value from it!\n    #\n    # Tips:\n    # visit this tutorial to find the clue:\n    # https://www.geeksforgeeks.org/python-datetime-datetime-class/\n    # Search: Example 2: Accessing the attributes of date and time object\n    # \n    # lets define empty variables to be replaced with your solutions:\n    hour = now.hour\n    minute = now.minute\n    second = now.second\n`)\n\n\nexport const projectsBoilerplateCode = {\n    1: projectCode_1,\n    2: projectCode_2,\n    3: projectCode_3,\n    4: projectCode_4,\n    5: projectCode_5,\n    6: projectCode_6,\n    7: projectCode_7,\n    8: projectCode_8,\n    9: projectCode_9,\n}\n\nexport const projectsCodeTarget = {\n    1: {\n        projName: 'Clone Army',\n        codeType: 'statements', \n        params: 'troops_amount', \n        expect: 40,\n    },\n    2: {\n        projName: 'Lava Adventure',\n        codeType: 'actions',\n        params: '',\n        expect: [{walk: 1}, {jump: 1}, {walk: 1}, {jump: 1}, {walk: 1}, {pivot: 0}],\n    },\n    3: {\n        projName: 'Missing bricks',\n        codeType: 'statements',\n        params: 'bridge',\n        expect: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n    },\n    4: {\n        projName: 'Guess My Name',\n        codeType: 'statements', \n        params: 'firstTwoChars', \n        expect: 'CA',\n    },\n    5: {\n        projName: 'Riddle of Sphinx',\n        codeType: 'statements',\n        params: 'the_right_box',\n        expect: 'a person'\n    },\n    6: {\n        projName: 'Which way to go',\n        codeType: 'statements',\n        params: 'right_path',\n        expect: {id: 4}\n    },\n    7: {\n        projName: 'Free Your Troops',\n        codeType: 'statements',\n        params: 'troops',\n        expect: [\n            {ability: 'flying'}, {ability: 'flying'}, {ability: 'flying'},\n            {ability: 'flying'}, {ability: 'flying'}, {ability: 'flying'},\n            {ability: 'flying'}, {ability: 'flying'}, {ability: 'flying'},\n            {ability: 'flying'}, {ability: 'flying'}, {ability: 'flying'},\n        ]\n    },\n    8: {\n        projName: 'Pass live bridge',\n        codeType: 'statements',\n        params: 'bridge_stones',\n        expect: ['a', 'b', 'c', 'd', 'h', 'g', 'f', 'e']\n    },\n    9: {\n        projName: 'Fix the clock',\n        codeType: 'solutions_clock',\n        params: 'hour,minute,second',\n        expect: [true, true, true]\n    },\n}\n","import { css } from \"@emotion/react\";\n\n\nexport const dotLoaderStyle = css`\n  display: block;\n  margin: 0 auto;\n`\n\nexport const codeEditorOptions = {\n  fontSize: 14,\n  minimap: {\n    enabled: false\n  }\n}","import React, { useRef } from 'react'\nimport MonacoEditor from '@monaco-editor/react'\nimport { Button } from 'primereact/button'\nimport {\n  BiRun, BiTerminal, BiBookAlt, BiKey, BiReset, BiHelpCircle, BiWindowClose,\n} from \"react-icons/bi\"\n\nimport { FiThumbsUp } from 'react-icons/fi'\n\nimport projectStore from '../state/ProjectState'\nimport { projectsBoilerplateCode, } from '../config/ProjectDefaultCode'\nimport { codeEditorOptions } from '../config/project'\n\nconst PYCodeEditor = () => {\n\n  const editorRef = useRef(null);\n\n  const runningMode = projectStore(state => state.runningMode)\n  const projectID = projectStore(state => state.projectID)\n  const codeValueChanged = projectStore(state => state.codeValueChanged)\n  const startRunning = projectStore(state => state.startRunning)\n  // const isSucceed = projectStore(state => state.isSucceed)\n  const isSucceed = projectStore(state => true)\n  const toggleTipsPanel = projectStore(state => state.toggleTipsPanel)\n\n  const currentProjectCode = projectsBoilerplateCode[projectID]\n\n\n  const handleEditorDidMount = (editor, _) => {\n    editorRef.current = editor;\n    codeValueChanged(editor.getValue())\n  }\n\n  return (\n    <div className=\"h-full w-full flex justify-content-between\">\n      <MonacoEditor\n        height=\"420px\"\n        width=\"710px\"\n        defaultLanguage=\"python\"\n        defaultValue={currentProjectCode}\n        loading=\"Loading Code Editor...\"\n        options={codeEditorOptions}\n        onMount={handleEditorDidMount}\n        onChange={value => codeValueChanged(value)}\n      />\n      {/* tools */}\n      <div className=\"tools w-4rem border-left-1 border-blue-500 flex flex-column align-items-center\">\n        {/* run */}\n        <Button\n          className=\"p-button-rounded p-button-danger p-button-icon-only mx-2 mt-3\"\n          loading={runningMode}\n          onClick={startRunning}\n          tooltip=\"Run Code\"\n          disabled={isSucceed}\n          tooltipOptions={{disabled:runningMode}}\n          >\n          {!runningMode && !isSucceed && (<BiRun size=\"22\" />)}\n          {isSucceed && (<FiThumbsUp size=\"22\" />)}\n        </Button>\n        <Button \n          className=\"p-button-rounded p-button-help p-button-icon-only mx-3 mt-3\"\n          tooltip=\"Live Coding Demo\"\n          >\n          <BiTerminal size=\"20\" />\n        </Button>\n        <Button \n          className=\"p-button-rounded p-button-primary p-button-icon-only mx-3 mt-3\"\n          tooltip=\"Reference\"\n          >\n          <BiBookAlt size=\"20\" />\n        </Button>\n        <Button \n          className=\"p-button-rounded p-button-secondary p-button-icon-only mx-3 mt-3\"\n          tooltip=\"Tips\"\n          >\n          <BiKey size=\"20\" />\n        </Button>\n        <Button \n          className=\"p-button-rounded p-button-warning p-button-icon-only mx-3 mt-3\"\n          tooltip=\"Reset Code to Initial\"\n          >\n          <BiReset size=\"20\" />\n        </Button>\n        <Button \n          className=\"p-button-rounded p-button-info p-button-icon-only mx-3 mt-3\"\n          tooltip=\"Close Panel\"\n          onClick={toggleTipsPanel}\n          >\n          <BiWindowClose size=\"20\" />\n        </Button>\n        <Button \n          className=\"p-button-rounded p-button-success p-button-icon-only mx-3 mt-3\"\n          tooltip=\"Help Me\"\n          >\n          <BiHelpCircle size=\"20\" />\n        </Button>\n      </div>\n    </div>\n  )\n}\n\nexport default PYCodeEditor","import React, { useRef, useState } from 'react'\nimport { Link, } from 'react-router-dom';\nimport {Steps} from 'primereact/steps';\nimport { Toast } from 'primereact/toast';\nimport projectStore from '../state/ProjectState'\n\nconst ProjectTips = () => {\n\n  const toastRef = useRef(null)\n  const [activeIndex, setActiveIndex] = useState(0);\n  const projectID = projectStore(state => state.projectID)\n  const projects = projectStore(state => state.projects)\n  const [ projectInfo ] = projects.filter(project => project.id === Number(projectID))\n\n\n  const items = [\n      {\n        label: 'Mission',\n        command: (event) => {\n          toastRef.current.show({\n            sticky: true,\n            severity: 'info',\n            summary: 'Mission Brief',\n            detail: projectInfo.mission,\n          });\n        }\n      },\n      {\n        label: 'Tips',\n        command: (event) => {\n          toastRef.current.show({\n            severity: 'info', \n            summary: 'Tips', \n            detail: projectInfo.tips, \n            life: 4000 \n          });\n        }\n      },\n      {\n        label: 'Coding',\n        command: (event) => {\n          toastRef.current.show({\n            severity: 'info', \n            summary: 'Coding target', \n            detail: projectInfo.coding, \n            life: 3000 \n          });\n        }\n      },\n      {\n        label: 'Proceed',\n        command: (event) => {\n          toastRef.current.show({\n            severity: 'info', \n            summary: 'Last step', \n            detail: projectInfo.walk, \n            life: 3000 \n          });\n        }\n      },\n      {\n        label: 'Pass',\n        command: (event) => {\n          toastRef.current.show({\n            severity: 'info', \n            summary: 'Congratulations', \n            detail: projectInfo.pass, \n            life: 3000 \n          });\n        }\n      }\n  ];\n\n  return (\n    <div className=\"intro-area border-double h-10rem blue-round-panel pb-0\">\n      <Toast ref={toastRef} />\n      {/* title row */}\n      <div className=\"flex justify-content-between\">\n        <h3 className=\"text-900\">Instructions</h3>\n        <h3>\n          <Link to=\"/\">\n            <span className=\"px-1\">🏠</span>\n          </Link>\n        </h3>\n      </div>\n      {/* body row */}\n      <div className=\"flex justify-content-between\">\n        <Steps model={items} \n          className=\"w-full mt-4\"\n          activeIndex={activeIndex} \n          onSelect={(e) => setActiveIndex(e.index)} \n          readOnly={false}\n          />\n      </div>\n    </div>\n  )\n}\n\nexport default ProjectTips","import Phaser from 'phaser';\n\nclass Bullet extends Phaser.GameObjects.Image {\n  constructor(scene, x, y, texture){\n    super(scene, x, y, texture);\n    this.scene = scene;\n    this.scene.add.existing(this);\n    this.scene.physics.world.enableBody(this, 0); // dynamic body\n    this.setData('isDead', false);\n    this.born = 0\n    this.initY = y\n  }\n\n  // update position\n  update(time, delta) {\n    // moving...\n    this.x += delta * 0.6\n    this.y = this.initY // keep the bullet no gravity flying\n  }\n\n}\n\nclass Soldier extends Phaser.GameObjects.Sprite {\n  constructor(scene, x, y, texture, id){\n    super(scene, x, y, texture, 0) // stand\n    this.scene = scene;\n    this.scene.add.existing(this);\n    this.scene.physics.world.enableBody(this, 1); // static body\n    this.setData('id', id)\n    this.setData('fired', false)\n    this.setScale(0.6, 0.6);\n  }\n\n  fire() {\n    if (this.getData('fired')) return null\n\n    this.shootTimer = this.scene.time.addEvent({\n      delay: 200,\n      callback() {\n        this.setFrame(2) // lazy Kneeling\n        this.setData('fired', true) // lazy set fired\n      },\n      callbackScope: this,\n      loop: false,\n    });\n\n    return new Bullet(this.scene, this.x, this.y, 'bullet')\n  }\n\n  update() {\n    if (this.shootTimer === undefined) return\n    if (this.shootTimer === null) return\n    // lazy clear timer\n    if (this.getData('fired')) {\n      this.shootTimer.remove();\n      this.shootTimer = null\n    }\n  }\n\n}\n\nclass Enemy extends Phaser.GameObjects.Sprite {\n  constructor(scene, x, y, texture, id){\n    super(scene, x, y, texture)\n    this.scene = scene;\n    this.scene.add.existing(this);\n    this.scene.physics.world.enableBody(this, 0); // dynamic body\n    this.setData('id', id)\n    this.setData('isDead', false)\n    this.setScale(0.8, 0.8)\n    this.play('move')\n\n    const colors = [ 0xef658c, 0xff9a52, 0xffdf00, 0x31ef8c, 0x21dfff, 0x31aade, 0x5275de, 0x9c55ad, 0xbd208c ];\n    this.setTint(Phaser.Utils.Array.GetRandom(colors));\n  }\n\n  update(time, delta) {\n    if (!this.getData('isDead')) {\n      this.body.velocity.y = -5 // stand still\n    } else {\n      this.body.velocity.y = 100 // drop down...\n    }\n  }\n\n}\n\n\nclass CloneArmy extends Phaser.Scene {\n  constructor(){\n    super('CloneArmy');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    // soldiers column\n    this.columnIndex = 0\n    // shooting interval\n    this.shootingInterval = 0\n  }\n\n  preload(){\n    this.load.image('dude', 'assets/sprites/phaser-dude.png');\n    this.load.image('vida', 'assets/sprites/darthvida_sm.png');\n    this.load.image('bullet', 'assets/sprites/bullet5.png');\n    this.load.spritesheet('soldier', 'assets/sprites/solider_yellow.png', { frameWidth: 48, frameHeight: 48});\n    this.load.spritesheet('invader', 'assets/sprites/invader1.png', { frameWidth: 32, frameHeight: 32 });\n    this.load.spritesheet('boom', 'assets/sprites/explosion.png', { frameWidth: 64, frameHeight: 64, endFrame: 23 });\n    this.load.audio('fire', 'assets/audio/blaster.mp3');\n    this.load.audio('explosion', 'assets/audio/explosion.mp3');\n  }\n    \n  create(){\n    this.fireSound = this.sound.add('fire')\n    this.explosionSound = this.sound.add('explosion')\n\n    const move = {\n        key: 'move',\n        frames: 'invader',\n        frameRate: 4,\n        repeat: -1\n    };\n    const explode = {\n        key: 'explode',\n        frames: 'boom',\n        frameRate: 36,\n        hideOnComplete: true\n    };\n    this.anims.create(move);\n    this.anims.create(explode);\n\n    this.add.image(570, 30, 'dude');\n    const vida = this.add.image(30, 32, 'vida');\n    vida.setScale(0.8, 0.8);\n\n    this.soldiers = this.add.group([], {runChildUpdate: true});\n    this.enemies = this.add.group([], {runChildUpdate: true});\n    this.playerLasers = this.add.group([], {runChildUpdate: true});\n\n    // soldiers squad ...\n    const rows = 4\n    for (var i=0; i<5; i++) {\n      for (var j=0; j<rows; j++) {\n        var soldier = new Soldier(this, 20+i*20, 90+j*32, 'soldier', i*rows+j)\n        this.soldiers.add(soldier);\n      }\n    }\n\n    for (var m=0; m<10; m++) {\n      for (var n=0; n<rows; n++) {\n        var alien = new Enemy(this, 310+m*30, 90+n*32, 'invader', m*rows+n)\n        this.enemies.add(alien)\n      }\n    }\n\n    // fire by a column of soldiers\n    this.input.keyboard.on('keydown-SPACE', function() {\n      // if (!this.complete) return\n\n      // control shooting interal\n      if (this.shootingInterval < 40) return\n\n      // reset interval\n      this.shootingInterval = 0\n\n      const reversedSoilder = [...this.soldiers.getChildren()].reverse()\n      const oneColumn = []\n      reversedSoilder.forEach(soldier => {\n        if (oneColumn.length === 4) return\n        if (!soldier.getData('fired')) {\n          oneColumn.push(soldier)\n        }\n      })\n\n      if (oneColumn.length) {\n        this.fireSound.play()\n      }\n      oneColumn.forEach(soldier => {\n        const bullet = soldier.fire()\n        if (bullet) {\n          this.playerLasers.add(bullet)\n        }\n      })\n    }, this);\n    \n    // collision detection\n    this.physics.add.collider(this.enemies, this.playerLasers, function(enemy, bullet){\n      this.explosionSound.play()\n      // this.exploding = true\n      bullet.destroy()\n\n      enemy.setData('isDead', true)\n      enemy.clearTint()\n      enemy.play('explode')\n      enemy.on('animationcomplete', function(){\n        // this.exploding = false\n        enemy.destroy() // destroy enemy later\n      }, this)\n\n    }, null, this)\n\n  } // end of create\n\n  _createTextBouncing() {\n    this.tweens.add({\n      targets: this.guideTxt,\n      y: 30,\n      duration: 500,\n      repeat: 4,\n      paused: false,\n      yoyo: true\n    });\n  }\n\n  _createGuideText(message, x=10, y=10) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(x, y, message, { fill: '#ffff00' });\n  }\n\n  update(time, delta){\n    if (this.succeed) return\n    // update interval\n    this.shootingInterval += 1\n\n    const completed = this.enemies.getLength() === 0\n    if (!completed) return\n    \n    this.succeed = true\n    // lazy change scene to congratulation!\n    setTimeout(() => {\n      this.onGameSuccess()\n      this.scene.start(\n        'congratulations', \n        { msg: 'You completed the [Clone Army] project!'}\n      )\n    }, 300)\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n   bingo(_, success) {\n    if (this.complete) return\n\n    if (!success) return // success is a must\n\n    this._createGuideText('Bingo! press SPACE BAR to shoot those aliens.', 70, 20)\n    this._createTextBouncing()\n    // add more soliders...\n    const rows = 4\n    for (var i=5; i<10; i++) {\n      for (var j=0; j<rows; j++) {\n        var soldier = new Soldier(this, 20+i*20, 90+j*32, 'soldier', i*rows+j)\n        this.soldiers.add(soldier);\n      }\n    }\n    this.complete = true\n    return this.complete\n  }\n\n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n\n}\n\nexport default CloneArmy","import Phaser from 'phaser';\n\nclass Action {\n\n  constructor(player, step, updateCallback=null) {\n    this.player = player\n    this.step = step\n    this.frameCounter = 0\n    this.frameTotal = 40\n    this._parse(step)\n    this.onUpdate = updateCallback\n  }\n\n  _parse(step) {\n    this.name = Object.keys(step)[0]\n    this.length = step[this.name]\n    if (this.length) {\n      this.frameTotal *= this.length\n    } else {\n      this.frameTotal = 12 // for pivot\n    }\n  }\n\n  toString() {\n    return '>>> action: ' + this.name\n  }\n\n  _goRight() {\n    this.player.setVelocityX(90);\n    this.player.play('right', true);\n  }\n\n  _goJump() {\n    this.player.play('jump');\n    this.player.setVelocityX(100);\n    this.player.setVelocityY(-140);\n  }\n\n  _goPivot() {\n    this.player.setVelocityX(0);\n    this.player.play('pivot', true);\n    this.player.setScale(0.6, 0.6)\n  }\n\n  _goTransport() {\n    this.player.play('turn');\n    this.player.setScale(0.4, 0.4)\n    this.player.x += 1\n  }\n\n  _goIdle() {\n    this.player.setVelocityX(0);\n    this.player.play('turn');\n  }\n\n  update() {\n    if (this.frameCounter > this.frameTotal) return\n    \n    const actionToFunction = {\n      walk : this._goRight.bind(this),\n      jump : this._goJump.bind(this),\n      pivot: this._goPivot.bind(this),\n      transport: this._goTransport.bind(this),\n      idle: this._goIdle.bind(this),\n    }\n    // safety check\n    if (!actionToFunction[this.name]) return\n    \n    // execute the action\n    actionToFunction[this.name]()\n\n    if (this.onUpdate) this.onUpdate()\n\n    this.frameCounter += 1\n  }\n\n  isEnd() {\n    return this.frameCounter >= this.frameTotal\n  }\n\n}\n\n\nclass ActionManager {\n\n  constructor(\n    actions = [], \n    context = { player: null, dockerLayer: null, pivotLayer: null }, \n    exitCallback = null\n  ) {\n    this.actions = actions\n    this.state = {}\n    this.moveCounter = 0\n    this.context = context\n    this.onExit = exitCallback\n  }\n\n  update(state = {pivotHit: false, exitHit: false}) {\n    this.state = state\n    // game complete!\n    if (!this.actions.length) return\n\n    this.moveCounter += 1 // lazy action execution counter\n    // waiting for bingo calling repetition until last update\n    if (this.moveCounter < 24) return\n\n    const action = this.actions[0]\n    // action running...\n    action.update()\n\n    if (!action.isEnd()) return // still need update current action\n\n    // remove first action after it completion\n    this.actions.shift()\n\n    // pivot action, and hit the pivot trigger\n    if (action.name === 'pivot' && this.state.pivotHit) {\n      this.context.dockerLayer.setVisible(false)\n      this.context.pivotLayer.setVisible(true)\n      // insert next action: transport\n      this.actions.unshift(new Action(\n        this.context.player, \n        {transport: 2}, // move steps\n        () => this.context.pivotLayer.x += 1\n      ))\n    }\n\n    // reach the exit trigger\n    if (action.name === 'jump' && this.state.exitHit) {\n      this.actions.unshift(new Action(\n        this.context.player,\n        {walk: 0},\n      ))\n      this.actions.unshift(new Action(\n        this.context.player,\n        {idle: 1},\n      ))\n    }\n\n    // end of all actions\n    if (this.actions.length === 0 && this.state.exitHit) {\n      if (this.onExit) this.onExit()\n    }\n\n  }\n\n  isEnd() {\n    return this.actions.length === 0\n  }\n\n}\n\n\nclass LavaAdventure extends Phaser.Scene {\n  constructor(){\n    super('LavaAdventure');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // tile layers\n    this.background = null\n    this.docker = null\n    // failed after player y > 180\n    this.failed = false\n    // actions to go\n    this.actions = []\n    // hit the pivot\n    this.pivotHolded = false\n    // hit the exit\n    this.exitHitted = false\n    // manager\n    this.actionManager = null\n  }\n\n  init() {\n    this.failed = false\n  }\n\n  preload(){\n    this.load.image('sky', 'assets/skies/sunset.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/kenney_redux_64x64.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/lavaAdventure.json')\n    this.load.spritesheet(\n      'player', \n      'assets/sprites/player_tilesheet.png', \n      { frameWidth: 80, frameHeight: 110 }\n    );\n    \n    this.load.audio('lose', 'assets/audio/arcade_resources_sounds_lose4.mp3');\n  }\n  \n  create(){\n    this.add.image(300, 102, 'sky')\n\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('adventure', 'tiles');\n\n    this.background = map.createLayer('background', tiles, -40, 0);\n    this.background.setCollision([2, 13,]) // 2: wall, 13: grass block, 96: exit\n    this.exits = this.background.filterTiles(tile => tile.index === 96)\n    \n    this.docker = map.createLayer('docker', tiles, -40, 0)\n    this.docker.setCollision([42, 54]) // road tiles\n    this.pickups = this.docker.filterTiles(tile => tile.index === 190);\n\n    this.pivoted = map.createLayer('pivoted', tiles, -40, 0)\n    this.pivoted.setVisible(false) // hide first\n    this.pivoted.setCollision([42, 54]) // road tiles\n\n    this._createPlayer()\n    this._createPlayerAnimation()\n\n    // set layer collision\n    this.physics.add.collider(this.background, this.player);\n    this.physics.add.collider(this.docker, this.player);\n    this.physics.add.collider(this.pivoted, this.player);\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n    // disable space key presss, conflict with monaco editor\n    this.input.keyboard.removeCapture(32);\n    this.loseSound = this.sound.add('lose')\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(20, 0, 'player', 0);\n    this.player.setBounce(0.2);\n    this.player.setScale(0.4, 0.4);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n  }\n\n  _createPlayerAnimation() {\n    this.anims.create({\n        key: 'turn',\n        frames: [ { key: 'player', frame: 0 } ],\n        frameRate: 6\n    });\n\n    this.anims.create({\n        key: 'left',\n        frames: this.anims.generateFrameNumbers('player', { start: 10, end: 9 }),\n        frameRate: 6,\n        repeat: -1\n    });\n\n    this.anims.create({\n        key: 'right',\n        frames: this.anims.generateFrameNumbers('player', { start: 9, end: 10 }),\n        frameRate: 6,\n        repeat: -1\n    });\n\n    this.anims.create({\n      key: 'jump',\n      frames: [ { key: 'player', frame: 1 } ],\n      frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'hold',\n      frames: [ { key: 'player', frame: 11 } ],\n      frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'pivot',\n      frames: this.anims.generateFrameNumbers('player', { start: 13, end: 14 }),\n      frameRate: 6,\n      repeat: 1\n    });\n\n    this.anims.create({\n      key: 'fall',\n      frames: [ { key: 'player', frame: 4 } ],\n      frameRate: 6\n    });\n\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(50, 20, message, { fill: '#ffff00', fontSize: 18 });\n  }\n\n  _goIdle() {\n    this.player.setVelocityX(0);\n    this.player.play('turn');\n  }\n\n  _goDrop() {\n    this.player.play('fall');\n\n    if (this.loseSound.isPlaying) return\n    this.loseSound.play()\n  }\n\n  _gameFailed() {\n    this.failed = true\n    setTimeout(() => {\n      this.scene.start(\n        'gamefailed', \n        { scene: 'LavaAdventure'}\n      )\n    }, 200)\n  }\n\n  _hitPivot() {\n    this.pivotHolded = true\n  }\n\n  _hitExit() {\n    this.exitHitted = true\n  }\n\n  _manualControl() {\n    if (this.cursors.left.isDown) {\n      this.player.setVelocityX(-160);\n      return this.player.play('left', true);\n    } else if (this.cursors.right.isDown) { // walk right\n      this.player.setVelocityX(90);\n      return this.player.play('right', true);\n    }\n    if (this.cursors.up.isDown){\n      this.player.play('jump');\n      return this.player.setVelocityY(-160);\n    }\n    this.player.setVelocityX(0);\n    this.player.play('turn');\n\n    if (this.exitHitted) {\n      this._successHandler()\n    }\n  }\n\n  /**\n   * check collision before mannual and auto mode\n   */\n  _collisionCheck() {\n    this.physics.world.overlapTiles(this.player, this.pickups, this._hitPivot, null, this);\n    this.physics.world.overlapTiles(this.player, this.exits, this._hitExit, null, this);\n  }\n\n  /**\n   * **********  GAME UPDATE CALLBACK  *************\n   * @returns \n   */\n  update(){\n    if (this.failed || this.succeed) return\n\n    if (this.player.y > 180) {\n      return this._gameFailed()\n    }\n\n    if (this.player.y > 120) {\n      return this._goDrop()\n    }\n\n    this._collisionCheck()\n\n    // manual mode\n    if (!this.actionManager || this.actionManager.isEnd()) {\n      return this._manualControl()\n    }\n\n    // auto mode\n    const state = {\n      pivotHit: this.pivotHolded, \n      exitHit: this.exitHitted\n    }\n    this.actionManager.update(state)\n  }\n\n  _goStart() {\n    // back to start\n    this.player.setPosition(20, 60)\n    this.pivotHolded = false\n    this.docker.setVisible(true)\n    this.pivoted.setVisible(false)\n    this.pivoted.x = -40\n    this._goIdle()\n  }\n\n  _successHandler() {\n    this.succeed = true\n    this.onGameSuccess()\n    this.scene.start(\n      'congratulations', \n      { msg: 'You completed the [Lava Adventure] project!'}\n    )\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(steps = [], success) {\n    this._goStart()\n\n    const actions = steps.map(\n      step => new Action(this.player, step)\n    )\n\n    this.actionManager = new ActionManager(\n      actions,\n      {\n        player: this.player,\n        dockerLayer: this.docker,\n        pivotLayer: this.pivoted,\n      },\n      this._successHandler.bind(this)\n    )\n\n    if (success) {\n      this._createGuideText('Bingo! Move player with SPACE KEY to exit!')\n    }\n\n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nexport default LavaAdventure","import Phaser from 'phaser';\n\nclass MakeYourPath extends Phaser.Scene {\n  \n  constructor(){\n    super('MakeYourPath');\n    this.blankRows = [\n      [ 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, ], // - row blank\n      [ 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, ], // - row blank\n      [ 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 107, 151, ], // - row blank, last tile is Door\n    ]\n    this.level0 = [\n      ...this.blankRows,\n      [ 12, 107, 12, 107, 12, 107, 12, 107, 12, 107, 12, 107, 12, 107, 12, 107, 12, 107, 12,  ], // - ** path row **\n      [ 1, 107, 1, 107, 1, 107, 1, 107, 1, 107, 1, 107, 1, 107, 1, 107, 1, 107, 1, ], // - row blank\n      [ 1, 10, 1, 10, 1, 10, 1, 10, 1, 10, 1, 10, 1, 10, 1, 10, 1, 10, 1, ], // - row lava\n    ]\n    this.level1 = [\n      ...this.blankRows,\n      [ 107, 122, 107, 122, 107, 122, 107, 122, 107, 122, 107, 122, 107, 122, 107, 122, 107, 122, 107, ], // - ** path row **\n    ]\n    this.pickups = []\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // debug flag\n    this.debug = false\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n  }\n\n  preload() {\n    this.load.image('tileskenney', 'assets/tilemaps/tiles/kenney_redux_64x64.png');\n    this.load.spritesheet('dude', 'assets/sprites/dude.png', { frameWidth: 32, frameHeight: 48 });\n  }\n\n  _createGroundLayer(tilesArray) {\n    // When loading from an array, make sure to specify the tileWidth and tileHeight\n    var map = this.make.tilemap({ data: tilesArray, tileWidth: 64, tileHeight: 64 });\n    var tiles = map.addTilesetImage('tileskenney');\n    var groundLayer = map.createLayer(0, tiles, 0, 42);\n    groundLayer.setScale(0.5, 0.5);\n    groundLayer.setCollision([12, 122]) // 12, 122 is the tile id of path row\n\n    // get exit tile\n    if (this.pickups.length === 0) {\n      this.pickups = map.filterTiles(tile => tile.index === 151);\n    }\n\n    return groundLayer\n  }\n\n  _createPlayerAnimation() {\n    this.anims.create({\n        key: 'left',\n        frames: this.anims.generateFrameNumbers('dude', { start: 0, end: 3 }),\n        frameRate: 10,\n        repeat: -1\n    });\n\n    this.anims.create({\n        key: 'turn',\n        frames: [ { key: 'dude', frame: 4 } ],\n        frameRate: 20\n    });\n\n    this.anims.create({\n        key: 'right',\n        frames: this.anims.generateFrameNumbers('dude', { start: 5, end: 8 }),\n        frameRate: 10,\n        repeat: -1\n    });\n\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(0, 0, 'dude');\n    this.player.setBounce(0.2);\n    this.player.setScale(0.8, 0.8)\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1) // put front\n  }\n\n  _createPlayerBouncing() {\n    this.tweens.add({\n      targets: this.player,\n      y: 50,\n      duration: 500,\n      repeat: 2,\n      paused: false,\n      yoyo: true\n    });\n  }\n\n  _createTextBouncing() {\n    this.tweens.add({\n      targets: this.guideTxt,\n      y: 20,\n      duration: 500,\n      repeat: 3,\n      paused: false,\n      yoyo: true\n    });\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ffff00' });\n  }\n\n  create() {\n    // create ground layer first\n    var groundLayer = this._createGroundLayer(this.level0)\n\n    // then, create player\n    this._createPlayer()\n    this._createPlayerAnimation();\n    this._createGuideText('Watch out!')\n    \n    // set layer collision\n    this.physics.add.collider(groundLayer, this.player);\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n    this.input.keyboard.removeCapture(32) // disable space key presss, conflict with monaco editor\n  }\n\n  update() {\n\n    if (this.cursors.left.isDown) {\n        this.player.setVelocityX(-160);\n        this.player.anims.play('left', true);\n    } else if (this.cursors.right.isDown) { // walk right\n        this.player.setVelocityX(80);\n        this.player.anims.play('right', true);\n    } else {\n        this.player.setVelocityX(0);\n        this.player.anims.play('turn');\n    }\n\n    if (this.cursors.up.isDown && this.player.body.blocked.down){\n        this.player.setVelocityY(-150);\n    }\n\n    // check collision\n    this.physics.world.overlapTiles(this.player, this.pickups, this._hitExit, null, this);\n  }\n\n  _hitExit() {\n    if (this.succeed) return\n\n    // lazy change scene to congratulation!\n    setTimeout(() => {\n      this.onGameSuccess()\n      this.scene.start(\n        'congratulations', \n        { msg: 'You completed the [Make Your Path] chapter!' }\n      )\n    }, 300)\n\n    this.succeed = true\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(bridge) {\n    if (this.complete) return\n    // reset player\n    this.player.setPosition(0, 80)\n\n    const bricks = []\n    if (Array.isArray(bridge)) {\n      // add the missing bricks\n      bridge.forEach((brick, index) => {\n        if (index % 2 === 0) bricks.push(107)\n        if (index % 2 === 1 && brick === 1) bricks.push(122)\n      })\n    }\n    // FIXME: restrict bricks to 18 blocks @2021/12/16\n    const withBlankLines = [...this.blankRows, bricks.slice(0, 18)]\n    const bridgeLayer = this._createGroundLayer(withBlankLines)\n    this.physics.add.collider(bridgeLayer, this.player);\n\n    const expectSum = bridge.reduce((a, b) => a + b, 0)\n    if (expectSum !== 18) return // not successful\n    \n    this._createGuideText('Bingo! Move player toward Exit with RIGHT ARROW key!')\n    this._createPlayerBouncing()\n    this._createTextBouncing()\n    \n    this.complete = true\n\n    return this.complete\n  }\n\n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nexport default MakeYourPath","import Phaser from 'phaser';\n\nclass GuessMyName extends Phaser.Scene {\n\n  constructor(){\n    super('GuessMyName');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.pickups = []\n    this.layerHoriOffset = -40\n  }\n\n  preload(){\n    this.load.image('logo', 'assets/sprites/phaser3-logo-small.png');\n    this.load.image('sky', 'assets/skies/sky2.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/platformPack_tilesheet.png');\n    this.load.image('letters', 'assets/tilemaps/tiles/yellow_spritesheet_512.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/guessMyName.json')\n    // player sprite sheet\n    this.load.spritesheet(\n      'player', \n      'assets/sprites/platformerPack_character.png', \n      { frameWidth: 96, frameHeight: 96 }\n    );\n  }\n    \n  create(){\n    this.add.image(300, 102, 'sky')\n\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('platform', 'tiles');\n    var tiles2 = map.addTilesetImage('letters512', 'letters')\n\n    this.background = map.createLayer('background', tiles, this.layerHoriOffset, 0);\n    this.background.setCollision([18, 60])\n\n    this.lockerLayer = map.createLayer('lock', tiles, this.layerHoriOffset, 0);\n    this.keyLayer = map.createLayer('key', tiles, this.layerHoriOffset, 0);\n    this.lettersLayer = map.createLayer('letters', tiles2, this.layerHoriOffset, 0);\n    this.caillouLayer = map.createLayer('caillou', tiles2, this.layerHoriOffset, 0);\n    this.caillouLayer.setVisible(false)\n\n    this.ladderLayer = map.createLayer('ladder', tiles, this.layerHoriOffset, 0);\n    this.ladderLayer.setVisible(false)\n    \n    this._collisionTiles(this.background, this.ladderLayer, this.keyLayer)\n    this._createPlayerAnimation()\n    this._createPlayer()\n\n    this.collider = this.physics.add.collider(this.background, this.player);\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n    // disable space key presss, conflict with monaco editor\n    this.input.keyboard.removeCapture(32);\n  }\n\n  _collisionTiles(bgLayer, ladderLayer, keyLayer) {\n    if (this.pickups.length) return\n    // get door\n    var doors = bgLayer.filterTiles(tile => tile.index === 76)\n    this.pickups = this.pickups.concat(doors)\n    // get ladder\n    var ladders = ladderLayer.filterTiles(tile => tile.index === 58)\n    this.pickups = this.pickups.concat(ladders)\n    // get keys\n    var keys = keyLayer.filterTiles(tile => tile.index === 65)\n    this.pickups = this.pickups.concat(keys)\n  }\n\n  _createPlayer() {\n    // y position below 30 to invoke jump!\n    this.player = this.physics.add.sprite(100, 30, 'player', 0);\n    this.player.setBounce(0.2);\n    this.player.setScale(0.6, 0.6);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n    this.player.play('jump')\n  }\n\n  _createPlayerAnimation() {\n    this.anims.create({\n        key: 'turn',\n        frames: [ { key: 'player', frame: 0 } ],\n        frameRate: 6\n    });\n\n    this.anims.create({\n        key: 'jump',\n        frames: [ { key: 'player', frame: 1 } ],\n        frameRate: 6\n    });\n\n    this.anims.create({\n        key: 'left',\n        frames: this.anims.generateFrameNumbers('player', { start: 3, end: 2 }),\n        frameRate: 6,\n        repeat: -1\n    });\n\n    this.anims.create({\n        key: 'right',\n        frames: this.anims.generateFrameNumbers('player', { start: 2, end: 3 }),\n        frameRate: 6,\n        repeat: -1\n    });\n\n    this.anims.create({\n      key: 'climb',\n      frames: this.anims.generateFrameNumbers('player', { start: 4, end: 5 }),\n      frameRate: 6\n    });\n\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ffff00' });\n  }\n\n  _manualControl() {\n    if (this.cursors.left.isDown) {\n      // FIXME: prevent player falling down to the ground from 2nd floor\n      if (this.player.y < 40 && this.player.x < 300) {\n        return this.player.setVelocityX(0);\n      }\n      this.player.setVelocityX(-160);\n      return this.player.play('left', true);\n    } else if (this.cursors.right.isDown) { // walk right\n      this.player.setVelocityX(90);\n      return this.player.play('right', true);\n    }\n\n    // to the end of ladder, jump to the ground\n    if (this.hitLadder && this.player.y < 40) {\n      this.player.setVelocityY(0)\n      this.player.setPosition(320, 0)\n      this.background.setCollision(60, true) // enable landing to the 2nd floor ground!\n      return\n    }\n\n    // climbing the ladder...\n    if (this.cursors.up.isDown && this.hitLadder) {\n      this.player.setVelocityY(-90);\n      return this.player.play('climb', true);\n    }\n    \n    // hold the ladder...\n    if (this.hitLadder) {\n      this.player.setVelocityX(0)\n      return this.player.play('climb');\n    }\n\n    var ySpeed = this.player.body.velocity.y\n    var isStatic = Math.ceil(Math.abs(ySpeed)) === 1\n\n    this.player.setVelocityX(0);\n\n    if (isStatic) this.player.play('turn');\n  }\n\n  /**\n   * touch enough to consider a real hit\n   * @param {Sprite} player \n   * @param {Tile} tile \n   * @param {Number} distance \n   * @returns true or false\n   */\n   _closeEnough(player, tile, distance) {\n    var tileCenterX = tile.x * 64 + 32 + this.layerHoriOffset\n    var playerCenterX = player.body.center.x\n    var horiDifference = Math.round(Math.abs(tileCenterX - playerCenterX))\n    return distance > horiDifference\n  }\n\n  _hitTile(player, tile) {\n    if (!this._closeEnough(player, tile, 20)) return\n\n    if (tile.index === 65) {// hit the key, unlock the proceeding items\n      this.hitKey = true\n      this.lockerLayer.setVisible(false)\n      this.ladderLayer.setVisible(true)\n      this.keyLayer.setVisible(false)\n    }\n    if (tile.index === 76) {// hit the door\n      this.succeed = true // end of  game!\n    }\n\n    if (!this.hitKey) return // pickup key first!\n    if (tile.index === 58) {// after picked key to allow hit ladder\n      this.hitLadder = true\n    }\n  }\n\n  update() {\n    if (this.succeed) return\n\n    // 1. reset hit flag\n    this.hitLadder = false\n\n    // 2. detect hit the key, and show the ladder...\n    this.physics.world.overlapTiles(this.player, this.pickups, this._hitTile, null, this);\n\n    // 3. check hit flag, and set anction\n    this._manualControl()\n\n    // 4. hit the exit\n    if (this.succeed) {\n      this.scene.start(\n        'congratulations', \n        { msg: 'You completed the [Guess My Name] chapter!' }\n      );\n      this.onGameSuccess()\n    }\n  }\n\n  /**\n   * exposure to outside of game\n   * @returns nothing\n   */\n  bingo(answer, success) {\n    if (answer !== 'CA') return\n\n    this._createGuideText('Bingo! Walk right to pickup the key using RIGHT KEY!')\n    this.background.setCollision(60, false) // remove the block collision\n    this.caillouLayer.setVisible(true)\n\n    this.complete = true\n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nexport default GuessMyName","import Phaser from 'phaser';\n\nclass SphinxRiddle extends Phaser.Scene {\n\n  constructor(){\n    super('SphinxRiddle');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.pickups = []\n    this.layerHoriOffset = -40\n  }\n\n  preload(){\n    this.load.image('egypt', 'assets/skies/pyramid_desert_sm.jpg');\n    this.load.image('sphinx', 'assets/sprites/sphinx_sm.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/platformPack_tilesheet.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/sphinxRiddle.json');\n    // player sprite sheet\n    this.load.spritesheet(\n      'player', \n      'assets/sprites/adventurer_tilesheet.png', \n      { frameWidth: 80, frameHeight: 110 }\n    );\n  }\n    \n  create(){\n    this.egypt = this.add.image(300, 80, 'egypt');\n    this.sphinx = this.add.image(500, 100, 'sphinx');\n\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('platform', 'tiles');\n    this.floorLayer = map.createLayer('background', tiles, -40, 0);\n    this.floorLayer.setCollision(4)\n    this.boxesLayer = map.createLayer('boxes', tiles, -60, 0);\n    this.doorLayer = map.createLayer('door', tiles, -40, 0);\n    this.doorLayer.setVisible(false);\n  \n    this._createAnimation()\n    this._createPlayer()\n\n    this.physics.add.collider(this.floorLayer, this.player);\n    this.cursors = this.input.keyboard.createCursorKeys();\n    // disable space key presss, conflict with monaco editor\n    this.input.keyboard.removeCapture(32);\n\n    // get door\n    var doors = this.doorLayer.filterTiles(tile => tile.index === 76)\n    this.pickups = this.pickups.concat(doors)\n\n    var popup = this._createDialog.bind(this)\n    setTimeout(popup, 1000)\n  }\n\n  _createDialog() {\n    var dialogX = 140\n    var dialogY = 30\n    var dialogW = 300\n    var dialogH = 100\n    var dialogR = 6\n\n    var graphics = this.add.graphics();\n    graphics.lineStyle(2, 0xff0000, 1);\n    graphics.strokeRoundedRect(dialogX, dialogY, dialogW, dialogH, dialogR);\n    graphics.fillStyle(0xffff00, 0.6);\n    graphics.fillRoundedRect(dialogX, dialogY, dialogW, dialogH, dialogR);\n    // What goes on four feet in the morning, two feet at noon, and three feet in the evening? \n    var content = [\n        \"What goes on four feet in the morning, \",\n        \"two feet at noon, and three feet in the\",\n        \"evening? Anwser is hidden in the two\",\n        \"boxes, which box hold the right anwser!\",\n    ];\n\n    this.dialog = this.add.text(\n      dialogX+8, \n      dialogY+8, \n      content, \n      { fontFamily: 'Arial', color: '#000000'}\n    );\n    this.dialog.setLineSpacing(6);\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ffff00' });\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(100, 60, 'player', 0);\n    this.player.setBounce(0.2);\n    this.player.setScale(0.5, 0.5);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n  }\n\n  _createAnimation() {\n    this.anims.create({\n        key: 'turn',\n        frames: [ { key: 'player', frame: 0 } ],\n        frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'left',\n      frames: this.anims.generateFrameNumbers('player', { start: 10, end: 9 }),\n      frameRate: 6,\n      repeat: -1\n  });\n\n  this.anims.create({\n      key: 'right',\n      frames: this.anims.generateFrameNumbers('player', { start: 9, end: 10 }),\n      frameRate: 6,\n      repeat: -1\n  });\n\n  this.anims.create({\n    key: 'jump',\n    frames: [ { key: 'player', frame: 1 } ],\n    frameRate: 6\n  });\n\n  }\n\n  _manualControl() {\n    if (this.cursors.left.isDown) {\n      this.player.setVelocityX(-160);\n      return this.player.play('left', true);\n    } else if (this.cursors.right.isDown) { // walk right\n      this.player.setVelocityX(90);\n      return this.player.play('right', true);\n    }\n    if (this.cursors.up.isDown){\n        this.player.play('jump');\n      if (this.player.body.blocked.down)\n        return this.player.setVelocityY(-160);\n    }\n\n    var ySpeed = this.player.body.velocity.y\n    var isStatic = Math.ceil(Math.abs(ySpeed)) === 1\n\n    this.player.setVelocityX(0);\n\n    if (isStatic) this.player.play('turn');\n\n    // if (this.exitHitted) {\n    //   this._successHandler()\n    // }\n  }\n\n  /**\n   * touch enough to consider a real hit\n   * @param {Sprite} player \n   * @param {Tile} tile \n   * @param {Number} distance \n   * @returns true or false\n   */\n   _closeEnough(player, tile, distance) {\n    var tileCenterX = tile.x * 64 + 32 + this.layerHoriOffset\n    var playerCenterX = player.body.center.x\n    var horiDifference = Math.round(Math.abs(tileCenterX - playerCenterX))\n    return distance > horiDifference\n  }\n\n  _hitTile(player, tile) {\n    if (!this.complete) return\n    if (!this._closeEnough(player, tile, 10)) return\n\n    this.succeed = true // end of  game!\n  }\n\n  update(){\n    if (this.succeed) return\n\n    // detect hit the key, and show the ladder...\n    this.physics.world.overlapTiles(this.player, this.pickups, this._hitTile, null, this);\n    \n    this._manualControl()\n\n    if (this.succeed) {\n      this.scene.start(\n        'congratulations', \n        { msg: 'You completed the [Riddle of Sphinx] chapter!' }\n      );\n      this.onGameSuccess()\n    }\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(_, done) {\n    if (!done) return\n\n    this.dialog.setText([\n      \"Bingo!\",\n      \"press RIGHT ARROW KEY\",\n      \"toward door to complete this game!\"\n    ])\n\n    this.doorLayer.setVisible(true)\n    this.complete = true\n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nexport default SphinxRiddle","import Phaser from 'phaser';\n\n\nclass CellStep {\n  constructor(player, tile){\n    this.player = player\n    this.tile = tile\n    this.speed = 60\n    this.toTheEnd = false\n  }\n\n  update() {\n    if (this.toTheEnd) return\n\n    let threshold = 1\n    let layerXOffset = -10\n    let layerYOffset = 26\n    let xDiff = this.tile.x * 64 + layerXOffset - this.player.x\n    let yDiff = this.tile.y * 64 + layerYOffset - this.player.y\n    // stop\n    let maxDiff = Math.max(Math.abs(xDiff), Math.abs(yDiff))\n    if (maxDiff === threshold) {\n      console.log('>>> one step is end!');\n      this.toTheEnd = true\n      return this.player.setVelocity(0, 0)\n    }\n\n    if (xDiff > threshold) {\n      return this._goRight()\n    }\n    if (yDiff > threshold) {\n      return this._goDown()\n    }\n    if (yDiff < -threshold) {\n      return this._goTop()\n    }\n  }\n\n  _goRight() {\n    this.player.setVelocityX(this.speed);\n  }\n\n  _goTop() {\n    this.player.setVelocityY(-this.speed);\n  }\n\n  _goDown() {\n    this.player.setVelocityY(this.speed);\n  }\n\n  isEnd() {\n    return this.toTheEnd\n  }\n} \n\n\nclass GridWalker {\n  constructor(player, tiles, cellFinishCallback, exitCallback){\n    this.steps = tiles.map(\n      tile => new CellStep(player, tile)\n    );\n    this.moveCounter = 0;\n    this.onCellChange = cellFinishCallback;\n    this.onExit = exitCallback;\n  }\n\n  update(){\n    // game complete!\n    if (!this.steps.length) return\n\n    this.moveCounter += 1 // lazy action execution counter\n    // waiting for bingo calling repetition until last update\n    if (this.moveCounter < 24) return\n    \n    // get recent step to update\n    const headStep = this.steps[0]\n    headStep.update()\n\n    if (!headStep.isEnd()) return // still need update current action\n\n    // remove first step after it completion\n    this.steps.shift()\n    this.onCellChange(headStep.tile)\n\n    if (!this.steps.length) {\n      this.onExit()\n    }\n  }\n}\n\nclass WhichWayToGo extends Phaser.Scene {\n\n  constructor(){\n    super('WhichWayToGo');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.layerHoriOffset = -40\n    // path tiles player can walk\n    this.paths = {\n      1 : [{x: 1, y: 2}, {x: 1, y: 3}, ],\n      2 : [{x: 1, y: 2}, {x: 2, y: 2}, {x: 3, y: 2}, {x: 3, y: 1}, {x: 4, y: 1}, {x: 4, y: 2}, {x: 5, y: 2}],\n      3 : [{x: 1, y: 2}, {x: 2, y: 2}, {x: 3, y: 2}, {x: 3, y: 3}, {x: 4, y: 3}, {x: 5, y: 3}, {x: 6, y: 3}],\n      4 : [\n        {x: 1, y: 2}, {x: 1, y: 1, rm: true}, {x: 1, y: 0}, {x: 2, y: 0}, {x: 3, y: 0}, {x: 4, y: 0}, {x: 5, y: 0}, \n        {x: 5, y: 1}, {x: 6, y: 1}, {x: 6, y: 0, rm: true}, {x: 7, y: 0}, {x: 8, y: 0}, {x: 9, y: 0}\n      ],\n      5 : [\n        {x: 1, y: 2}, {x: 1, y: 1}, {x: 1, y: 0}, {x: 2, y: 0}, {x: 3, y: 0}, {x: 4, y: 0}, {x: 5, y: 0}, \n        {x: 5, y: 1}, {x: 6, y: 1}, {x: 7, y: 1}, {x: 8, y: 1}\n      ],\n      6 : [\n        {x: 1, y: 2}, {x: 1, y: 1}, {x: 1, y: 0}, {x: 2, y: 0}, {x: 3, y: 0}, {x: 4, y: 0}, {x: 5, y: 0}, \n        {x: 5, y: 1}, {x: 6, y: 1}, {x: 6, y: 2}, {x: 7, y: 2}\n      ],\n    }\n    // walking player\n    this.walker = null\n  }\n\n  preload(){\n    this.load.image('ground', 'assets/tilemaps/tiles/terrainTiles_default.png');\n    this.load.image('platform', 'assets/tilemaps/tiles/platformPack_tilesheet.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/whichWaytogo.json');\n    // player sprite sheet\n    this.load.spritesheet(\n      'player', \n      'assets/sprites/spritesheet_enemies.png', \n      { frameWidth: 128, frameHeight: 130 }\n    );\n  }\n    \n  create(){\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('terrain', 'ground');\n    this.floor = map.createLayer('background', tiles, -40, 0);\n\n    var tiles2 = map.addTilesetImage('tools', 'platform');\n    this.tools = map.createLayer('tools', tiles2, -40, 0)\n\n    this._createAnimation()\n    this._createPlayer()\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ff0000' });\n  }\n\n  _createAnimation() {\n    this.anims.create({\n        key: 'idle',\n        frames: this.anims.generateFrameNumbers('player', { frames: [41, 49, 57 ] }),\n        frameRate: 3,\n        repeat: -1\n    });\n\n    this.anims.create({\n        key: 'move',\n        frames: this.anims.generateFrameNumbers('player', { start: 41, end: 57 }),\n        frameRate: 2,\n        repeat: -1\n    });\n\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(20, 154, 'player', 57);\n    this.player.setBounce(0.2);\n    this.player.setScale(0.25, 0.25);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n    this.player.body.setAllowGravity(false)\n    this.player.play('idle', true)\n  }\n\n  /**\n   * touch enough to consider a real hit\n   * @param {Sprite} player \n   * @param {Tile} tile \n   * @param {Number} distance \n   * @returns true or false\n   */\n   _closeEnough(player, tile, distance) {\n    var tileCenterX = tile.x * 64 + 32 + this.layerHoriOffset\n    var playerCenterX = player.body.center.x\n    var horiDifference = Math.round(Math.abs(tileCenterX - playerCenterX))\n    return distance > horiDifference\n  }\n\n  _successHandler() {\n    this.succeed = true\n    this.onGameSuccess()\n    this.scene.start(\n      'congratulations', \n      { msg: 'You completed the [Which Way to Go] project!'}\n    )\n  }\n\n  _onCellChange(tile) {\n    if (!tile.rm) return\n    this.tools.removeTileAt(tile.x, tile.y)\n  }\n\n  update(){\n    if (!this.walker || this.succeed) return\n\n    // walker by path tiles\n    this.walker.update()\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(path, success) {\n    if (!success) return false\n\n    this.walker = new GridWalker(\n      this.player, \n      this.paths[path.id],\n      this._onCellChange.bind(this),\n      this._successHandler.bind(this)\n    )\n    this._createGuideText('Bingo!')\n\n    return true\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nexport default WhichWayToGo","import Phaser from 'phaser';\n\n\nclass SuperSoldier {\n\n  constructor(soldier, lazyLaunch){\n    this.soldier = soldier\n    this.launchTime = lazyLaunch\n    this.frameCounter = 0\n    this.accelerator = 0\n    this.outOfValley = false\n  }\n\n  update(){\n    this.frameCounter += 1\n    // waiting...\n    if (this.frameCounter < this.launchTime) \n      return\n    // out of top stage\n    if (this.soldier.y < -30) {\n      this.soldier.setVelocityY(0)\n      this.outOfValley = true\n      return\n    }\n    this.accelerator += 10\n    this.soldier.setVelocityY(-90 - this.accelerator)\n  }\n\n  isFree(){\n    return this.outOfValley\n  }\n}\n\n\nclass TroopsOnMyControl {\n\n  constructor(successCallback){\n    this.superSoldiers = null\n    this.moveCounter = 0\n    this.successHandler = successCallback\n  }\n\n  launch(soldiersInTrap){\n    this.superSoldiers = []\n    soldiersInTrap.forEach((soldier, index) => {\n      this.superSoldiers.push(\n        new SuperSoldier(soldier, index * 10)\n      )\n    })\n  }\n\n  update(){\n    this.moveCounter += 1 // lazy action execution counter\n    // waiting for bingo calling repetition until last update\n    if (this.moveCounter < 24) return\n\n    // fly all up\n    let allset = true\n    this.superSoldiers.forEach(soldier => {\n      soldier.update()\n      if (!soldier.isFree()) allset = false\n    })\n\n    if (allset) {\n      this.successHandler()\n    }\n  }\n\n  isEnd(){\n    // let allset = true\n    // this.superSoldiers.forEach(soldier => {\n    //   if (!soldier.isFree()) allset = false\n    // })\n    // return allset\n  }\n}\n\nclass FlyThemUp extends Phaser.Scene {\n\n  constructor(){\n    super('FlyThemUp');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.layerHoriOffset = -40\n  }\n\n  preload(){\n    this.load.image('sky', 'assets/skies/toxic.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/tilesheet_complete.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/flyThemUp.json');\n    this.load.spritesheet(\n      'soldiers', \n      'assets/sprites/soldiers.png', \n      { frameWidth:32, frameHeight:38 }\n    );\n    this.load.spritesheet(\n      'battery', \n      'assets/sprites/battery.png', \n      { frameWidth:48, frameHeight:48 }\n    );\n    this.load.atlas(\n      'elves', \n      'assets/animations/elves-craft-pixel.png', \n      'assets/animations/elves-craft-pixel.json'\n    );\n  }\n  \n  create(){\n    this.add.image(0, 0, 'sky').setOrigin(0);\n\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('platform', 'tiles');\n\n    this.ground = map.createLayer('ground', tiles, -10, -20);\n    this.ground.setCollision([2, 50, 51])\n\n    this._createBatteries();\n    this._createAnimation();\n    this._createPlayer();\n    this._createSoldiers();\n\n    this.physics.add.collider(this.ground, this.player);\n  }\n\n  _createBatteries() {\n    this.batteries = this.add.group();\n    for (let i=2; i<=4; i++) {\n      let btr = this.add.sprite(36+i*12, 20, 'battery', i)\n      btr.setScale(0.4, 0.4)\n      this.batteries.add(btr)\n    }\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(50, 0, 'elves');\n    this.player.setBounce(0.2);\n    this.player.setScale(0.4, 0.4);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n    this.player.play('blueIdle')\n  }\n\n  _createSoldiers() {\n    this.soldiers = this.add.group([], {runChildUpdate: true});\n    var soldiersTotal = 12;\n    for (let i=0; i<soldiersTotal; i++) {\n      let soldier = this.physics.add.sprite(144+24*i, 22, 'soldiers', 0)\n      soldier.setBounce(0.2);\n      soldier.play('soldierIdle')\n      this.soldiers.add(soldier);\n      this.physics.add.collider(this.ground, soldier);\n    }\n  }\n\n  _createAnimation() {\n    this.anims.create({\n      key: 'greenIdle', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'green_idle_', start: 0, end: 4 }), \n      frameRate: 10, \n      repeat: -1\n    });\n    \n    this.anims.create({\n      key: 'blueIdle', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'blue_idle_', start: 0, end: 4 }), \n      frameRate: 10, \n      repeat: -1\n    });\n\n    this.anims.create({\n      key: 'greenAttack', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'green_attack_', start: 0, end: 5 }), \n      frameRate: 10\n    });\n\n    this.anims.create({\n      key: 'blueAttack', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'blue_attack_', start: 0, end: 4 }), \n      frameRate: 10\n    });\n\n    this.anims.create({\n      key: 'greenDead', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'green_die_', start: 0, end: 4 }), \n      frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'blueDead', \n      frames: this.anims.generateFrameNames('elves', { prefix: 'blue_die_', start: 0, end: 4 }), \n      frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'soldierIdle', \n      frames: this.anims.generateFrameNames('soldiers', { start: 2, end: 3 }), \n      frameRate: 3,\n      repeat: -1\n    });\n\n    this.anims.create({\n      key: 'soldierFly', \n      frames: this.anims.generateFrameNames('soldiers', { start: 5, end: 9 }), \n      frameRate: 6,\n      repeat: -1\n    });\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ffff00' });\n  }\n\n  /**\n   * touch enough to consider a real hit\n   * @param {Sprite} player \n   * @param {Tile} tile \n   * @param {Number} distance \n   * @returns true or false\n   */\n   _closeEnough(player, tile, distance) {\n    var tileCenterX = tile.x * 64 + 32 + this.layerHoriOffset\n    var playerCenterX = player.body.center.x\n    var horiDifference = Math.round(Math.abs(tileCenterX - playerCenterX))\n    return distance > horiDifference\n  }\n\n  _successHandler() {\n    this.succeed = true\n    this.onGameSuccess()\n    this.scene.start(\n      'congratulations', \n      { msg: 'You completed the [Free Your Troops] project!'}\n    )\n  }\n\n  update(){\n    if (!this.troops) return\n\n    this.troops.update()\n    this.player.play('blueAttack', true)\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(troops, success) {\n    if (!success) return\n    // console.log(troops)\n\n    this._createGuideText('Bingo!')\n\n    // troops ready\n    this.troops = new TroopsOnMyControl(\n      this._successHandler.bind(this)\n    )\n    this.troops.launch(this.soldiers.getChildren())\n    this.batteries.destroy(true, true)\n\n    this.complete = true\n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nexport default FlyThemUp","import Phaser from 'phaser';\n\n\nclass MovingPlatform {\n\n  constructor(stoneGroup, tweens, player){\n    this.stoneLayers = stoneGroup.getChildren()\n    this.tweens = tweens\n    this.player = player\n\n    this.frameCounter = 0\n    this.startMoveTime = 100\n    this.endMoveTime = 300\n  }\n\n  update(){\n    this.frameCounter += 1\n\n    if (this.frameCounter === this.startMoveTime) {\n      this.start()\n    }\n    // if (this.frameCounter === this.endMoveTime) {\n    //   this.stop()\n    // }\n  }\n\n  start(){\n    this.stoneLayers.forEach((layer) => {\n      var y = -100 * Math.random() * 3 + 100\n      var tween = {\n        targets: layer,\n        y,\n        duration: 2000,\n        delay: Math.random() * 500,\n        ease: 'Sine.easeInOut',\n        yoyo: true,\n        loop: -1\n      }\n      this.tweens.add(tween)\n    })\n  }\n\n  stop(){\n    this.tweens.shutdown()\n    this.stoneLayers.forEach(layer => layer.setY(-20))\n    this.player.setY(50)\n  }\n\n}\n\nclass PassLiveBridge extends Phaser.Scene {\n\n  constructor(){\n    super('PassLiveBridge');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.layerHoriOffset = -40\n  }\n\n  init(){\n    // in case of failure, need reset these values\n    this.failed = false\n    this.pickups = []\n  }\n\n  preload(){\n    this.load.image('sky', 'assets/skies/space3.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/tilesheet_complete_32.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/passLiveBridge.json');\n    this.load.spritesheet(\n      'aliens',\n      'assets/sprites/aliens_green.png',\n      {frameWidth: 64, frameHeight: 96}\n    );\n  }\n  \n  create(){\n    this.add.image(0, 0, 'sky').setOrigin(0);\n    \n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('platform', 'tiles');\n    \n    this._createPlayerAnimation();\n    this._createPlayer();\n\n    this.lockerLayer = map.createLayer('layer_lock', tiles, -40, -20)\n    this.lockerLayer.setCollision(51)\n\n    this.exitLayer = map.createLayer('layer_exit', tiles, -40, -20)\n    this.exitLayer.setVisible(false)\n    this.exitLayer.setCollision(51)\n\n    this.keyLayer = map.createLayer('layer_key', tiles, -40, -20)\n    \n    this.layerGroup = this.add.group();\n    for (let i=1; i<9; i++) {\n      let layer = map.createLayer('layer_'+i, tiles, -40, -20);\n      layer.setCollision([118, 119, 52, 53])\n      this.layerGroup.add(layer)\n    }\n\n    var keys = this.keyLayer.filterTiles(tile => tile.index === 80);\n    this.pickups = this.pickups.concat(keys)\n    var doors = this.exitLayer.filterTiles(tile => tile.index === 152)\n    this.pickups = this.pickups.concat(doors)\n\n    this.physics.add.collider(this.layerGroup, this.player);\n    this.physics.add.collider(this.lockerLayer, this.player);\n    this.physics.add.collider(this.exitLayer, this.player);\n\n    this.platform = new MovingPlatform(\n      this.layerGroup,\n      this.tweens,\n      this.player\n    )\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n    // disable space key presss, conflict with monaco editor\n    this.input.keyboard.removeCapture(32);\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(50, 50, 'aliens');\n    this.player.setBounce(0.2);\n    this.player.setScale(0.5, 0.5);\n    this.player.setCollideWorldBounds(false);\n    this.player.setDepth(1)\n    this.player.play('idle')\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ffff00' });\n  }\n\n  _createPlayerAnimation() {\n\n    this.anims.create({\n      key: 'idle', \n      frames: this.anims.generateFrameNames('aliens', { frames: [0, 0, 0, 6, 6, 6] }),\n      frameRate: 2, \n      repeat: -1\n    });\n\n    this.anims.create({\n      key: 'walk', \n      frames: [ {key: 'aliens', frame: 3}, {key: 'aliens', frame: 4}, ],\n      frameRate: 2, \n      repeat: -1\n    });\n\n    this.anims.create({\n      key: 'swim', \n      frames: [ {key: 'aliens', frame: 9}, {key: 'aliens', frame: 10}, ],\n      frameRate: 2, \n      repeat: -1\n    });\n\n    this.anims.create({\n      key: 'jump', \n      frames: [ { key: 'aliens', frame: 8 } ],\n      frameRate: 2, \n    });\n\n    this.anims.create({\n      key: 'fall', \n      frames: [ { key: 'aliens', frame: 7 } ],\n      frameRate: 2, \n    });\n\n  }\n\n  /**\n   * touch enough to consider a real hit\n   * @param {Sprite} player \n   * @param {Tile} tile \n   * @param {Number} distance \n   * @returns true or false\n   */\n   _closeEnough(player, tile, distance, tileWidth = 32) {\n    var tileCenterX = tile.x * tileWidth + tileWidth/2 + this.layerHoriOffset\n    var playerCenterX = player.body.center.x\n    var horiDifference = Math.round(Math.abs(tileCenterX - playerCenterX))\n    return distance > horiDifference\n  }\n\n  _manualControl() {\n\n    if (this.cursors.left.isDown) { // walk left: ;\n      this.player.setVelocityX(-90);\n      return this.player.play('walk', true);\n    }\n    if (this.cursors.right.isDown) { // walk right\n      this.player.setVelocityX(90);\n      return this.player.play('walk', true);\n    }\n    if (this.cursors.up.isDown && this.player.body.blocked.down){\n      this.player.play('jump');\n      return this.player.setVelocityY(-180);\n    }\n\n    this.player.setVelocityX(0);\n    this.player.play('idle', true);\n\n    // check player falling down here!\n    if (this.player.y > 300) {\n      this.failed = true\n    }\n  }\n\n  _hitPickups(player, tile){\n    var hit = this._closeEnough(player, tile, 4)\n    if (!hit) return\n\n    if (tile.index === 80 && this.keyLayer) {\n      this.keyLayer.removeFromDisplayList()\n      this.keyLayer = null\n      this.exitLayer.setVisible(true)\n      this.hitKey = true\n    }\n    // hit the door\n    if (tile.index === 152 && this.hitKey) {\n      this.hitExit = true\n    }\n\n  }\n\n  _successHandler(){\n    this.onGameSuccess()\n    this.scene.start(\n      'congratulations', \n      { msg: 'You completed the [Pass live bridge] project!'}\n    )\n  }\n\n  _gameFailed() {\n    setTimeout(() => {\n      this.scene.start(\n        'gamefailed', \n        { scene: 'PassLiveBridge'}\n      )\n    }, 200)\n  }\n\n  _hitRightBoundaryCheck() {\n    if(this.player.x < 580) return\n\n    this.player.setVelocityX(0)\n    this.player.setX(578)\n  }\n\n\n  update() {\n    if (this.failed || this.succeed) return\n\n    this.platform.update()\n    this._hitRightBoundaryCheck()\n    this._manualControl()\n\n    this.physics.world.overlapTiles(\n      this.player, this.pickups, this._hitPickups, null, this\n    );\n\n    if (this.failed) {\n      return this._gameFailed()\n    }\n\n    if (this.hitExit && this.complete){\n      this._successHandler()\n    }\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(_, success) {\n    if (!success) return\n\n    this._createGuideText('Bingo!')\n    this.platform.stop()\n    this.complete = true\n\n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n\n}\n\nexport default PassLiveBridge","import Phaser from 'phaser';\n\n\nclass RealClock {\n\n  constructor(scene, centerX, centerY) {\n    this.scene = scene\n    this.centerX = centerX\n    this.centerY = centerY\n    this.started = false\n    this.frameCounter = 0\n    this.visible = false\n  }\n\n  start(){\n    if (!this.visible) return\n    // if anwser right open this flag\n    this.started = true\n  }\n\n  popup(){\n    this.visible = true\n    this.addBackgroundImage(this.scene, this.centerX)\n    this.drawClock()\n  }\n\n  update(){\n    if (!this.started) return\n\n    this.frameCounter += 1\n    if (this.frameCounter % 60 === 0) {\n      this.drawClock()\n    }\n  }\n\n  drawClock(){\n    if (this.context) {\n      this.context.clear()\n    }\n    this.context = this.scene.add.graphics()\n    this.context.translateCanvas(this.centerX+90, this.centerY)\n    var theDate = new Date();\n    this.drawHourHand(theDate);\n    this.drawMinuteHand(theDate);\n    this.drawSecondHand(theDate);\n  }\n  \n  addBackgroundImage(scene, centerX){\n    if (this.clockFace) {\n      this.clockFace.removeFromDisplayList()\n    }\n    this.clockFace = scene.add.image(0, 0, 'clock');\n    this.clockFace.setOrigin(0, 0);\n    this.clockFace.setScale(0.4, 0.4);\n    this.clockFace.setX(centerX)\n  }\n\n  degreesToRadians(degrees) {\n    return (Math.PI / 180) * degrees\n  }\n\n  drawHand(size, thickness = 4){\n    this.context.beginPath()\n    this.context.moveTo(0, 0)\n    this.context.lineTo(-thickness, -10)\n    this.context.lineTo(0, -size/2)\n    this.context.lineTo(thickness, -10)\n    this.context.lineTo(0, 0)\n    this.context.fillPath()\n    this.context.strokePath()\n  }\n\n  drawHourHand(theDate){\n    var hours = theDate.getHours() + theDate.getMinutes() / 60;\n    var degrees = (hours * 360 / 12) % 360;\n    this.context.save();\n    this.context.fillStyle(0x333333);\n    this.context.lineStyle(1, 0x666666);\n    \n    var radians = this.degreesToRadians(degrees)\n    this.context.rotateCanvas(radians);\n    this.drawHand(110, 5);\n    this.context.restore();\n  }\n\n  drawMinuteHand(theDate){\n    var minutes = theDate.getMinutes() + theDate.getSeconds() / 60;\n    this.context.save();\n    this.context.fillStyle(0x333333);\n    this.context.lineStyle(1, 0x666666);\n    var radians = this.degreesToRadians(minutes * 6)\n    this.context.rotateCanvas(radians);\n    this.drawHand(130, 5);\n    this.context.restore();\n  }\n\n  drawSecondHand(theDate){\n    var seconds = theDate.getSeconds();\n    this.context.save();\n    this.context.fillStyle(0xff0000);\n    this.context.lineStyle(1, 0x8B0000);\n    var radians = this.degreesToRadians(seconds * 6)\n    this.context.rotateCanvas(radians);\n    this.drawHand(150);\n    this.context.restore();\n  }\n\n}\n\n\nclass DialogManager {\n\n  constructor(dialogs, onComplete){\n    this.dialogs = dialogs\n    this.frameCounter = 0\n    this.isRunning = false\n    this.completeHandler = onComplete\n  }\n\n  start(){\n    this.isRunning = true\n    this.frameCounter = 0\n  }\n\n  update(){\n    if (!this.isRunning) return\n\n    var dialogHandler = dialog => {\n      if (dialog.delay !== this.frameCounter) return\n      var isEnd = dialog.action()\n      if (!isEnd) return\n      this.stop()\n    }\n    this.dialogs.forEach(dialogHandler)\n    this.frameCounter += 1\n  }\n\n  stop(){\n    this.isRunning = false\n    if (this.completeHandler) this.completeHandler()\n  }\n\n}\n\n\nclass FixTheClock extends Phaser.Scene {\n\n  constructor(){\n    super('FixTheClock');\n    // got the missing part of game from pthon code\n    this.complete = false\n    // pass the game!\n    this.succeed = false\n    // dyna text\n    this.guideTxt = null\n    // expose bingo function\n    this.bingo = this.bingo.bind(this)\n    this.layerHoriOffset = -40\n  }\n\n  preload(){\n    this.load.image('background', 'assets/backgrounds/backgroundDesert.png');\n    this.load.image('tiles', 'assets/tilemaps/tiles/building_spritesheet.png');\n    this.load.image('hunchback', 'assets/sprites/hunchback_man_64.png');\n    this.load.image('clock', 'assets/backgrounds/clock_yellow.png');\n    this.load.tilemapTiledJSON('map', 'assets/tilemaps/maps/fixTheClock.json');\n    this.load.spritesheet(\n      'player',\n      'assets/sprites/female_tilesheet.png',\n      { frameWidth: 80, frameHeight: 110}\n    );\n  }\n    \n  create(){\n    var sky = this.add.image(0, 0, 'background');\n    sky.setOrigin(0, 0.4);\n    sky.setScale(0.6, 0.6);\n\n    var map = this.make.tilemap({ key: 'map' });\n    var tiles = map.addTilesetImage('platform', 'tiles');\n\n    this.ground = map.createLayer('background', tiles, -40, -10);\n    this.ground.setCollision(58);\n    this.ground.setScale(0.6, 0.6);\n\n    this.decorations = map.createLayer('decorations', tiles, -40, -10);\n    this.decorations.setScale(0.6, 0.6);\n\n    this.miniClock = map.createLayer('clock', tiles, -40, -10)\n    this.miniClock.setScale(0.6, 0.6)\n    this.miniClock.setVisible(false)\n    this.doorLayer = map.createLayer('door', tiles, -40, -10)\n    this.doorLayer.setScale(0.6, 0.6)\n    this.doorLayer.setVisible(false)\n\n    this._createAnimation();\n    this._createPlayer();\n    this._createHunchbackMan();\n\n    this.physics.add.collider(this.ground, this.player);\n    this.physics.add.collider(this.ground, this.lord);\n\n    this.cursors = this.input.keyboard.createCursorKeys();\n    // // disable space key presss, conflict with monaco editor\n    this.input.keyboard.removeCapture(32);\n\n    var helpme = this._createDialog.bind(\n      this, 320, 70, 230, 60, \n      [\n        \"Our church clock not working,\",\n        \"mind to do me a favour? \"\n      ]\n    )\n    var response = this._createDialog.bind(this, 400, 130, 80, 30, [\"Sure!\"] )\n    var close = this._closeDialog.bind(this)\n    var completeHandler = this._dialogCompleteHandler.bind(this)\n    this.dialogs = new DialogManager([\n      {action: helpme, delay: 30},\n      {action: response, delay: 200},\n      {action: close, delay: 300},\n    ], completeHandler)\n\n    // create a clock\n    this.clock = new RealClock(this, 250, 90)\n    this._createGuideText('Walk toward the door keeper using RIGHT KEY!')\n  }\n\n  _dialogCompleteHandler() {\n    this._createGuideText('')\n    this.miniClock.setVisible(false)\n    this.clock.popup()\n  }\n\n  _createPlayer() {\n    this.player = this.physics.add.sprite(320, 100, 'player');\n    this.player.setBounce(0.2);\n    this.player.setScale(0.4, 0.4);\n    this.player.setCollideWorldBounds(true);\n    this.player.setDepth(1)\n  }\n\n  _createHunchbackMan() {\n    this.lord = this.physics.add.sprite(570, 100, 'hunchback');\n    this.lord.setScale(0.6, 0.6);\n  }\n\n  _createGuideText(message) {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    this.guideTxt = this.add.text(10, 10, message, { fill: '#ff0000' });\n  }\n\n  _createAnimation() {\n    this.anims.create({\n        key: 'turn',\n        frames: [ { key: 'player', frame: 0 } ],\n        frameRate: 6\n    });\n\n    this.anims.create({\n      key: 'left',\n      frames: this.anims.generateFrameNumbers('player', { start: 10, end: 9 }),\n      frameRate: 6,\n      repeat: -1\n  });\n\n  this.anims.create({\n      key: 'right',\n      frames: this.anims.generateFrameNumbers('player', { start: 9, end: 10 }),\n      frameRate: 6,\n      repeat: -1\n  });\n\n  this.anims.create({\n    key: 'jump',\n    frames: [ { key: 'player', frame: 1 } ],\n    frameRate: 6\n  });\n\n  }\n\n  _manualControl() {\n    if (this.cursors.left.isDown) {\n      this.player.setVelocityX(-160);\n      this.player.play('left', true);\n      this.keyPressed = true\n      return\n    } else if (this.cursors.right.isDown) { // walk right\n      this.player.setVelocityX(90);\n      this.player.play('right', true);\n      this.keyPressed = true\n      return\n    }\n\n    var ySpeed = this.player.body.velocity.y\n    var isStatic = Math.ceil(Math.abs(ySpeed)) === 1\n    if (isStatic) this.player.play('turn');\n\n    this.player.setVelocityX(0);\n    this.keyPressed = false\n  }\n\n  /**\n   * touch enough to consider a real hit\n   * @param {Sprite} player \n   * @param {Tile} tile \n   * @param {Number} distance \n   * @returns true or false\n   */\n   _closeEnough(player, tile, distance) {\n    var tileCenterX = tile.x * 64 + 32 + this.layerHoriOffset\n    var playerCenterX = player.body.center.x\n    var horiDifference = Math.round(Math.abs(tileCenterX - playerCenterX))\n    return distance > horiDifference\n  }\n\n  _createDialog(x, y, w, h, content) {\n    this._closeDialog()\n\n    var dialogX = x // 320\n    var dialogY = y // 70\n    var dialogW = w // 230\n    var dialogH = h // 60\n    var dialogR = 6\n\n    if (this.dialogPanel) \n      this.dialogPanel.removeFromDisplayList()\n    if (this.dialogTxt) \n      this.dialogTxt.removeFromDisplayList()\n\n    var graphics = this.add.graphics();\n    graphics.lineStyle(2, 0xff0000, 1);\n    graphics.strokeRoundedRect(dialogX, dialogY, dialogW, dialogH, dialogR);\n    graphics.fillStyle(0xffff00, 0.8);\n    graphics.fillRoundedRect(dialogX, dialogY, dialogW, dialogH, dialogR);\n    this.dialogPanel = graphics\n\n    this.dialogTxt = this.add.text(\n      dialogX+8, \n      dialogY+8, \n      content, \n      { fontFamily: 'Arial', color: '#000000'}\n    );\n    this.dialogTxt.setLineSpacing(6);\n  }\n\n  _closeDialog() {\n    if (this.dialogPanel) \n      this.dialogPanel.removeFromDisplayList()\n    if (this.dialogTxt) \n      this.dialogTxt.removeFromDisplayList()\n    // this is the end of dialogs\n    return true\n  }\n\n  _successHandler(){\n    this.onGameSuccess()\n    this.scene.start(\n      'congratulations', \n      { msg: 'You completed the [Fix The Clock] project!'}\n    )\n  }\n\n\n  update(){\n    if (this.succeed) return\n    \n    this._manualControl()\n    this.dialogs.update()\n    this.clock.update()\n\n    if (this.player.x > 500 && !this.complete) {\n      this.player.setVelocityX(0);\n      this.player.play('turn');\n      // step back a little\n      if (!this.keyPressed) {\n        this.player.setX(500)\n        this.dialogs.start()\n      }\n    }\n\n    if (this.player.x > 520 && this.complete) {\n      this.succeed = true\n      this.player.setVelocityX(0)\n      this.player.play('turn')\n      this.player.setX(520)\n      this._successHandler()\n    }\n\n  }\n\n  /**\n   * exposure to outeside of game\n   * @returns nothing\n   */\n  bingo(_, success) {\n    if (!success) return\n\n    this._createGuideText('Bingo! Enter the door to complete this game!')\n    this.complete = true\n    this.lord.setVisible(false)\n    this.doorLayer.setVisible(true)\n\n    // run clock\n    this.clock.start()\n    \n    return this.complete\n  }\n  \n  onGameSuccess() {\n    this.game.events.emit('gamePass')\n  }\n\n}\n\nexport default FixTheClock","// save phaser game configs/games\nimport Phaser from 'phaser';\n\n// import TemplateGame from '../games/TemplateGame';\nimport CloneArmy from '../games/CloneArmy';\nimport LavaAdventure from '../games/LavaAdventure';\nimport MakeYourPath from '../games/MakeYourPath';\nimport GuessMyName from '../games/GuessMyName'\nimport SphinxRiddle from '../games/SphinxRiddle'\nimport WhichWayToGo from '../games/WhichWayToGo'\nimport FlyThemUp from '../games/FlyThemUp'\nimport PassLiveBridge from '../games/PassLiveBridge'\nimport FixTheClock from '../games/FixTheClock'\n\n\nexport const gamesForProject = {\n    1 : CloneArmy,\n    2 : LavaAdventure,\n    3 : MakeYourPath,\n    4 : GuessMyName,\n    5 : SphinxRiddle,\n    6 : WhichWayToGo,\n    7 : FlyThemUp,\n    8 : PassLiveBridge,\n    9 : FixTheClock,\n}\n\n\nexport const BaseConfig = {\n    type: Phaser.AUTO,\n    width: 600,\n    height: 234,\n    parent: 'phaser-game-box', // div id\n    banner: false,\n};\n\nexport const LargerBase = {\n    ...BaseConfig,\n    width: 800,\n    height: 600,\n}\n\nexport const GravityConfig = {\n    ...LargerBase,\n    physics: {\n        default: 'matter',\n        matter: {\n            gravity: { y: 1 },\n            enableSleep: false,\n            debug: true\n        }\n    },\n}\n\nexport const PlatformerConfig = {\n    ...BaseConfig,\n    physics: {\n        default: 'arcade',\n        arcade: {\n            gravity: { y: 300 },\n            debug: false\n        }\n    },\n};\n","import Phaser from 'phaser';\n\nclass Congratulations extends Phaser.Scene {\n\n  constructor(){\n    super('congratulations');\n  }\n\n  init(data) {\n    this.message = data.msg\n  }\n\n  preload() {\n    this.load.image('sparkBlue', 'assets/particles/blue.png');\n    this.load.image('sparkGreen', 'assets/particles/green.png');\n    this.load.image('sparkRed', 'assets/particles/red.png');\n    this.load.image('sparkYellow', 'assets/particles/yellow.png');\n    this.load.audio('levelup', 'assets/audio/nextLevel.mp3');\n  }\n\n  _createGuideText(message = 'Congratulations') {\n    if (this.guideTxt) {\n      this.guideTxt.removeFromDisplayList()\n    }\n    var xPos = (600 - (message.length) * 10) / 2\n    this.guideTxt = this.add.text(xPos, 40, message, { fill: '#00ff00' });\n  }\n\n  \n  create() {\n\n    this._createGuideText(this.message)\n    \n    //  First create a particle manager\n    //  A single manager can be responsible for multiple emitters\n    //  The manager also controls which particle texture is used by _all_ emitter\n    var texture = Phaser.Utils.Array.GetRandom(['sparkBlue', 'sparkGreen', 'sparkRed', 'sparkYellow'])\n    var particles = this.add.particles(texture);\n\n    particles.createEmitter({\n      x: 300,\n      y: 230,\n      scale: { start: 0.3, end: 0 },\n      speed: { min: 200, max: 300 },\n      lifespan: 2000,\n      angle: { min: 245, max: 300 },\n      gravityY: 200,\n      blendMode: 'ADD',\n    });\n\n    this.levelupSound = this.sound.add('levelup')\n    this.levelupSound.play()\n  }\n\n  update(){\n\n  }\n}\n\nexport default Congratulations","import Phaser from 'phaser';\n\nclass GameFailed extends Phaser.Scene {\n  constructor(){\n    super('gamefailed');\n  }\n\n  init(data) {\n    this.lastScene = data.scene\n  }\n\n  preload(){\n    this.load.audio('gameover', 'assets/audio/arcade_resources_sounds_gameover2.mp3');\n  }\n    \n  create(){\n    const message = 'Oops...you failed!'\n    const guideTxt = this.add.text(180, 50, message, { fill: '#ffff00', fontSize: 24 });\n    this.tweens.add({\n      targets: guideTxt,\n      y: 20,\n      duration: 1000,\n      ease: \"Power2\",\n      yoyo: true,\n      loop: -1\n    });\n    // TODO: add 'RESTART' button \n    const backMessage = 'Press SPACE BAR to restart!'\n    this.add.text(180, 120, backMessage, { fill: '#00ff00', fontSize: 16 })\n\n    this.input.keyboard.on('keydown-SPACE', function() {\n      this._restart()\n    }, this)\n\n    this.gameoverSound = this.sound.add('gameover')\n    this.gameoverSound.play()\n  }\n\n  update(){\n\n  }\n\n  _restart() {\n    this.scene.start(this.lastScene)\n  }\n\n}\n\nexport default GameFailed","/**\n * compare code execution result with expectation\n * @param {*} expect \n * @param {*} result \n * @returns true or false\n */\nexport const checkResultMatchTarget = (expect, result) => {\n  if (result === 0) return false // 0, something wrong in backend\n  if (expect === result) return true // number comparison\n\n  // start array compare\n  if (Array.isArray(expect) && Array.isArray(result)) {\n      if (expect.length !== result.length) return false\n      // compare each value\n      let equal = true\n      expect.forEach((value, index) => {\n        if (value !== result[index]) {\n          equal = false\n        }\n      })\n      if (equal) return true\n      // compare each action object\n      let matched = true\n      expect.forEach((action, index) => {\n        const expKey = Object.keys(action).length ? Object.keys(action)[0] : ''\n        if (expKey === '') return matched = false\n        if (result[index][expKey] !== action[expKey]) {\n          return matched = false\n        }\n      })\n      return matched\n  }\n\n  // compare Object id only\n  if (typeof expect === 'object' && typeof result === 'object') {\n    return expect.id === result.id\n  }\n\n  return false\n}\n\nexport const generateSuccessMessage = (target) => {\n  return `Congratulations! You completed the ${target.projName} program!`\n}\n\nexport const generateFailureMessage = (target, result) => {\n  // code running error in backend\n  if (!result.success) return result.message\n  // if (target.params) {// string type\n  //     return `expecting '${target.params}' equal to ${target.expect}`\n  // }\n  // actions\n  return 'OhOh...check the code, try again!'\n}","import React, { useEffect, useRef } from 'react'\nimport Phaser from 'phaser';\nimport useLocalStorageState from 'use-local-storage-state'\nimport projectStore from '../state/ProjectState'\n\nimport { PlatformerConfig, gamesForProject } from '../config/phaser';\nimport Congratulations from '../games/Congratulations';\nimport GameFailed from '../games/GameFailed';\n\nimport { checkResultMatchTarget } from '../helper/ProjectHelper';\nimport { isEmptyObj } from '../utils/StrUtil'\nimport { projectsCodeTarget } from '../config/ProjectDefaultCode';\n\nconst PhaserGameBox = ({ codeResultCallback }) => {\n\n  const gameRef = useRef(null)\n  const audioSuccessRef = useRef(null)\n  const audioFailureRef = useRef(null)\n\n  const projectID = projectStore(state => state.projectID)\n  const codeExecResult = projectStore(state => state.codeExecResult)\n  const currentTarget = projectsCodeTarget[projectID]\n  const [projects, updateProjectStatus] = useLocalStorageState('projects_status', {})\n\n  // console.log(codeExecResult)\n\n  useEffect(() => {\n    audioSuccessRef.current = new Audio('assets/audio/p-ping.mp3');\n    audioFailureRef.current = new Audio('assets/audio/error_006.ogg');\n  }, [])\n\n  useEffect(() => {\n    if (!gameRef.current) return\n    if (isEmptyObj(codeExecResult)) return\n    \n    const success = checkResultMatchTarget(\n      currentTarget.expect, \n      codeExecResult.result\n    )\n    // allowing reach to bingo without success\n    const currentScene = gameRef.current.scene.getAt(0)\n    currentScene.bingo(codeExecResult.result, success)\n    \n    const music = success ? audioSuccessRef : audioFailureRef\n    setTimeout(() => music.current.play(), 300)\n    \n  }, [codeExecResult, currentTarget])\n\n\n  useEffect(() => {\n    const currentGame = gamesForProject[projectID]\n    const withParentAndScene = {\n      ...PlatformerConfig,\n      scene: [currentGame, Congratulations, GameFailed]\n    }\n    const game = new Phaser.Game(withParentAndScene)\n    gameRef.current = game // cache game for later check\n\n    return () => {\n      game.destroy(true)\n    }\n  }, [projectID])\n\n\n  useEffect(() => {\n    if (!gameRef.current) return\n\n    // TODO: to save my record if logged in ...\n    // use callback hook to reuse the gamePassHandler function\n    const gamePassHandler = () => {\n      updateProjectStatus({...projects, [projectID]:'done'})\n      codeResultCallback(true)\n    }\n    const { events } = gameRef.current\n    events.addListener('gamePass', gamePassHandler)\n\n    return () => {\n      events.removeListener('gamePass')\n    }\n  })\n\n  return (\n    <div id=\"phaser-game-box\" />\n  )\n}\n\nexport default PhaserGameBox","import React from 'react'\n\nimport { Button } from 'primereact/button'\nimport { BiRun } from 'react-icons/bi'\nimport { FiThumbsUp } from 'react-icons/fi'\nimport { DotLoader } from 'react-spinners';\n\nimport { dotLoaderStyle } from '../config/project'\nimport projectStore from '../state/ProjectState'\n\nimport PhaserGameBox from './PhaserGameBox'\n\n\nconst MiniGamePanel = () => {\n\n  const switchMode = projectStore(state => state.switchMode)\n  const runningMode = projectStore(state => state.runningMode)\n  const startRunning = projectStore(state => state.startRunning)\n  const isSucceed = projectStore(state => state.isSucceed)\n  const gameSucceed = projectStore(state => state.gameSucceed)\n\n  const buttonIcon = !runningMode && (\n    isSucceed ? <FiThumbsUp size=\"52\" /> : <BiRun size=\"54\" />\n  )\n\n  const codeResultHandler = result => gameSucceed(result)\n\n  return (\n    <div className=\"flex full-height\">\n      {/* back button zone */}\n      <div className=\"w-4rem  bg-blue-500 flex align-items-center justify-content-center border-right-3 border-blue-500\">\n        <Button \n          icon=\"pi pi-angle-double-left\" \n          className=\"p-button-rounded p-button-outlined bg-white\"\n          onClick={switchMode}\n          />\n      </div>\n      {/* mini adventure game */}\n      <div className=\"flex-grow-1 flex bg-white\">\n        <PhaserGameBox \n          codeResultCallback={codeResultHandler}\n        />\n      </div>\n      <div className=\"right-part center-child bg-blue-500 border-left-3 border-blue-500\">\n        {/* TODO: replace true with isSucceed */}\n        <button \n          type=\"button\" \n          className=\"go-btn\"\n          disabled={runningMode || true}\n          onClick={startRunning}>\n          {buttonIcon}\n          <DotLoader \n            css={dotLoaderStyle} \n            color=\"#fbc02d\"\n            loading={runningMode}\n          />\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default MiniGamePanel","import React, { useEffect, useRef } from 'react'\n\nimport { Toast } from 'primereact/toast';\nimport PYCodeEditor from '../components/PYCodeEditor';\nimport ProjectTips from '../components/ProjectTips';\nimport MiniGamePanel from '../components/MiniGamePanel';\nimport projectStore from '../state/ProjectState'\nimport { isEmptyObj } from '../utils/StrUtil'\nimport { projectsCodeTarget } from '../config/ProjectDefaultCode';\nimport {\n  checkResultMatchTarget, \n  generateFailureMessage, \n  generateSuccessMessage,\n} from '../helper/ProjectHelper';\n\n\nconst ProjectCodeMode = () => {\n\n  const toastRef = useRef(null)\n  const isRunning = projectStore(state => state.isRunning)\n  const runningMode = projectStore(state => state.runningMode)\n  const execute = projectStore(state => state.execute)\n  const codeExecResult = projectStore(state => state.codeExecResult)\n  const codeExecError = projectStore(state => state.codeExecError)\n  const projectID = projectStore(state => state.projectID)\n  const reset = projectStore(state => state.reset)\n  const isSucceed = projectStore(state => state.isSucceed)\n  const tipsPanelExpanded = projectStore(state => state.tipsPanelExpanded)\n\n  const currentTarget = projectsCodeTarget[projectID]\n\n\n  useEffect(() => {\n    if (!isRunning) return\n  \n    const mockRunningHandlelr = async () => {\n      // not allowed to invoke execute on running\n      if (runningMode) return\n      await execute(currentTarget)\n    }\n  \n    mockRunningHandlelr()\n  })\n\n  useEffect(() => {\n    if (isEmptyObj(codeExecResult)) return\n    const success = checkResultMatchTarget(\n      currentTarget.expect, \n      codeExecResult.result\n    )\n    const hasError = !codeExecResult.success\n    const severity = success ? 'success' : (hasError ? 'error' : 'warn')\n    const summary = success ? 'Success!' : 'Failed!' // title\n    const successMessage = generateSuccessMessage(currentTarget)\n    const failureMessage = generateFailureMessage(currentTarget, codeExecResult)\n    const detail = success ? successMessage : failureMessage\n    const notification = { severity, summary, detail }\n    // popup toast message\n    toastRef.current.show(notification);\n\n  }, [codeExecResult, currentTarget])\n\n\n  useEffect(() => {\n    if (!codeExecError) return\n    console.warn(codeExecError)\n    const notification = {\n      severity: 'warn', \n      summary: 'Try again!', // title\n      detail: 'something wrong...', \n      life: 2000\n    }\n    toastRef.current.show(notification);\n  }, [codeExecError])\n\n\n  useEffect(() => {\n    if (!isSucceed) return\n\n    const successMessage = generateSuccessMessage(currentTarget)\n    const notification = { severity: 'success', summary: 'You Won!', detail: successMessage }\n    // popup toast message\n    toastRef.current.show(notification);\n\n  }, [isSucceed, currentTarget])\n\n  useEffect(() => {\n    return reset // clear current project state after view destory\n  }, [reset])\n\n\n  return (\n    <>\n      <Toast ref={toastRef} />\n      {tipsPanelExpanded && (\n        <ProjectTips />\n      )}\n      <div className=\"content-area blue-round-panel light\">\n        <PYCodeEditor />\n      </div>\n      <div className=\"result-area border-solid blue-round-panel p-0\">\n        <MiniGamePanel />\n      </div>\n    </>\n  )\n}\n\nexport default ProjectCodeMode","export const addEffect = (targetClass, effectClass) => {\n  document.querySelector(targetClass).classList.add(effectClass)\n}\n\nexport const removeEffect = (targetClass, effectClass) => {\n  document.querySelector(targetClass).classList.remove(effectClass)\n}","import React, { useEffect } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { ProgressSpinner } from 'primereact/progressspinner';\n \nimport ProjectDemoMode from '../components/ProjectDemoMode';\nimport ProjectCodeMode from '../components/ProjectCodeMode';\n\nimport projectStore from '../state/ProjectState'\nimport { projectsCodeTarget } from '../config/ProjectDefaultCode';\nimport { addEffect, } from '../utils/DomUtil';\n\nconst ProjectPage = () => {\n\n  const location = useLocation()\n  const { pid } = useParams()\n  const setProjectID = projectStore(state => state.setProjectID)\n  const setProjectName = projectStore(state => state.setProjectName)\n\n  const params = new URLSearchParams(location.search);\n  const codemode = params.get('codemode')\n  const introMode = codemode === 'true' ? \n    false : projectStore(state => state.introMode)\n  const projects = projectStore(state => state.projects)\n\n\n  useEffect(() => {\n    setProjectID(pid)\n    setProjectName(projectsCodeTarget[pid]?.projName)\n  })\n\n  useEffect(() =>{\n    addEffect('.layout-topbar', '-translate-y-100')\n    addEffect('.layout-main-container', 'pt-2')\n  }, [])\n\n\n  if (!projects.length) {\n    return (\n      <div className=\"flex justify-content-center\">\n        <ProgressSpinner style={{width: '50px', height: '50px'}}/>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"project\">\n      { introMode && (\n        <ProjectDemoMode />\n      )}\n      { !introMode && (\n        <ProjectCodeMode />\n      )}\n    </div>\n  )\n}\n\nexport default ProjectPage","import React, { useEffect } from 'react';\nimport Phaser from 'phaser';\n\nimport { PlatformerConfig } from '../config/phaser';\n// import CollectStarsPlatformer from '../games/CollectStarsPlatformer';\n// import ParticlesGame from '../games/ParticlesGame';\n// import MultiTileset from '../games/MultiTileset';\nimport MakeYourPath from '../games/MakeYourPath';\n\n\nconst GamePage = () => {\n\n  useEffect(() => {\n    const withParentAndScene = {\n      ...PlatformerConfig,\n      scene: [MakeYourPath]\n    }\n\n    const game = new Phaser.Game(withParentAndScene);\n\n    return () => {\n      game.destroy(true)\n    }\n  })\n\n  return (\n      <div className=\"grid\">\n          <div className=\"col-6\">\n              <div id=\"phaser-game-box\"/>\n          </div>\n      </div>\n  );\n}\n\nexport default GamePage","import React, { useEffect }  from 'react';\nimport { Link } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { useHistory,  } from 'react-router-dom';\nimport { addEffect, removeEffect } from '../utils/DomUtil';\n\nconst logoly = 'assets/layout/images/letspy_arcade_sm.png'\n\nexport const AppTopbar = (props) => {\n\n    const history = useHistory()\n\n    const handleRouteChange = (target, queryParams = '', data = null) => {\n      history.push({\n          pathname: target,\n          search: `?${queryParams}`,\n          state: data\n      })\n      window.scrollTo(0, 0)\n    }\n\n    useEffect(() => {\n        return history.listen((location) => { \n            if (location.pathname.indexOf('project') > -1) {\n                addEffect('.layout-topbar', '-translate-y-100')\n                addEffect('.layout-main-container', 'pt-2')\n            } else {\n                removeEffect('.layout-topbar', '-translate-y-100')\n                removeEffect('.layout-main-container', 'pt-2')\n            }\n        }) \n     },[history]) \n\n\n    return (\n        <div className=\"layout-topbar transition-pt5 \">\n            <Link to=\"/\" className=\"layout-topbar-logo\">\n                <img src={props.layoutColorMode === 'light' ? logoly : 'assets/layout/images/logo-white.svg'} alt=\"logo\"/>\n                <span>LetsPY</span>\n            </Link>\n            {/* menu button on mobile */}\n            <button \n                type=\"button\" \n                className=\"p-link layout-topbar-menu-button layout-topbar-button\" \n                onClick={props.onMobileTopbarMenuClick}>\n                <i className=\"pi pi-ellipsis-v\" />\n            </button>\n                <ul className={classNames(\"layout-topbar-menu lg:flex origin-top\", {'layout-topbar-menu-mobile-active': props.mobileTopbarMenuActive })}>\n                    <li>\n                        <button \n                            className=\"p-link layout-topbar-button\" \n                            onClick={()=>handleRouteChange('/')}>\n                            <i className=\"pi pi-home\"/>\n                            <span>Home</span>\n                        </button>\n                    </li>\n                    <li>\n                        <button \n                            className=\"p-link layout-topbar-button\" \n                            onClick={props.onMobileSubTopbarMenuClick}>\n                            <i className=\"pi pi-heart\"/>\n                            <span>Donation</span>\n                        </button>\n                    </li>\n                    <li>\n                        <button \n                            className=\"p-link layout-topbar-button\" \n                            onClick={props.onMobileSubTopbarMenuClick}>\n                            <i className=\"pi pi-user\"/>\n                            <span>Profile</span>\n                        </button>\n                    </li>\n                </ul>\n        </div>\n    );\n}\n","import React from 'react';\n\nexport const AppFooter = (props) => {\n    const logoly = 'assets/layout/images/letspy_arcade_sm.png'\n    return (\n        <div className=\"layout-footer\">\n            <img \n                src={props.layoutColorMode === 'light' ? logoly : 'assets/layout/images/logo-white.svg'} \n                alt=\"Logo\" \n                height=\"20\" \n                className=\"mr-2\" \n                />\n            by\n            <span className=\"font-medium ml-2\">\n                🌈CodingLab\n            </span>\n        </div>\n    );\n}\n","import React, { useEffect } from 'react';\nimport { Route } from 'react-router-dom';\n\nimport EmptyPage from './pages/EmptyPage';\nimport HomePage from './pages/HomePage';\nimport ProjectPage from './pages/ProjectPage';\nimport GamePage from './pages/GamePage';\n\nimport { AppTopbar } from './structure/AppTopbar';\nimport { AppFooter } from './structure/AppFooter';\n\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport 'primeflex/primeflex.css';\nimport 'prismjs/themes/prism-coy.css';\nimport './layout/flags/flags.css';\nimport './layout/layout.scss';\nimport './assets/style/App.scss';\n\nimport { getProjects } from './service/ProjectService'\nimport projectStore from './state/ProjectState'\n\n\nfunction App() {\n\n  const setProjects = projectStore(state => state.setProjects)\n\n  useEffect(() => {\n    setTimeout(() => {\n      getProjects().then(data => {\n        setProjects(data)\n      })\n    }, 500) // lazy loading...\n  }, [setProjects])\n\n  return (\n    <div className=\"app layout-wrapper layout-theme-light\">\n      <AppTopbar \n        layoutColorMode=\"light\" \n        onMobileTopbarMenuClick={()=>console.log(\">>> popup menu\")} \n        />\n      <div className=\"layout-main-container\">\n        <div className=\"layout-main\">\n            <Route path=\"/project/:pid\" component={ProjectPage}/>\n            <Route path=\"/game\" component={GamePage}/>\n            <Route path=\"/empty\" component={EmptyPage}/>\n            <Route path=\"/\" exact component={HomePage}/>\n        </div>\n        <AppFooter layoutColorMode=\"light\"/>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import reportWebVitals from './reportWebVitals';\nimport 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\nimport { HashRouter } from 'react-router-dom'\n// import ScrollToTop from './structure/ScrollToTop';\n\nReactDOM.render(\n    <HashRouter>\n        <App/>\n    </HashRouter>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}