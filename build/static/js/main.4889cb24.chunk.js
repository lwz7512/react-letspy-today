(this["webpackJsonpreact-letspy-today"]=this["webpackJsonpreact-letspy-today"]||[]).push([[0],{273:function(e,t,i){},274:function(e,t,i){},275:function(e,t,i){},276:function(e,t,i){"use strict";i.r(t);var s,a=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,277)).then((function(t){var i=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;i(e),s(e),a(e),n(e),r(e)}))},n=(i(135),i(1)),r=i(30),o=i.n(r),l=i(15),c=i(2),h=function(){return Object(c.jsx)("div",{className:"grid",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)("h5",{children:"Empty Page"}),Object(c.jsx)("p",{children:"Use this page to start from scratch and place your custom content."})]})})})},u=i(16),d=i(26),p=i(66),y="Minimal Python Coding Playground",m="for Beginners",f="Get Started",g="/project/1",b="Coding with fun?",v="\ud83d\udc31",j="Here are well designed projects with different levels to guide your growing hands-on skills.",x=function(e){var t=e.project,i=e.completed;return Object(c.jsx)("div",{className:"p-col-12 w-full sm:w-6 lg:w-4",children:Object(c.jsxs)("div",{className:"feature-card zoom",children:[Object(c.jsx)("img",{className:"",alt:"components",src:t.image}),Object(c.jsxs)("div",{className:"top-row",children:[Array(t.level).fill(0).map((function(e,t){return Object(c.jsx)("span",{className:"px-1",children:Object(c.jsx)("img",{src:"assets/icon/favourite.png",className:"star-icon",alt:"star"})},t)})),i[t.id]&&Object(c.jsx)("img",{src:"assets/icon/medal.png",className:"complete-badge-icon",alt:"badge"})]}),Object(c.jsx)("div",{className:"center-row",children:Object(c.jsx)("div",{className:"avatar-img",children:Object(c.jsx)("img",{src:t.player,alt:"game player"})})}),Object(c.jsx)("div",{className:"footer-row",children:Object(c.jsx)("h3",{children:t.title})}),Object(c.jsx)("div",{className:"feature-card-detail",children:Object(c.jsx)("p",{className:"text-2xl h-8rem",children:t.description})}),Object(c.jsx)("div",{className:"footer p-5",children:Object(c.jsx)(d.b,{to:"/project/".concat(t.id),className:"action-button in-card",children:"Explore"})})]})})},k=i(41),O=i.n(k),_=i(8),w=i(64),T=i(124),N=i.n(T),C=i(90),S=i.n(C),L=function(e){return S.a.post("".concat("/api","/run"),e).then((function(e){return e})).catch((function(e){console.log(e)}))},R=N()((function(e,t){return{projects:[],setProjects:function(t){return e({projects:t})},introMode:!0,switchMode:function(){return e((function(e){return{introMode:!e.introMode}}))},runningMode:!1,toggleRunning:function(){return e((function(e){return{runningMode:!e.runningMode}}))},projectID:"1",setProjectID:function(t){return e({projectID:t})},projectName:"demo project",setProjectName:function(t){return e({projectName:t})},codeValue:"",codeValueChanged:function(t){return e({codeValue:t})},codeExecResult:{},codeExecError:null,isRunning:!1,isSucceed:!1,gameSucceed:function(t){return e({isSucceed:t})},startRunning:function(){return e({isRunning:!0})},execute:function(){var i=Object(w.a)(O.a.mark((function i(s){var a,n;return O.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e({runningMode:!0}),a={id:(r=t)().projectID,name:r().projectName,code:r().codeValue,params:"",codeType:""},i.next=4,L(Object(_.a)(Object(_.a)({},a),s));case 4:200===(n=i.sent).status?e({codeExecResult:n.data}):e({codeExecError:n}),e({isRunning:!1}),setTimeout((function(){e({runningMode:!1})}),300);case 8:case"end":return i.stop()}var r}),i)})));return function(e){return i.apply(this,arguments)}}(),reset:function(){return e({codeExecResult:{},codeExecError:null,introMode:!0,isSucceed:!1})},GAME_DEGUG:!0,tipsPanelExpanded:!0,toggleTipsPanel:function(){return e((function(e){return{tipsPanelExpanded:!e.tipsPanelExpanded}}))}}})),P=R,E=function(){var e=P((function(e){return e.projects})),t=Object(p.a)("projects_status",{}),i=Object(u.a)(t,1)[0],s=function(){return Object(c.jsx)("i",{className:"pi pi-spin pi-spinner",style:{fontSize:"2em"}})};return Object(c.jsxs)("div",{className:"home",children:[Object(c.jsx)("div",{className:"col-12 px-0 sm:px-2",children:Object(c.jsxs)("div",{className:"card hero border-noround md:border-round",children:[Object(c.jsx)("h1",{className:"intro-title",children:y}),Object(c.jsx)("h2",{className:"intro-subtitle",children:m}),Object(c.jsx)(d.b,{to:g,className:"action-button",children:f})]})}),Object(c.jsxs)("div",{className:"col-12 features",children:[Object(c.jsx)("h1",{className:"mb-6",children:Object(c.jsx)("span",{className:"header-title ",children:"PROJECTS"})}),Object(c.jsxs)("p",{className:"text-2xl",children:[b,Object(c.jsx)("span",{role:"img","aria-label":"celebrate",className:"px-2",children:v}),j]})]}),Object(c.jsxs)("div",{className:"col-12 features",children:[!e.length&&Object(c.jsx)(s,{}),e.length>0&&Object(c.jsx)("div",{className:"grid",children:e.map((function(e,t){return Object(c.jsx)(x,{project:e,completed:i},t)}))})]})]})},D=i(125),M=i(126),H=i.n(M),F=function(){var e=P((function(e){return e.projectID})),t=P((function(e){return e.projects})).filter((function(t){return t.id===Number(e)})),i=Object(u.a)(t,1)[0];return Object(c.jsxs)("div",{className:"intro-area border-solid h-10rem blue-round-panel pb-0",children:[Object(c.jsxs)("div",{className:"flex justify-content-between",children:[Object(c.jsx)("h3",{className:"text-900",children:Object(c.jsx)("span",{className:"border-bottom-3 ",children:i.title})}),Object(c.jsx)("h3",{children:Array(i.level).fill(0).map((function(e,t){return Object(c.jsx)("span",{className:"px-1",children:"\u2b50"},t)}))})]}),Object(c.jsxs)("div",{className:"flex justify-content-between",children:[Object(c.jsxs)("div",{className:"left-part flex-1",children:[Object(c.jsx)("p",{className:"description text-xl text-700",children:i.description}),Object(c.jsx)("p",{className:"pb-0 tags",children:i.tags.map((function(e,t){return Object(c.jsx)("span",{className:"action-fun text-sm var-".concat(t),children:e},e)}))})]}),Object(c.jsx)("div",{className:"right-part",children:Object(c.jsx)("img",{src:i.player,width:"50",alt:"alien"})})]})]})},G=function(){var e=P((function(e){return e.switchMode})),t=P((function(e){return e.projectID})),i=P((function(e){return e.projects})).filter((function(e){return e.id===Number(t)})),s=Object(u.a)(i,1)[0];return Object(c.jsxs)("div",{className:"flex-space-between full-height",children:[Object(c.jsxs)("div",{className:"left-part",children:[Object(c.jsx)("h3",{className:"text-900 ",children:Object(c.jsx)("span",{className:"border-bottom-3 ",children:"Mission"})}),Object(c.jsx)("p",{className:"text-2xl text-700 mt-3",children:s.mission})]}),Object(c.jsx)("div",{className:"right-part center-child bg-blue-500",children:Object(c.jsxs)("button",{type:"button",className:"go-btn",onClick:e,children:[Object(c.jsx)("span",{className:"ml-1",children:"Go"}),Object(c.jsx)("span",{className:"pb-0",children:Object(c.jsx)("i",{className:"pi pi-angle-double-right"})})]})})]})},V=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(F,{}),Object(c.jsx)("div",{className:"content-area blue-round-panel dark",children:Object(c.jsx)(H.a,{url:"https://www.youtube.com/watch?v=oUFJJNQGwhk",controls:!0})}),Object(c.jsx)("div",{className:"result-area border-solid h-12rem blue-round-panel p-0",children:Object(c.jsx)(G,{})})]})},A=i(67),B=i(131),I=i(32),Y=i(33),X=i(65),W=function(e){return e.trim().replace(/^ {4}/gm,"")},U=function(e){return 0===Object.keys(e).length},z={1:W("\n    troops_amount = 20  # DO NOT TOUCH THIS LINE!\n    # Note: \n    # make an expression to double the troops_amount variable value:\n    # troops_amount = troops_amount * 2\n"),2:W("\n    # Tips: \n    # walk(1)\n    # jump(1)\n    # pivot()\n    #\n    # lets get started with:\n    walk(1)\n    jump(1)\n    walk(1)\n    jump(1)\n    walk(1)\n    pivot()\n"),3:W("\n    bridge = [1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0]\n    # lets get started with repairing first space:\n    bridge[1] = 1\n    # now your turn to fill other spaces:\n"),4:W("\n    # myName = \"??ILLOU\"\n    # Mission Brief:\n    # The robot could not recall his name recorded in a variable <myName> above, \n    # help him to figure it out the first two letters.\n    # \n    # Tips:\n    # First two letter of his name is missing, you are expected to use\n    # string slice method to extract the real value of '??' from <myName>!\n    # \n    # Now, write you solution to replace the 'None' below:\n    firstTwoChars = None\n"),5:W('\n    # There are two box holding the answer of the Sphinx famous question:\n    # green_box = "********"\n    # red_box = "########"\n    # Mission Brief:\n    # first, you need to know the right anwser, \n    # then you need to know how to check the two box with "if" statement,\n    # if the two box contain the key word of right anwser, return the box!\n    # Tips:\n    # key word may use \'person\', :)\n    # lets first create a placeholder for your anwser,\n    # check two box variables, asign the right one to the \'the_right_box\':\n    the_right_box = None\n    if "person" in green_box:\n        the_right_box = green_box\n    if "person" in red_box:\n        the_right_box = red_box\n'),6:W("\n    # Mission Brief: \n    # In this game, you are going to loop 'all_paths' list:\n    # all_paths = [path_object, path_object, path_object, ...]\n    # Check each path object, which one includes the right obstacle to \n    # reach the exit point!\n    #\n    # Tips:\n    # Every path_object has a function: includeItem(type) to return \n    # True or False. type parameter in the function might be one of \n    # 'leaf', 'bridge', 'diamond', 'key', 'heart', 'cone'.\n    # You may have noticed the right way out includes a 'key'!\n    # \n    # lets first create a placeholder used to save your finding:\n    right_path = None\n    for path_object in all_paths:\n        # check the 'path_object' above using its api 'includeItem',\n        # then assign your finding to 'right_path'\n        if path_object.includeItem('key'):\n            right_path = path_object\n"),7:W("\n    # Assume you have Soldier definition like this:\n    # class Soldier:\n    #    def addPower(self, ability):\n    #        self.ability = ability\n    # also a 'troops' including numerous soldiers under your control:\n    # troops = [soldier, soldier, soldier, ...soldier]\n    #\n    # Mission Brief:\n    # Your troops are being trapped in toxic valley, you need to dispatch\n    # flying armor for each of them to get out of there!\n    #\n    # Tips:\n    # Every soldier in your 'troops' need 'flying' ability to escapge\n    # valley, loop the 'troops' list, get each soldier and call its \n    # 'addPower' function.\n    # \n    # lets check out our 'troops' list by a loop processing:\n    for soldier in troops:\n        soldier.addPower('flying')\n"),8:W("\n    # Assume you have two groups of stones which are flying constantly:\n    # yellow_stones = [*, *, *, *]\n    # red_stones = [*, *, *, *]\n    # Each 'stone' in that group actually is one of the alphabet\n    #\n    # Mission Brief:\n    # To reach the exit, you need to\n    # 1. have 'yellow_stones' sorted in ascending order,\n    # 2. have 'red_stones' sorted in descending order,\n    # 3. add two group stones into one list 'bridge_stones' below\n    # Tips:\n    # Remember to jump and hit the key to unlock the door.\n    bridge_stones = []\n    # lets first hack two groups of stones:\n    yellow_stones.sort()\n    red_stones.sort(reverse=True)\n    bridge_stones = yellow_stones + red_stones\n"),9:W("\n    # To fix the clock, here is a starting point to figure out current time:\n    import datetime\n    now = datetime.datetime.now()\n    # Mission Brief:\n    # You have a 'now' object to use, \n    # get the 'hour', 'minute', 'second' value from it!\n    #\n    # Tips:\n    # visit this tutorial to find the clue:\n    # https://www.geeksforgeeks.org/python-datetime-datetime-class/\n    # Search: Example 2: Accessing the attributes of date and time object\n    # \n    # lets define empty variables to be replaced with your solutions:\n    hour = now.hour\n    minute = now.minute\n    second = now.second\n")},J={1:{projName:"Clone Army",codeType:"statements",params:"troops_amount",expect:40},2:{projName:"Lava Adventure",codeType:"actions",params:"",expect:[{walk:1},{jump:1},{walk:1},{jump:1},{walk:1},{pivot:0}]},3:{projName:"Missing bricks",codeType:"statements",params:"bridge",expect:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},4:{projName:"Guess My Name",codeType:"statements",params:"firstTwoChars",expect:"CA"},5:{projName:"Riddle of Sphinx",codeType:"statements",params:"the_right_box",expect:"a person"},6:{projName:"Which way to go",codeType:"statements",params:"right_path",expect:{id:4}},7:{projName:"Free Your Troops",codeType:"statements",params:"troops",expect:[{ability:"flying"},{ability:"flying"},{ability:"flying"},{ability:"flying"},{ability:"flying"},{ability:"flying"},{ability:"flying"},{ability:"flying"},{ability:"flying"},{ability:"flying"},{ability:"flying"},{ability:"flying"}]},8:{projName:"Pass live bridge",codeType:"statements",params:"bridge_stones",expect:["a","b","c","d","h","g","f","e"]},9:{projName:"Fix the clock",codeType:"solutions_clock",params:"hour,minute,second",expect:[!0,!0,!0]}},K=i(127),q=i(10),Q=Object(q.css)(s||(s=Object(K.a)(["\n  display: block;\n  margin: 0 auto;\n"]))),Z={fontSize:14,minimap:{enabled:!1}},$=function(){var e=Object(n.useRef)(null),t=P((function(e){return e.runningMode})),i=P((function(e){return e.projectID})),s=P((function(e){return e.codeValueChanged})),a=P((function(e){return e.startRunning})),r=P((function(e){return!0})),o=P((function(e){return e.toggleTipsPanel})),l=z[i];return Object(c.jsxs)("div",{className:"h-full w-full flex justify-content-between",children:[Object(c.jsx)(B.a,{height:"420px",width:"710px",defaultLanguage:"python",defaultValue:l,loading:"Loading Code Editor...",options:Z,onMount:function(t,i){e.current=t,s(t.getValue())},onChange:function(e){return s(e)}}),Object(c.jsxs)("div",{className:"tools w-4rem border-left-1 border-blue-500 flex flex-column align-items-center",children:[Object(c.jsxs)(I.a,{className:"p-button-rounded p-button-danger p-button-icon-only mx-2 mt-3",loading:t,onClick:a,tooltip:"Run Code",disabled:r,tooltipOptions:{disabled:t},children:[!t&&!r&&Object(c.jsx)(Y.e,{size:"22"}),r&&Object(c.jsx)(X.a,{size:"22"})]}),Object(c.jsx)(I.a,{className:"p-button-rounded p-button-help p-button-icon-only mx-3 mt-3",tooltip:"Live Coding Demo",children:Object(c.jsx)(Y.f,{size:"20"})}),Object(c.jsx)(I.a,{className:"p-button-rounded p-button-primary p-button-icon-only mx-3 mt-3",tooltip:"Reference",children:Object(c.jsx)(Y.a,{size:"20"})}),Object(c.jsx)(I.a,{className:"p-button-rounded p-button-secondary p-button-icon-only mx-3 mt-3",tooltip:"Tips",children:Object(c.jsx)(Y.c,{size:"20"})}),Object(c.jsx)(I.a,{className:"p-button-rounded p-button-warning p-button-icon-only mx-3 mt-3",tooltip:"Reset Code to Initial",children:Object(c.jsx)(Y.d,{size:"20"})}),Object(c.jsx)(I.a,{className:"p-button-rounded p-button-info p-button-icon-only mx-3 mt-3",tooltip:"Close Panel",onClick:o,children:Object(c.jsx)(Y.g,{size:"20"})}),Object(c.jsx)(I.a,{className:"p-button-rounded p-button-success p-button-icon-only mx-3 mt-3",tooltip:"Help Me",children:Object(c.jsx)(Y.b,{size:"20"})})]})]})},ee=i(128),te=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(0),i=Object(u.a)(t,2),s=i[0],a=i[1],r=P((function(e){return e.projectID})),o=P((function(e){return e.projects})).filter((function(e){return e.id===Number(r)})),l=Object(u.a)(o,1)[0],h=[{label:"Mission",command:function(t){e.current.show({sticky:!0,severity:"info",summary:"Mission Brief",detail:l.mission})}},{label:"Tips",command:function(t){e.current.show({severity:"info",summary:"Tips",detail:l.tips,life:4e3})}},{label:"Coding",command:function(t){e.current.show({severity:"info",summary:"Coding target",detail:l.coding,life:3e3})}},{label:"Proceed",command:function(t){e.current.show({severity:"info",summary:"Last step",detail:l.walk,life:3e3})}},{label:"Pass",command:function(t){e.current.show({severity:"info",summary:"Congratulations",detail:l.pass,life:3e3})}}];return Object(c.jsxs)("div",{className:"intro-area border-double h-10rem blue-round-panel pb-0",children:[Object(c.jsx)(A.a,{ref:e}),Object(c.jsxs)("div",{className:"flex justify-content-between",children:[Object(c.jsx)("h3",{className:"text-900",children:"Instructions"}),Object(c.jsx)("h3",{children:Object(c.jsx)(d.b,{to:"/",children:Object(c.jsx)("span",{className:"px-1",children:"\ud83c\udfe0"})})})]}),Object(c.jsx)("div",{className:"flex justify-content-between",children:Object(c.jsx)(ee.a,{model:h,className:"w-full mt-4",activeIndex:s,onSelect:function(e){return a(e.index)},readOnly:!1})})]})},ie=i(129),se=i(63),ae=i(6),ne=i.n(ae),re=i(43),oe=i(4),le=i(5),ce=i(13),he=i(12),ue=i(11),de=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(e,s,a,n){var r;return Object(oe.a)(this,i),(r=t.call(this,e,s,a,n)).scene=e,r.scene.add.existing(Object(ce.a)(r)),r.scene.physics.world.enableBody(Object(ce.a)(r),0),r.setData("isDead",!1),r.born=0,r.initY=a,r}return Object(le.a)(i,[{key:"update",value:function(e,t){this.x+=.6*t,this.y=this.initY}}]),i}(ne.a.GameObjects.Image),pe=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(e,s,a,n,r){var o;return Object(oe.a)(this,i),(o=t.call(this,e,s,a,n,0)).scene=e,o.scene.add.existing(Object(ce.a)(o)),o.scene.physics.world.enableBody(Object(ce.a)(o),1),o.setData("id",r),o.setData("fired",!1),o.setScale(.6,.6),o}return Object(le.a)(i,[{key:"fire",value:function(){return this.getData("fired")?null:(this.shootTimer=this.scene.time.addEvent({delay:200,callback:function(){this.setFrame(2),this.setData("fired",!0)},callbackScope:this,loop:!1}),new de(this.scene,this.x,this.y,"bullet"))}},{key:"update",value:function(){void 0!==this.shootTimer&&null!==this.shootTimer&&this.getData("fired")&&(this.shootTimer.remove(),this.shootTimer=null)}}]),i}(ne.a.GameObjects.Sprite),ye=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(e,s,a,n,r){var o;Object(oe.a)(this,i),(o=t.call(this,e,s,a,n)).scene=e,o.scene.add.existing(Object(ce.a)(o)),o.scene.physics.world.enableBody(Object(ce.a)(o),0),o.setData("id",r),o.setData("isDead",!1),o.setScale(.8,.8),o.play("move");return o.setTint(ne.a.Utils.Array.GetRandom([15689100,16751186,16768768,3272588,2220031,3255006,5404126,10245549,12394636])),o}return Object(le.a)(i,[{key:"update",value:function(e,t){this.getData("isDead")?this.body.velocity.y=100:this.body.velocity.y=-5}}]),i}(ne.a.GameObjects.Sprite),me=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(){var e;return Object(oe.a)(this,i),(e=t.call(this,"CloneArmy")).complete=!1,e.succeed=!1,e.guideTxt=null,e.bingo=e.bingo.bind(Object(ce.a)(e)),e.columnIndex=0,e.shootingInterval=0,e}return Object(le.a)(i,[{key:"preload",value:function(){this.load.image("dude","assets/sprites/phaser-dude.png"),this.load.image("vida","assets/sprites/darthvida_sm.png"),this.load.image("bullet","assets/sprites/bullet5.png"),this.load.spritesheet("soldier","assets/sprites/solider_yellow.png",{frameWidth:48,frameHeight:48}),this.load.spritesheet("invader","assets/sprites/invader1.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("boom","assets/sprites/explosion.png",{frameWidth:64,frameHeight:64,endFrame:23}),this.load.audio("fire","assets/audio/blaster.mp3"),this.load.audio("explosion","assets/audio/explosion.mp3")}},{key:"create",value:function(){this.fireSound=this.sound.add("fire"),this.explosionSound=this.sound.add("explosion");this.anims.create({key:"move",frames:"invader",frameRate:4,repeat:-1}),this.anims.create({key:"explode",frames:"boom",frameRate:36,hideOnComplete:!0}),this.add.image(570,30,"dude"),this.add.image(30,32,"vida").setScale(.8,.8),this.soldiers=this.add.group([],{runChildUpdate:!0}),this.enemies=this.add.group([],{runChildUpdate:!0}),this.playerLasers=this.add.group([],{runChildUpdate:!0});for(var e=0;e<5;e++)for(var t=0;t<4;t++){var i=new pe(this,20+20*e,90+32*t,"soldier",4*e+t);this.soldiers.add(i)}for(var s=0;s<10;s++)for(var a=0;a<4;a++){var n=new ye(this,310+30*s,90+32*a,"invader",4*s+a);this.enemies.add(n)}this.input.keyboard.on("keydown-SPACE",(function(){var e=this;if(!(this.shootingInterval<40)){this.shootingInterval=0;var t=Object(re.a)(this.soldiers.getChildren()).reverse(),i=[];t.forEach((function(e){4!==i.length&&(e.getData("fired")||i.push(e))})),i.length&&this.fireSound.play(),i.forEach((function(t){var i=t.fire();i&&e.playerLasers.add(i)}))}}),this),this.physics.add.collider(this.enemies,this.playerLasers,(function(e,t){this.explosionSound.play(),t.destroy(),e.setData("isDead",!0),e.clearTint(),e.play("explode"),e.on("animationcomplete",(function(){e.destroy()}),this)}),null,this)}},{key:"_createTextBouncing",value:function(){this.tweens.add({targets:this.guideTxt,y:30,duration:500,repeat:4,paused:!1,yoyo:!0})}},{key:"_createGuideText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;this.guideTxt&&this.guideTxt.removeFromDisplayList(),this.guideTxt=this.add.text(t,i,e,{fill:"#ffff00"})}},{key:"update",value:function(e,t){var i=this;this.succeed||(this.shootingInterval+=1,0===this.enemies.getLength()&&(this.succeed=!0,setTimeout((function(){i.onGameSuccess(),i.scene.start("congratulations",{msg:"You completed the [Clone Army] project!"})}),300)))}},{key:"bingo",value:function(e,t){if(!this.complete&&t){this._createGuideText("Bingo! press SPACE BAR to shoot those aliens.",70,20),this._createTextBouncing();for(var i=5;i<10;i++)for(var s=0;s<4;s++){var a=new pe(this,20+20*i,90+32*s,"soldier",4*i+s);this.soldiers.add(a)}return this.complete=!0,this.complete}}},{key:"onGameSuccess",value:function(){this.game.events.emit("gamePass")}}]),i}(ne.a.Scene),fe=me,ge=function(){function e(t,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(oe.a)(this,e),this.player=t,this.step=i,this.frameCounter=0,this.frameTotal=40,this._parse(i),this.onUpdate=s}return Object(le.a)(e,[{key:"_parse",value:function(e){this.name=Object.keys(e)[0],this.length=e[this.name],this.length?this.frameTotal*=this.length:this.frameTotal=12}},{key:"toString",value:function(){return">>> action: "+this.name}},{key:"_goRight",value:function(){this.player.setVelocityX(90),this.player.play("right",!0)}},{key:"_goJump",value:function(){this.player.play("jump"),this.player.setVelocityX(100),this.player.setVelocityY(-140)}},{key:"_goPivot",value:function(){this.player.setVelocityX(0),this.player.play("pivot",!0),this.player.setScale(.6,.6)}},{key:"_goTransport",value:function(){this.player.play("turn"),this.player.setScale(.4,.4),this.player.x+=1}},{key:"_goIdle",value:function(){this.player.setVelocityX(0),this.player.play("turn")}},{key:"update",value:function(){if(!(this.frameCounter>this.frameTotal)){var e={walk:this._goRight.bind(this),jump:this._goJump.bind(this),pivot:this._goPivot.bind(this),transport:this._goTransport.bind(this),idle:this._goIdle.bind(this)};e[this.name]&&(e[this.name](),this.onUpdate&&this.onUpdate(),this.frameCounter+=1)}}},{key:"isEnd",value:function(){return this.frameCounter>=this.frameTotal}}]),e}(),be=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{player:null,dockerLayer:null,pivotLayer:null},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(oe.a)(this,e),this.actions=t,this.state={},this.moveCounter=0,this.context=i,this.onExit=s}return Object(le.a)(e,[{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pivotHit:!1,exitHit:!1};if(this.state=t,this.actions.length&&(this.moveCounter+=1,!(this.moveCounter<24))){var i=this.actions[0];i.update(),i.isEnd()&&(this.actions.shift(),"pivot"===i.name&&this.state.pivotHit&&(this.context.dockerLayer.setVisible(!1),this.context.pivotLayer.setVisible(!0),this.actions.unshift(new ge(this.context.player,{transport:2},(function(){return e.context.pivotLayer.x+=1})))),"jump"===i.name&&this.state.exitHit&&(this.actions.unshift(new ge(this.context.player,{walk:0})),this.actions.unshift(new ge(this.context.player,{idle:1}))),0===this.actions.length&&this.state.exitHit&&this.onExit&&this.onExit())}}},{key:"isEnd",value:function(){return 0===this.actions.length}}]),e}(),ve=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(){var e;return Object(oe.a)(this,i),(e=t.call(this,"LavaAdventure")).complete=!1,e.succeed=!1,e.guideTxt=null,e.background=null,e.docker=null,e.failed=!1,e.actions=[],e.pivotHolded=!1,e.exitHitted=!1,e.actionManager=null,e}return Object(le.a)(i,[{key:"init",value:function(){this.failed=!1}},{key:"preload",value:function(){this.load.image("sky","assets/skies/sunset.png"),this.load.image("tiles","assets/tilemaps/tiles/kenney_redux_64x64.png"),this.load.tilemapTiledJSON("map","assets/tilemaps/maps/lavaAdventure.json"),this.load.spritesheet("player","assets/sprites/player_tilesheet.png",{frameWidth:80,frameHeight:110}),this.load.audio("lose","assets/audio/arcade_resources_sounds_lose4.mp3")}},{key:"create",value:function(){this.add.image(300,102,"sky");var e=this.make.tilemap({key:"map"}),t=e.addTilesetImage("adventure","tiles");this.background=e.createLayer("background",t,-40,0),this.background.setCollision([2,13]),this.exits=this.background.filterTiles((function(e){return 96===e.index})),this.docker=e.createLayer("docker",t,-40,0),this.docker.setCollision([42,54]),this.pickups=this.docker.filterTiles((function(e){return 190===e.index})),this.pivoted=e.createLayer("pivoted",t,-40,0),this.pivoted.setVisible(!1),this.pivoted.setCollision([42,54]),this._createPlayer(),this._createPlayerAnimation(),this.physics.add.collider(this.background,this.player),this.physics.add.collider(this.docker,this.player),this.physics.add.collider(this.pivoted,this.player),this.cursors=this.input.keyboard.createCursorKeys(),this.input.keyboard.removeCapture(32),this.loseSound=this.sound.add("lose")}},{key:"_createPlayer",value:function(){this.player=this.physics.add.sprite(20,0,"player",0),this.player.setBounce(.2),this.player.setScale(.4,.4),this.player.setCollideWorldBounds(!0),this.player.setDepth(1)}},{key:"_createPlayerAnimation",value:function(){this.anims.create({key:"turn",frames:[{key:"player",frame:0}],frameRate:6}),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("player",{start:10,end:9}),frameRate:6,repeat:-1}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("player",{start:9,end:10}),frameRate:6,repeat:-1}),this.anims.create({key:"jump",frames:[{key:"player",frame:1}],frameRate:6}),this.anims.create({key:"hold",frames:[{key:"player",frame:11}],frameRate:6}),this.anims.create({key:"pivot",frames:this.anims.generateFrameNumbers("player",{start:13,end:14}),frameRate:6,repeat:1}),this.anims.create({key:"fall",frames:[{key:"player",frame:4}],frameRate:6})}},{key:"_createGuideText",value:function(e){this.guideTxt&&this.guideTxt.removeFromDisplayList(),this.guideTxt=this.add.text(50,20,e,{fill:"#ffff00",fontSize:18})}},{key:"_goIdle",value:function(){this.player.setVelocityX(0),this.player.play("turn")}},{key:"_goDrop",value:function(){this.player.play("fall"),this.loseSound.isPlaying||this.loseSound.play()}},{key:"_gameFailed",value:function(){var e=this;this.failed=!0,setTimeout((function(){e.scene.start("gamefailed",{scene:"LavaAdventure"})}),200)}},{key:"_hitPivot",value:function(){this.pivotHolded=!0}},{key:"_hitExit",value:function(){this.exitHitted=!0}},{key:"_manualControl",value:function(){return this.cursors.left.isDown?(this.player.setVelocityX(-160),this.player.play("left",!0)):this.cursors.right.isDown?(this.player.setVelocityX(90),this.player.play("right",!0)):this.cursors.up.isDown?(this.player.play("jump"),this.player.setVelocityY(-160)):(this.player.setVelocityX(0),this.player.play("turn"),void(this.exitHitted&&this._successHandler()))}},{key:"_collisionCheck",value:function(){this.physics.world.overlapTiles(this.player,this.pickups,this._hitPivot,null,this),this.physics.world.overlapTiles(this.player,this.exits,this._hitExit,null,this)}},{key:"update",value:function(){if(!this.failed&&!this.succeed){if(this.player.y>180)return this._gameFailed();if(this.player.y>120)return this._goDrop();if(this._collisionCheck(),!this.actionManager||this.actionManager.isEnd())return this._manualControl();var e={pivotHit:this.pivotHolded,exitHit:this.exitHitted};this.actionManager.update(e)}}},{key:"_goStart",value:function(){this.player.setPosition(20,60),this.pivotHolded=!1,this.docker.setVisible(!0),this.pivoted.setVisible(!1),this.pivoted.x=-40,this._goIdle()}},{key:"_successHandler",value:function(){this.succeed=!0,this.onGameSuccess(),this.scene.start("congratulations",{msg:"You completed the [Lava Adventure] project!"})}},{key:"bingo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0;this._goStart();var s=t.map((function(t){return new ge(e.player,t)}));return this.actionManager=new be(s,{player:this.player,dockerLayer:this.docker,pivotLayer:this.pivoted},this._successHandler.bind(this)),i&&this._createGuideText("Bingo! Move player with SPACE KEY to exit!"),this.complete}},{key:"onGameSuccess",value:function(){this.game.events.emit("gamePass")}}]),i}(ne.a.Scene),je=ve,xe=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(){var e;return Object(oe.a)(this,i),(e=t.call(this,"MakeYourPath")).blankRows=[[107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107],[107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107],[107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,151]],e.level0=[].concat(Object(re.a)(e.blankRows),[[12,107,12,107,12,107,12,107,12,107,12,107,12,107,12,107,12,107,12],[1,107,1,107,1,107,1,107,1,107,1,107,1,107,1,107,1,107,1],[1,10,1,10,1,10,1,10,1,10,1,10,1,10,1,10,1,10,1]]),e.level1=[].concat(Object(re.a)(e.blankRows),[[107,122,107,122,107,122,107,122,107,122,107,122,107,122,107,122,107,122,107]]),e.pickups=[],e.complete=!1,e.succeed=!1,e.guideTxt=null,e.debug=!1,e.bingo=e.bingo.bind(Object(ce.a)(e)),e}return Object(le.a)(i,[{key:"preload",value:function(){this.load.image("tileskenney","assets/tilemaps/tiles/kenney_redux_64x64.png"),this.load.spritesheet("dude","assets/sprites/dude.png",{frameWidth:32,frameHeight:48})}},{key:"_createGroundLayer",value:function(e){var t=this.make.tilemap({data:e,tileWidth:64,tileHeight:64}),i=t.addTilesetImage("tileskenney"),s=t.createLayer(0,i,0,42);return s.setScale(.5,.5),s.setCollision([12,122]),0===this.pickups.length&&(this.pickups=t.filterTiles((function(e){return 151===e.index}))),s}},{key:"_createPlayerAnimation",value:function(){this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"dude",frame:4}],frameRate:20}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:5,end:8}),frameRate:10,repeat:-1})}},{key:"_createPlayer",value:function(){this.player=this.physics.add.sprite(0,0,"dude"),this.player.setBounce(.2),this.player.setScale(.8,.8),this.player.setCollideWorldBounds(!0),this.player.setDepth(1)}},{key:"_createPlayerBouncing",value:function(){this.tweens.add({targets:this.player,y:50,duration:500,repeat:2,paused:!1,yoyo:!0})}},{key:"_createTextBouncing",value:function(){this.tweens.add({targets:this.guideTxt,y:20,duration:500,repeat:3,paused:!1,yoyo:!0})}},{key:"_createGuideText",value:function(e){this.guideTxt&&this.guideTxt.removeFromDisplayList(),this.guideTxt=this.add.text(10,10,e,{fill:"#ffff00"})}},{key:"create",value:function(){var e=this._createGroundLayer(this.level0);this._createPlayer(),this._createPlayerAnimation(),this._createGuideText("Watch out!"),this.physics.add.collider(e,this.player),this.cursors=this.input.keyboard.createCursorKeys(),this.input.keyboard.removeCapture(32)}},{key:"update",value:function(){this.cursors.left.isDown?(this.player.setVelocityX(-160),this.player.anims.play("left",!0)):this.cursors.right.isDown?(this.player.setVelocityX(80),this.player.anims.play("right",!0)):(this.player.setVelocityX(0),this.player.anims.play("turn")),this.cursors.up.isDown&&this.player.body.blocked.down&&this.player.setVelocityY(-150),this.physics.world.overlapTiles(this.player,this.pickups,this._hitExit,null,this)}},{key:"_hitExit",value:function(){var e=this;this.succeed||(setTimeout((function(){e.onGameSuccess(),e.scene.start("congratulations",{msg:"You completed the [Make Your Path] chapter!"})}),300),this.succeed=!0)}},{key:"bingo",value:function(e){if(!this.complete){this.player.setPosition(0,80);var t=[];Array.isArray(e)&&e.forEach((function(e,i){i%2===0&&t.push(107),i%2===1&&1===e&&t.push(122)}));var i=[].concat(Object(re.a)(this.blankRows),[t.slice(0,18)]),s=this._createGroundLayer(i);if(this.physics.add.collider(s,this.player),18===e.reduce((function(e,t){return e+t}),0))return this._createGuideText("Bingo! Move player toward Exit with RIGHT ARROW key!"),this._createPlayerBouncing(),this._createTextBouncing(),this.complete=!0,this.complete}}},{key:"onGameSuccess",value:function(){this.game.events.emit("gamePass")}}]),i}(ne.a.Scene),ke=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(){var e;return Object(oe.a)(this,i),(e=t.call(this,"GuessMyName")).complete=!1,e.succeed=!1,e.guideTxt=null,e.bingo=e.bingo.bind(Object(ce.a)(e)),e.pickups=[],e.layerHoriOffset=-40,e}return Object(le.a)(i,[{key:"preload",value:function(){this.load.image("logo","assets/sprites/phaser3-logo-small.png"),this.load.image("sky","assets/skies/sky2.png"),this.load.image("tiles","assets/tilemaps/tiles/platformPack_tilesheet.png"),this.load.image("letters","assets/tilemaps/tiles/yellow_spritesheet_512.png"),this.load.tilemapTiledJSON("map","assets/tilemaps/maps/guessMyName.json"),this.load.spritesheet("player","assets/sprites/platformerPack_character.png",{frameWidth:96,frameHeight:96})}},{key:"create",value:function(){this.add.image(300,102,"sky");var e=this.make.tilemap({key:"map"}),t=e.addTilesetImage("platform","tiles"),i=e.addTilesetImage("letters512","letters");this.background=e.createLayer("background",t,this.layerHoriOffset,0),this.background.setCollision([18,60]),this.lockerLayer=e.createLayer("lock",t,this.layerHoriOffset,0),this.keyLayer=e.createLayer("key",t,this.layerHoriOffset,0),this.lettersLayer=e.createLayer("letters",i,this.layerHoriOffset,0),this.caillouLayer=e.createLayer("caillou",i,this.layerHoriOffset,0),this.caillouLayer.setVisible(!1),this.ladderLayer=e.createLayer("ladder",t,this.layerHoriOffset,0),this.ladderLayer.setVisible(!1),this._collisionTiles(this.background,this.ladderLayer,this.keyLayer),this._createPlayerAnimation(),this._createPlayer(),this.collider=this.physics.add.collider(this.background,this.player),this.cursors=this.input.keyboard.createCursorKeys(),this.input.keyboard.removeCapture(32)}},{key:"_collisionTiles",value:function(e,t,i){if(!this.pickups.length){var s=e.filterTiles((function(e){return 76===e.index}));this.pickups=this.pickups.concat(s);var a=t.filterTiles((function(e){return 58===e.index}));this.pickups=this.pickups.concat(a);var n=i.filterTiles((function(e){return 65===e.index}));this.pickups=this.pickups.concat(n)}}},{key:"_createPlayer",value:function(){this.player=this.physics.add.sprite(100,30,"player",0),this.player.setBounce(.2),this.player.setScale(.6,.6),this.player.setCollideWorldBounds(!0),this.player.setDepth(1),this.player.play("jump")}},{key:"_createPlayerAnimation",value:function(){this.anims.create({key:"turn",frames:[{key:"player",frame:0}],frameRate:6}),this.anims.create({key:"jump",frames:[{key:"player",frame:1}],frameRate:6}),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("player",{start:3,end:2}),frameRate:6,repeat:-1}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("player",{start:2,end:3}),frameRate:6,repeat:-1}),this.anims.create({key:"climb",frames:this.anims.generateFrameNumbers("player",{start:4,end:5}),frameRate:6})}},{key:"_createGuideText",value:function(e){this.guideTxt&&this.guideTxt.removeFromDisplayList(),this.guideTxt=this.add.text(10,10,e,{fill:"#ffff00"})}},{key:"_manualControl",value:function(){if(this.cursors.left.isDown)return this.player.y<40&&this.player.x<300?this.player.setVelocityX(0):(this.player.setVelocityX(-160),this.player.play("left",!0));if(this.cursors.right.isDown)return this.player.setVelocityX(90),this.player.play("right",!0);if(this.hitLadder&&this.player.y<40)return this.player.setVelocityY(0),this.player.setPosition(320,0),void this.background.setCollision(60,!0);if(this.cursors.up.isDown&&this.hitLadder)return this.player.setVelocityY(-90),this.player.play("climb",!0);if(this.hitLadder)return this.player.setVelocityX(0),this.player.play("climb");var e=this.player.body.velocity.y,t=1===Math.ceil(Math.abs(e));this.player.setVelocityX(0),t&&this.player.play("turn")}},{key:"_closeEnough",value:function(e,t,i){var s=64*t.x+32+this.layerHoriOffset,a=e.body.center.x;return i>Math.round(Math.abs(s-a))}},{key:"_hitTile",value:function(e,t){this._closeEnough(e,t,20)&&(65===t.index&&(this.hitKey=!0,this.lockerLayer.setVisible(!1),this.ladderLayer.setVisible(!0),this.keyLayer.setVisible(!1)),76===t.index&&(this.succeed=!0),this.hitKey&&58===t.index&&(this.hitLadder=!0))}},{key:"update",value:function(){this.succeed||(this.hitLadder=!1,this.physics.world.overlapTiles(this.player,this.pickups,this._hitTile,null,this),this._manualControl(),this.succeed&&(this.scene.start("congratulations",{msg:"You completed the [Guess My Name] chapter!"}),this.onGameSuccess()))}},{key:"bingo",value:function(e,t){if("CA"===e)return this._createGuideText("Bingo! Walk right to pickup the key using RIGHT KEY!"),this.background.setCollision(60,!1),this.caillouLayer.setVisible(!0),this.complete=!0,this.complete}},{key:"onGameSuccess",value:function(){this.game.events.emit("gamePass")}}]),i}(ne.a.Scene),Oe=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(){var e;return Object(oe.a)(this,i),(e=t.call(this,"SphinxRiddle")).complete=!1,e.succeed=!1,e.guideTxt=null,e.bingo=e.bingo.bind(Object(ce.a)(e)),e.pickups=[],e.layerHoriOffset=-40,e}return Object(le.a)(i,[{key:"preload",value:function(){this.load.image("egypt","assets/skies/pyramid_desert_sm.jpg"),this.load.image("sphinx","assets/sprites/sphinx_sm.png"),this.load.image("tiles","assets/tilemaps/tiles/platformPack_tilesheet.png"),this.load.tilemapTiledJSON("map","assets/tilemaps/maps/sphinxRiddle.json"),this.load.spritesheet("player","assets/sprites/adventurer_tilesheet.png",{frameWidth:80,frameHeight:110})}},{key:"create",value:function(){this.egypt=this.add.image(300,80,"egypt"),this.sphinx=this.add.image(500,100,"sphinx");var e=this.make.tilemap({key:"map"}),t=e.addTilesetImage("platform","tiles");this.floorLayer=e.createLayer("background",t,-40,0),this.floorLayer.setCollision(4),this.boxesLayer=e.createLayer("boxes",t,-60,0),this.doorLayer=e.createLayer("door",t,-40,0),this.doorLayer.setVisible(!1),this._createAnimation(),this._createPlayer(),this.physics.add.collider(this.floorLayer,this.player),this.cursors=this.input.keyboard.createCursorKeys(),this.input.keyboard.removeCapture(32);var i=this.doorLayer.filterTiles((function(e){return 76===e.index}));this.pickups=this.pickups.concat(i);var s=this._createDialog.bind(this);setTimeout(s,1e3)}},{key:"_createDialog",value:function(){var e=this.add.graphics();e.lineStyle(2,16711680,1),e.strokeRoundedRect(140,30,300,100,6),e.fillStyle(16776960,.6),e.fillRoundedRect(140,30,300,100,6);this.dialog=this.add.text(148,38,["What goes on four feet in the morning, ","two feet at noon, and three feet in the","evening? Anwser is hidden in the two","boxes, which box hold the right anwser!"],{fontFamily:"Arial",color:"#000000"}),this.dialog.setLineSpacing(6)}},{key:"_createGuideText",value:function(e){this.guideTxt&&this.guideTxt.removeFromDisplayList(),this.guideTxt=this.add.text(10,10,e,{fill:"#ffff00"})}},{key:"_createPlayer",value:function(){this.player=this.physics.add.sprite(100,60,"player",0),this.player.setBounce(.2),this.player.setScale(.5,.5),this.player.setCollideWorldBounds(!0),this.player.setDepth(1)}},{key:"_createAnimation",value:function(){this.anims.create({key:"turn",frames:[{key:"player",frame:0}],frameRate:6}),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("player",{start:10,end:9}),frameRate:6,repeat:-1}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("player",{start:9,end:10}),frameRate:6,repeat:-1}),this.anims.create({key:"jump",frames:[{key:"player",frame:1}],frameRate:6})}},{key:"_manualControl",value:function(){if(this.cursors.left.isDown)return this.player.setVelocityX(-160),this.player.play("left",!0);if(this.cursors.right.isDown)return this.player.setVelocityX(90),this.player.play("right",!0);if(this.cursors.up.isDown&&(this.player.play("jump"),this.player.body.blocked.down))return this.player.setVelocityY(-160);var e=this.player.body.velocity.y,t=1===Math.ceil(Math.abs(e));this.player.setVelocityX(0),t&&this.player.play("turn")}},{key:"_closeEnough",value:function(e,t,i){var s=64*t.x+32+this.layerHoriOffset,a=e.body.center.x;return i>Math.round(Math.abs(s-a))}},{key:"_hitTile",value:function(e,t){this.complete&&this._closeEnough(e,t,10)&&(this.succeed=!0)}},{key:"update",value:function(){this.succeed||(this.physics.world.overlapTiles(this.player,this.pickups,this._hitTile,null,this),this._manualControl(),this.succeed&&(this.scene.start("congratulations",{msg:"You completed the [Riddle of Sphinx] chapter!"}),this.onGameSuccess()))}},{key:"bingo",value:function(e,t){if(t)return this.dialog.setText(["Bingo!","press RIGHT ARROW KEY","toward door to complete this game!"]),this.doorLayer.setVisible(!0),this.complete=!0,this.complete}},{key:"onGameSuccess",value:function(){this.game.events.emit("gamePass")}}]),i}(ne.a.Scene),_e=function(){function e(t,i){Object(oe.a)(this,e),this.player=t,this.tile=i,this.speed=60,this.toTheEnd=!1}return Object(le.a)(e,[{key:"update",value:function(){if(!this.toTheEnd){var e=64*this.tile.x-10-this.player.x,t=64*this.tile.y+26-this.player.y;return 1===Math.max(Math.abs(e),Math.abs(t))?(console.log(">>> one step is end!"),this.toTheEnd=!0,this.player.setVelocity(0,0)):e>1?this._goRight():t>1?this._goDown():t<-1?this._goTop():void 0}}},{key:"_goRight",value:function(){this.player.setVelocityX(this.speed)}},{key:"_goTop",value:function(){this.player.setVelocityY(-this.speed)}},{key:"_goDown",value:function(){this.player.setVelocityY(this.speed)}},{key:"isEnd",value:function(){return this.toTheEnd}}]),e}(),we=function(){function e(t,i,s,a){Object(oe.a)(this,e),this.steps=i.map((function(e){return new _e(t,e)})),this.moveCounter=0,this.onCellChange=s,this.onExit=a}return Object(le.a)(e,[{key:"update",value:function(){if(this.steps.length&&(this.moveCounter+=1,!(this.moveCounter<24))){var e=this.steps[0];e.update(),e.isEnd()&&(this.steps.shift(),this.onCellChange(e.tile),this.steps.length||this.onExit())}}}]),e}(),Te=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(){var e;return Object(oe.a)(this,i),(e=t.call(this,"WhichWayToGo")).complete=!1,e.succeed=!1,e.guideTxt=null,e.bingo=e.bingo.bind(Object(ce.a)(e)),e.layerHoriOffset=-40,e.paths={1:[{x:1,y:2},{x:1,y:3}],2:[{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:3,y:1},{x:4,y:1},{x:4,y:2},{x:5,y:2}],3:[{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:3,y:3},{x:4,y:3},{x:5,y:3},{x:6,y:3}],4:[{x:1,y:2},{x:1,y:1,rm:!0},{x:1,y:0},{x:2,y:0},{x:3,y:0},{x:4,y:0},{x:5,y:0},{x:5,y:1},{x:6,y:1},{x:6,y:0,rm:!0},{x:7,y:0},{x:8,y:0},{x:9,y:0}],5:[{x:1,y:2},{x:1,y:1},{x:1,y:0},{x:2,y:0},{x:3,y:0},{x:4,y:0},{x:5,y:0},{x:5,y:1},{x:6,y:1},{x:7,y:1},{x:8,y:1}],6:[{x:1,y:2},{x:1,y:1},{x:1,y:0},{x:2,y:0},{x:3,y:0},{x:4,y:0},{x:5,y:0},{x:5,y:1},{x:6,y:1},{x:6,y:2},{x:7,y:2}]},e.walker=null,e}return Object(le.a)(i,[{key:"preload",value:function(){this.load.image("ground","assets/tilemaps/tiles/terrainTiles_default.png"),this.load.image("platform","assets/tilemaps/tiles/platformPack_tilesheet.png"),this.load.tilemapTiledJSON("map","assets/tilemaps/maps/whichWaytogo.json"),this.load.spritesheet("player","assets/sprites/spritesheet_enemies.png",{frameWidth:128,frameHeight:130})}},{key:"create",value:function(){var e=this.make.tilemap({key:"map"}),t=e.addTilesetImage("terrain","ground");this.floor=e.createLayer("background",t,-40,0);var i=e.addTilesetImage("tools","platform");this.tools=e.createLayer("tools",i,-40,0),this._createAnimation(),this._createPlayer()}},{key:"_createGuideText",value:function(e){this.guideTxt&&this.guideTxt.removeFromDisplayList(),this.guideTxt=this.add.text(10,10,e,{fill:"#ff0000"})}},{key:"_createAnimation",value:function(){this.anims.create({key:"idle",frames:this.anims.generateFrameNumbers("player",{frames:[41,49,57]}),frameRate:3,repeat:-1}),this.anims.create({key:"move",frames:this.anims.generateFrameNumbers("player",{start:41,end:57}),frameRate:2,repeat:-1})}},{key:"_createPlayer",value:function(){this.player=this.physics.add.sprite(20,154,"player",57),this.player.setBounce(.2),this.player.setScale(.25,.25),this.player.setCollideWorldBounds(!0),this.player.setDepth(1),this.player.body.setAllowGravity(!1),this.player.play("idle",!0)}},{key:"_closeEnough",value:function(e,t,i){var s=64*t.x+32+this.layerHoriOffset,a=e.body.center.x;return i>Math.round(Math.abs(s-a))}},{key:"_successHandler",value:function(){this.succeed=!0,this.onGameSuccess(),this.scene.start("congratulations",{msg:"You completed the [Which Way to Go] project!"})}},{key:"_onCellChange",value:function(e){e.rm&&this.tools.removeTileAt(e.x,e.y)}},{key:"update",value:function(){this.walker&&!this.succeed&&this.walker.update()}},{key:"bingo",value:function(e,t){return!!t&&(this.walker=new we(this.player,this.paths[e.id],this._onCellChange.bind(this),this._successHandler.bind(this)),this._createGuideText("Bingo!"),!0)}},{key:"onGameSuccess",value:function(){this.game.events.emit("gamePass")}}]),i}(ne.a.Scene),Ne=function(){function e(t,i){Object(oe.a)(this,e),this.soldier=t,this.launchTime=i,this.frameCounter=0,this.accelerator=0,this.outOfValley=!1}return Object(le.a)(e,[{key:"update",value:function(){if(this.frameCounter+=1,!(this.frameCounter<this.launchTime)){if(this.soldier.y<-30)return this.soldier.setVelocityY(0),void(this.outOfValley=!0);this.accelerator+=10,this.soldier.setVelocityY(-90-this.accelerator)}}},{key:"isFree",value:function(){return this.outOfValley}}]),e}(),Ce=function(){function e(t){Object(oe.a)(this,e),this.superSoldiers=null,this.moveCounter=0,this.successHandler=t}return Object(le.a)(e,[{key:"launch",value:function(e){var t=this;this.superSoldiers=[],e.forEach((function(e,i){t.superSoldiers.push(new Ne(e,10*i))}))}},{key:"update",value:function(){if(this.moveCounter+=1,!(this.moveCounter<24)){var e=!0;this.superSoldiers.forEach((function(t){t.update(),t.isFree()||(e=!1)})),e&&this.successHandler()}}},{key:"isEnd",value:function(){}}]),e}(),Se=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(){var e;return Object(oe.a)(this,i),(e=t.call(this,"FlyThemUp")).complete=!1,e.succeed=!1,e.guideTxt=null,e.bingo=e.bingo.bind(Object(ce.a)(e)),e.layerHoriOffset=-40,e}return Object(le.a)(i,[{key:"preload",value:function(){this.load.image("sky","assets/skies/toxic.png"),this.load.image("tiles","assets/tilemaps/tiles/tilesheet_complete.png"),this.load.tilemapTiledJSON("map","assets/tilemaps/maps/flyThemUp.json"),this.load.spritesheet("soldiers","assets/sprites/soldiers.png",{frameWidth:32,frameHeight:38}),this.load.spritesheet("battery","assets/sprites/battery.png",{frameWidth:48,frameHeight:48}),this.load.atlas("elves","assets/animations/elves-craft-pixel.png","assets/animations/elves-craft-pixel.json")}},{key:"create",value:function(){this.add.image(0,0,"sky").setOrigin(0);var e=this.make.tilemap({key:"map"}),t=e.addTilesetImage("platform","tiles");this.ground=e.createLayer("ground",t,-10,-20),this.ground.setCollision([2,50,51]),this._createBatteries(),this._createAnimation(),this._createPlayer(),this._createSoldiers(),this.physics.add.collider(this.ground,this.player)}},{key:"_createBatteries",value:function(){this.batteries=this.add.group();for(var e=2;e<=4;e++){var t=this.add.sprite(36+12*e,20,"battery",e);t.setScale(.4,.4),this.batteries.add(t)}}},{key:"_createPlayer",value:function(){this.player=this.physics.add.sprite(50,0,"elves"),this.player.setBounce(.2),this.player.setScale(.4,.4),this.player.setCollideWorldBounds(!0),this.player.setDepth(1),this.player.play("blueIdle")}},{key:"_createSoldiers",value:function(){this.soldiers=this.add.group([],{runChildUpdate:!0});for(var e=0;e<12;e++){var t=this.physics.add.sprite(144+24*e,22,"soldiers",0);t.setBounce(.2),t.play("soldierIdle"),this.soldiers.add(t),this.physics.add.collider(this.ground,t)}}},{key:"_createAnimation",value:function(){this.anims.create({key:"greenIdle",frames:this.anims.generateFrameNames("elves",{prefix:"green_idle_",start:0,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:"blueIdle",frames:this.anims.generateFrameNames("elves",{prefix:"blue_idle_",start:0,end:4}),frameRate:10,repeat:-1}),this.anims.create({key:"greenAttack",frames:this.anims.generateFrameNames("elves",{prefix:"green_attack_",start:0,end:5}),frameRate:10}),this.anims.create({key:"blueAttack",frames:this.anims.generateFrameNames("elves",{prefix:"blue_attack_",start:0,end:4}),frameRate:10}),this.anims.create({key:"greenDead",frames:this.anims.generateFrameNames("elves",{prefix:"green_die_",start:0,end:4}),frameRate:6}),this.anims.create({key:"blueDead",frames:this.anims.generateFrameNames("elves",{prefix:"blue_die_",start:0,end:4}),frameRate:6}),this.anims.create({key:"soldierIdle",frames:this.anims.generateFrameNames("soldiers",{start:2,end:3}),frameRate:3,repeat:-1}),this.anims.create({key:"soldierFly",frames:this.anims.generateFrameNames("soldiers",{start:5,end:9}),frameRate:6,repeat:-1})}},{key:"_createGuideText",value:function(e){this.guideTxt&&this.guideTxt.removeFromDisplayList(),this.guideTxt=this.add.text(10,10,e,{fill:"#ffff00"})}},{key:"_closeEnough",value:function(e,t,i){var s=64*t.x+32+this.layerHoriOffset,a=e.body.center.x;return i>Math.round(Math.abs(s-a))}},{key:"_successHandler",value:function(){this.succeed=!0,this.onGameSuccess(),this.scene.start("congratulations",{msg:"You completed the [Free Your Troops] project!"})}},{key:"update",value:function(){this.troops&&(this.troops.update(),this.player.play("blueAttack",!0))}},{key:"bingo",value:function(e,t){if(t)return this._createGuideText("Bingo!"),this.troops=new Ce(this._successHandler.bind(this)),this.troops.launch(this.soldiers.getChildren()),this.batteries.destroy(!0,!0),this.complete=!0,this.complete}},{key:"onGameSuccess",value:function(){this.game.events.emit("gamePass")}}]),i}(ne.a.Scene),Le=function(){function e(t,i,s){Object(oe.a)(this,e),this.stoneLayers=t.getChildren(),this.tweens=i,this.player=s,this.frameCounter=0,this.startMoveTime=100,this.endMoveTime=300}return Object(le.a)(e,[{key:"update",value:function(){this.frameCounter+=1,this.frameCounter===this.startMoveTime&&this.start()}},{key:"start",value:function(){var e=this;this.stoneLayers.forEach((function(t){var i={targets:t,y:-100*Math.random()*3+100,duration:2e3,delay:500*Math.random(),ease:"Sine.easeInOut",yoyo:!0,loop:-1};e.tweens.add(i)}))}},{key:"stop",value:function(){this.tweens.shutdown(),this.stoneLayers.forEach((function(e){return e.setY(-20)})),this.player.setY(50)}}]),e}(),Re=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(){var e;return Object(oe.a)(this,i),(e=t.call(this,"PassLiveBridge")).complete=!1,e.succeed=!1,e.guideTxt=null,e.bingo=e.bingo.bind(Object(ce.a)(e)),e.layerHoriOffset=-40,e}return Object(le.a)(i,[{key:"init",value:function(){this.failed=!1,this.pickups=[]}},{key:"preload",value:function(){this.load.image("sky","assets/skies/space3.png"),this.load.image("tiles","assets/tilemaps/tiles/tilesheet_complete_32.png"),this.load.tilemapTiledJSON("map","assets/tilemaps/maps/passLiveBridge.json"),this.load.spritesheet("aliens","assets/sprites/aliens_green.png",{frameWidth:64,frameHeight:96})}},{key:"create",value:function(){this.add.image(0,0,"sky").setOrigin(0);var e=this.make.tilemap({key:"map"}),t=e.addTilesetImage("platform","tiles");this._createPlayerAnimation(),this._createPlayer(),this.lockerLayer=e.createLayer("layer_lock",t,-40,-20),this.lockerLayer.setCollision(51),this.exitLayer=e.createLayer("layer_exit",t,-40,-20),this.exitLayer.setVisible(!1),this.exitLayer.setCollision(51),this.keyLayer=e.createLayer("layer_key",t,-40,-20),this.layerGroup=this.add.group();for(var i=1;i<9;i++){var s=e.createLayer("layer_"+i,t,-40,-20);s.setCollision([118,119,52,53]),this.layerGroup.add(s)}var a=this.keyLayer.filterTiles((function(e){return 80===e.index}));this.pickups=this.pickups.concat(a);var n=this.exitLayer.filterTiles((function(e){return 152===e.index}));this.pickups=this.pickups.concat(n),this.physics.add.collider(this.layerGroup,this.player),this.physics.add.collider(this.lockerLayer,this.player),this.physics.add.collider(this.exitLayer,this.player),this.platform=new Le(this.layerGroup,this.tweens,this.player),this.cursors=this.input.keyboard.createCursorKeys(),this.input.keyboard.removeCapture(32)}},{key:"_createPlayer",value:function(){this.player=this.physics.add.sprite(50,50,"aliens"),this.player.setBounce(.2),this.player.setScale(.5,.5),this.player.setCollideWorldBounds(!1),this.player.setDepth(1),this.player.play("idle")}},{key:"_createGuideText",value:function(e){this.guideTxt&&this.guideTxt.removeFromDisplayList(),this.guideTxt=this.add.text(10,10,e,{fill:"#ffff00"})}},{key:"_createPlayerAnimation",value:function(){this.anims.create({key:"idle",frames:this.anims.generateFrameNames("aliens",{frames:[0,0,0,6,6,6]}),frameRate:2,repeat:-1}),this.anims.create({key:"walk",frames:[{key:"aliens",frame:3},{key:"aliens",frame:4}],frameRate:2,repeat:-1}),this.anims.create({key:"swim",frames:[{key:"aliens",frame:9},{key:"aliens",frame:10}],frameRate:2,repeat:-1}),this.anims.create({key:"jump",frames:[{key:"aliens",frame:8}],frameRate:2}),this.anims.create({key:"fall",frames:[{key:"aliens",frame:7}],frameRate:2})}},{key:"_closeEnough",value:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,a=t.x*s+s/2+this.layerHoriOffset,n=e.body.center.x,r=Math.round(Math.abs(a-n));return i>r}},{key:"_manualControl",value:function(){return this.cursors.left.isDown?(this.player.setVelocityX(-90),this.player.play("walk",!0)):this.cursors.right.isDown?(this.player.setVelocityX(90),this.player.play("walk",!0)):this.cursors.up.isDown&&this.player.body.blocked.down?(this.player.play("jump"),this.player.setVelocityY(-180)):(this.player.setVelocityX(0),this.player.play("idle",!0),void(this.player.y>300&&(this.failed=!0)))}},{key:"_hitPickups",value:function(e,t){this._closeEnough(e,t,4)&&(80===t.index&&this.keyLayer&&(this.keyLayer.removeFromDisplayList(),this.keyLayer=null,this.exitLayer.setVisible(!0),this.hitKey=!0),152===t.index&&this.hitKey&&(this.hitExit=!0))}},{key:"_successHandler",value:function(){this.onGameSuccess(),this.scene.start("congratulations",{msg:"You completed the [Pass live bridge] project!"})}},{key:"_gameFailed",value:function(){var e=this;setTimeout((function(){e.scene.start("gamefailed",{scene:"PassLiveBridge"})}),200)}},{key:"_hitRightBoundaryCheck",value:function(){this.player.x<580||(this.player.setVelocityX(0),this.player.setX(578))}},{key:"update",value:function(){if(!this.failed&&!this.succeed){if(this.platform.update(),this._hitRightBoundaryCheck(),this._manualControl(),this.physics.world.overlapTiles(this.player,this.pickups,this._hitPickups,null,this),this.failed)return this._gameFailed();this.hitExit&&this.complete&&this._successHandler()}}},{key:"bingo",value:function(e,t){if(t)return this._createGuideText("Bingo!"),this.platform.stop(),this.complete=!0,this.complete}},{key:"onGameSuccess",value:function(){this.game.events.emit("gamePass")}}]),i}(ne.a.Scene),Pe=Re,Ee=function(){function e(t,i,s){Object(oe.a)(this,e),this.scene=t,this.centerX=i,this.centerY=s,this.started=!1,this.frameCounter=0,this.visible=!1}return Object(le.a)(e,[{key:"start",value:function(){this.visible&&(this.started=!0)}},{key:"popup",value:function(){this.visible=!0,this.addBackgroundImage(this.scene,this.centerX),this.drawClock()}},{key:"update",value:function(){this.started&&(this.frameCounter+=1,this.frameCounter%60===0&&this.drawClock())}},{key:"drawClock",value:function(){this.context&&this.context.clear(),this.context=this.scene.add.graphics(),this.context.translateCanvas(this.centerX+90,this.centerY);var e=new Date;this.drawHourHand(e),this.drawMinuteHand(e),this.drawSecondHand(e)}},{key:"addBackgroundImage",value:function(e,t){this.clockFace&&this.clockFace.removeFromDisplayList(),this.clockFace=e.add.image(0,0,"clock"),this.clockFace.setOrigin(0,0),this.clockFace.setScale(.4,.4),this.clockFace.setX(t)}},{key:"degreesToRadians",value:function(e){return Math.PI/180*e}},{key:"drawHand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;this.context.beginPath(),this.context.moveTo(0,0),this.context.lineTo(-t,-10),this.context.lineTo(0,-e/2),this.context.lineTo(t,-10),this.context.lineTo(0,0),this.context.fillPath(),this.context.strokePath()}},{key:"drawHourHand",value:function(e){var t=360*(e.getHours()+e.getMinutes()/60)/12%360;this.context.save(),this.context.fillStyle(3355443),this.context.lineStyle(1,6710886);var i=this.degreesToRadians(t);this.context.rotateCanvas(i),this.drawHand(110,5),this.context.restore()}},{key:"drawMinuteHand",value:function(e){var t=e.getMinutes()+e.getSeconds()/60;this.context.save(),this.context.fillStyle(3355443),this.context.lineStyle(1,6710886);var i=this.degreesToRadians(6*t);this.context.rotateCanvas(i),this.drawHand(130,5),this.context.restore()}},{key:"drawSecondHand",value:function(e){var t=e.getSeconds();this.context.save(),this.context.fillStyle(16711680),this.context.lineStyle(1,9109504);var i=this.degreesToRadians(6*t);this.context.rotateCanvas(i),this.drawHand(150),this.context.restore()}}]),e}(),De=function(){function e(t,i){Object(oe.a)(this,e),this.dialogs=t,this.frameCounter=0,this.isRunning=!1,this.completeHandler=i}return Object(le.a)(e,[{key:"start",value:function(){this.isRunning=!0,this.frameCounter=0}},{key:"update",value:function(){var e=this;if(this.isRunning){this.dialogs.forEach((function(t){t.delay===e.frameCounter&&(t.action()&&e.stop())})),this.frameCounter+=1}}},{key:"stop",value:function(){this.isRunning=!1,this.completeHandler&&this.completeHandler()}}]),e}(),Me=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(){var e;return Object(oe.a)(this,i),(e=t.call(this,"FixTheClock")).complete=!1,e.succeed=!1,e.guideTxt=null,e.bingo=e.bingo.bind(Object(ce.a)(e)),e.layerHoriOffset=-40,e}return Object(le.a)(i,[{key:"preload",value:function(){this.load.image("background","assets/backgrounds/backgroundDesert.png"),this.load.image("tiles","assets/tilemaps/tiles/building_spritesheet.png"),this.load.image("hunchback","assets/sprites/hunchback_man_64.png"),this.load.image("clock","assets/backgrounds/clock_yellow.png"),this.load.tilemapTiledJSON("map","assets/tilemaps/maps/fixTheClock.json"),this.load.spritesheet("player","assets/sprites/female_tilesheet.png",{frameWidth:80,frameHeight:110})}},{key:"create",value:function(){var e=this.add.image(0,0,"background");e.setOrigin(0,.4),e.setScale(.6,.6);var t=this.make.tilemap({key:"map"}),i=t.addTilesetImage("platform","tiles");this.ground=t.createLayer("background",i,-40,-10),this.ground.setCollision(58),this.ground.setScale(.6,.6),this.decorations=t.createLayer("decorations",i,-40,-10),this.decorations.setScale(.6,.6),this.miniClock=t.createLayer("clock",i,-40,-10),this.miniClock.setScale(.6,.6),this.miniClock.setVisible(!1),this.doorLayer=t.createLayer("door",i,-40,-10),this.doorLayer.setScale(.6,.6),this.doorLayer.setVisible(!1),this._createAnimation(),this._createPlayer(),this._createHunchbackMan(),this.physics.add.collider(this.ground,this.player),this.physics.add.collider(this.ground,this.lord),this.cursors=this.input.keyboard.createCursorKeys(),this.input.keyboard.removeCapture(32);var s=this._createDialog.bind(this,320,70,230,60,["Our church clock not working,","mind to do me a favour? "]),a=this._createDialog.bind(this,400,130,80,30,["Sure!"]),n=this._closeDialog.bind(this),r=this._dialogCompleteHandler.bind(this);this.dialogs=new De([{action:s,delay:30},{action:a,delay:200},{action:n,delay:300}],r),this.clock=new Ee(this,250,90),this._createGuideText("Walk toward the door keeper using RIGHT KEY!")}},{key:"_dialogCompleteHandler",value:function(){this._createGuideText(""),this.miniClock.setVisible(!1),this.clock.popup()}},{key:"_createPlayer",value:function(){this.player=this.physics.add.sprite(320,100,"player"),this.player.setBounce(.2),this.player.setScale(.4,.4),this.player.setCollideWorldBounds(!0),this.player.setDepth(1)}},{key:"_createHunchbackMan",value:function(){this.lord=this.physics.add.sprite(570,100,"hunchback"),this.lord.setScale(.6,.6)}},{key:"_createGuideText",value:function(e){this.guideTxt&&this.guideTxt.removeFromDisplayList(),this.guideTxt=this.add.text(10,10,e,{fill:"#ff0000"})}},{key:"_createAnimation",value:function(){this.anims.create({key:"turn",frames:[{key:"player",frame:0}],frameRate:6}),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("player",{start:10,end:9}),frameRate:6,repeat:-1}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("player",{start:9,end:10}),frameRate:6,repeat:-1}),this.anims.create({key:"jump",frames:[{key:"player",frame:1}],frameRate:6})}},{key:"_manualControl",value:function(){if(this.cursors.left.isDown)return this.player.setVelocityX(-160),this.player.play("left",!0),void(this.keyPressed=!0);if(this.cursors.right.isDown)return this.player.setVelocityX(90),this.player.play("right",!0),void(this.keyPressed=!0);var e=this.player.body.velocity.y;1===Math.ceil(Math.abs(e))&&this.player.play("turn"),this.player.setVelocityX(0),this.keyPressed=!1}},{key:"_closeEnough",value:function(e,t,i){var s=64*t.x+32+this.layerHoriOffset,a=e.body.center.x;return i>Math.round(Math.abs(s-a))}},{key:"_createDialog",value:function(e,t,i,s,a){this._closeDialog();var n=e,r=t,o=i,l=s;this.dialogPanel&&this.dialogPanel.removeFromDisplayList(),this.dialogTxt&&this.dialogTxt.removeFromDisplayList();var c=this.add.graphics();c.lineStyle(2,16711680,1),c.strokeRoundedRect(n,r,o,l,6),c.fillStyle(16776960,.8),c.fillRoundedRect(n,r,o,l,6),this.dialogPanel=c,this.dialogTxt=this.add.text(n+8,r+8,a,{fontFamily:"Arial",color:"#000000"}),this.dialogTxt.setLineSpacing(6)}},{key:"_closeDialog",value:function(){return this.dialogPanel&&this.dialogPanel.removeFromDisplayList(),this.dialogTxt&&this.dialogTxt.removeFromDisplayList(),!0}},{key:"_successHandler",value:function(){this.onGameSuccess(),this.scene.start("congratulations",{msg:"You completed the [Fix The Clock] project!"})}},{key:"update",value:function(){this.succeed||(this._manualControl(),this.dialogs.update(),this.clock.update(),this.player.x>500&&!this.complete&&(this.player.setVelocityX(0),this.player.play("turn"),this.keyPressed||(this.player.setX(500),this.dialogs.start())),this.player.x>520&&this.complete&&(this.succeed=!0,this.player.setVelocityX(0),this.player.play("turn"),this.player.setX(520),this._successHandler()))}},{key:"bingo",value:function(e,t){if(t)return this._createGuideText("Bingo! Enter the door to complete this game!"),this.complete=!0,this.lord.setVisible(!1),this.doorLayer.setVisible(!0),this.clock.start(),this.complete}},{key:"onGameSuccess",value:function(){this.game.events.emit("gamePass")}}]),i}(ne.a.Scene),He={1:fe,2:je,3:xe,4:ke,5:Oe,6:Te,7:Se,8:Pe,9:Me},Fe={type:ne.a.AUTO,width:600,height:234,parent:"phaser-game-box",banner:!1},Ge=Object(_.a)(Object(_.a)({},Fe),{},{width:800,height:600}),Ve=(Object(_.a)(Object(_.a)({},Ge),{},{physics:{default:"matter",matter:{gravity:{y:1},enableSleep:!1,debug:!0}}}),Object(_.a)(Object(_.a)({},Fe),{},{physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}}})),Ae=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(){return Object(oe.a)(this,i),t.call(this,"congratulations")}return Object(le.a)(i,[{key:"init",value:function(e){this.message=e.msg}},{key:"preload",value:function(){this.load.image("sparkBlue","assets/particles/blue.png"),this.load.image("sparkGreen","assets/particles/green.png"),this.load.image("sparkRed","assets/particles/red.png"),this.load.image("sparkYellow","assets/particles/yellow.png"),this.load.audio("levelup","assets/audio/nextLevel.mp3")}},{key:"_createGuideText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Congratulations";this.guideTxt&&this.guideTxt.removeFromDisplayList();var t=(600-10*e.length)/2;this.guideTxt=this.add.text(t,40,e,{fill:"#00ff00"})}},{key:"create",value:function(){this._createGuideText(this.message);var e=ne.a.Utils.Array.GetRandom(["sparkBlue","sparkGreen","sparkRed","sparkYellow"]);this.add.particles(e).createEmitter({x:300,y:230,scale:{start:.3,end:0},speed:{min:200,max:300},lifespan:2e3,angle:{min:245,max:300},gravityY:200,blendMode:"ADD"}),this.levelupSound=this.sound.add("levelup"),this.levelupSound.play()}},{key:"update",value:function(){}}]),i}(ne.a.Scene),Be=Ae,Ie=function(e){Object(he.a)(i,e);var t=Object(ue.a)(i);function i(){return Object(oe.a)(this,i),t.call(this,"gamefailed")}return Object(le.a)(i,[{key:"init",value:function(e){this.lastScene=e.scene}},{key:"preload",value:function(){this.load.audio("gameover","assets/audio/arcade_resources_sounds_gameover2.mp3")}},{key:"create",value:function(){var e=this.add.text(180,50,"Oops...you failed!",{fill:"#ffff00",fontSize:24});this.tweens.add({targets:e,y:20,duration:1e3,ease:"Power2",yoyo:!0,loop:-1});this.add.text(180,120,"Press SPACE BAR to restart!",{fill:"#00ff00",fontSize:16}),this.input.keyboard.on("keydown-SPACE",(function(){this._restart()}),this),this.gameoverSound=this.sound.add("gameover"),this.gameoverSound.play()}},{key:"update",value:function(){}},{key:"_restart",value:function(){this.scene.start(this.lastScene)}}]),i}(ne.a.Scene),Ye=function(e,t){if(0===t)return!1;if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var i=!0;if(e.forEach((function(e,s){e!==t[s]&&(i=!1)})),i)return!0;var s=!0;return e.forEach((function(e,i){var a=Object.keys(e).length?Object.keys(e)[0]:"";return""===a||t[i][a]!==e[a]?s=!1:void 0})),s}return"object"===typeof e&&"object"===typeof t&&e.id===t.id},Xe=function(e){return"Congratulations! You completed the ".concat(e.projName," program!")},We=function(e){var t=e.codeResultCallback,i=Object(n.useRef)(null),s=Object(n.useRef)(null),a=Object(n.useRef)(null),r=P((function(e){return e.projectID})),o=P((function(e){return e.codeExecResult})),l=J[r],h=Object(p.a)("projects_status",{}),d=Object(u.a)(h,2),y=d[0],m=d[1];return Object(n.useEffect)((function(){s.current=new Audio("assets/audio/p-ping.mp3"),a.current=new Audio("assets/audio/error_006.ogg")}),[]),Object(n.useEffect)((function(){if(i.current&&!U(o)){var e=Ye(l.expect,o.result);i.current.scene.getAt(0).bingo(o.result,e);var t=e?s:a;setTimeout((function(){return t.current.play()}),300)}}),[o,l]),Object(n.useEffect)((function(){var e=He[r],t=Object(_.a)(Object(_.a)({},Ve),{},{scene:[e,Be,Ie]}),s=new ne.a.Game(t);return i.current=s,function(){s.destroy(!0)}}),[r]),Object(n.useEffect)((function(){if(i.current){var e=i.current.events;return e.addListener("gamePass",(function(){m(Object(_.a)(Object(_.a)({},y),{},Object(se.a)({},r,"done"))),t(!0)})),function(){e.removeListener("gamePass")}}})),Object(c.jsx)("div",{id:"phaser-game-box"})},Ue=function(){var e=P((function(e){return e.switchMode})),t=P((function(e){return e.runningMode})),i=P((function(e){return e.startRunning})),s=P((function(e){return e.isSucceed})),a=P((function(e){return e.gameSucceed})),n=!t&&(s?Object(c.jsx)(X.a,{size:"52"}):Object(c.jsx)(Y.e,{size:"54"}));return Object(c.jsxs)("div",{className:"flex full-height",children:[Object(c.jsx)("div",{className:"w-4rem  bg-blue-500 flex align-items-center justify-content-center border-right-3 border-blue-500",children:Object(c.jsx)(I.a,{icon:"pi pi-angle-double-left",className:"p-button-rounded p-button-outlined bg-white",onClick:e})}),Object(c.jsx)("div",{className:"flex-grow-1 flex bg-white",children:Object(c.jsx)(We,{codeResultCallback:function(e){return a(e)}})}),Object(c.jsx)("div",{className:"right-part center-child bg-blue-500 border-left-3 border-blue-500",children:Object(c.jsxs)("button",{type:"button",className:"go-btn",disabled:t||!0,onClick:i,children:[n,Object(c.jsx)(ie.DotLoader,{css:Q,color:"#fbc02d",loading:t})]})})]})},ze=function(){var e=Object(n.useRef)(null),t=P((function(e){return e.isRunning})),i=P((function(e){return e.runningMode})),s=P((function(e){return e.execute})),a=P((function(e){return e.codeExecResult})),r=P((function(e){return e.codeExecError})),o=P((function(e){return e.projectID})),l=P((function(e){return e.reset})),h=P((function(e){return e.isSucceed})),u=P((function(e){return e.tipsPanelExpanded})),d=J[o];return Object(n.useEffect)((function(){if(t){var e=function(){var e=Object(w.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s(d);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}})),Object(n.useEffect)((function(){if(!U(a)){var t,i=Ye(d.expect,a.result),s=!a.success,n=i?"success":s?"error":"warn",r=i?"Success!":"Failed!",o=Xe(d),l=(t=a).success?"OhOh...check the code, try again!":t.message,c={severity:n,summary:r,detail:i?o:l};e.current.show(c)}}),[a,d]),Object(n.useEffect)((function(){if(r){console.warn(r);e.current.show({severity:"warn",summary:"Try again!",detail:"something wrong...",life:2e3})}}),[r]),Object(n.useEffect)((function(){if(h){var t={severity:"success",summary:"You Won!",detail:Xe(d)};e.current.show(t)}}),[h,d]),Object(n.useEffect)((function(){return l}),[l]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(A.a,{ref:e}),u&&Object(c.jsx)(te,{}),Object(c.jsx)("div",{className:"content-area blue-round-panel light",children:Object(c.jsx)($,{})}),Object(c.jsx)("div",{className:"result-area border-solid blue-round-panel p-0",children:Object(c.jsx)(Ue,{})})]})},Je=function(e,t){document.querySelector(e).classList.add(t)},Ke=function(e,t){document.querySelector(e).classList.remove(t)},qe=function(){var e=Object(l.f)(),t=Object(l.g)().pid,i=P((function(e){return e.setProjectID})),s=P((function(e){return e.setProjectName})),a="true"!==new URLSearchParams(e.search).get("codemode")&&P((function(e){return e.introMode})),r=P((function(e){return e.projects}));return Object(n.useEffect)((function(){var e;i(t),s(null===(e=J[t])||void 0===e?void 0:e.projName)})),Object(n.useEffect)((function(){Je(".layout-topbar","-translate-y-100"),Je(".layout-main-container","pt-2")}),[]),r.length?Object(c.jsxs)("div",{className:"project",children:[a&&Object(c.jsx)(V,{}),!a&&Object(c.jsx)(ze,{})]}):Object(c.jsx)("div",{className:"flex justify-content-center",children:Object(c.jsx)(D.a,{style:{width:"50px",height:"50px"}})})},Qe=function(){return Object(n.useEffect)((function(){var e=Object(_.a)(Object(_.a)({},Ve),{},{scene:[xe]}),t=new ne.a.Game(e);return function(){t.destroy(!0)}})),Object(c.jsx)("div",{className:"grid",children:Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)("div",{id:"phaser-game-box"})})})},Ze=i(130),$e=i.n(Ze),et=function(e){var t=Object(l.e)();return Object(n.useEffect)((function(){return t.listen((function(e){e.pathname.indexOf("project")>-1?(Je(".layout-topbar","-translate-y-100"),Je(".layout-main-container","pt-2")):(Ke(".layout-topbar","-translate-y-100"),Ke(".layout-main-container","pt-2"))}))}),[t]),Object(c.jsxs)("div",{className:"layout-topbar transition-pt5 ",children:[Object(c.jsxs)(d.b,{to:"/",className:"layout-topbar-logo",children:[Object(c.jsx)("img",{src:"light"===e.layoutColorMode?"assets/layout/images/letspy_arcade_sm.png":"assets/layout/images/logo-white.svg",alt:"logo"}),Object(c.jsx)("span",{children:"LetsPY"})]}),Object(c.jsx)("button",{type:"button",className:"p-link layout-topbar-menu-button layout-topbar-button",onClick:e.onMobileTopbarMenuClick,children:Object(c.jsx)("i",{className:"pi pi-ellipsis-v"})}),Object(c.jsxs)("ul",{className:$e()("layout-topbar-menu lg:flex origin-top",{"layout-topbar-menu-mobile-active":e.mobileTopbarMenuActive}),children:[Object(c.jsx)("li",{children:Object(c.jsxs)("button",{className:"p-link layout-topbar-button",onClick:function(){return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.push({pathname:e,search:"?".concat(i),state:s}),window.scrollTo(0,0)}("/")},children:[Object(c.jsx)("i",{className:"pi pi-home"}),Object(c.jsx)("span",{children:"Home"})]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("button",{className:"p-link layout-topbar-button",onClick:e.onMobileSubTopbarMenuClick,children:[Object(c.jsx)("i",{className:"pi pi-heart"}),Object(c.jsx)("span",{children:"Donation"})]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("button",{className:"p-link layout-topbar-button",onClick:e.onMobileSubTopbarMenuClick,children:[Object(c.jsx)("i",{className:"pi pi-user"}),Object(c.jsx)("span",{children:"Profile"})]})})]})]})},tt=function(e){return Object(c.jsxs)("div",{className:"layout-footer",children:[Object(c.jsx)("img",{src:"light"===e.layoutColorMode?"assets/layout/images/letspy_arcade_sm.png":"assets/layout/images/logo-white.svg",alt:"Logo",height:"20",className:"mr-2"}),"by",Object(c.jsx)("span",{className:"font-medium ml-2",children:"\ud83c\udf08CodingLab"})]})};i(269),i(270),i(271),i(272),i(273),i(274),i(275);var it=function(){var e=P((function(e){return e.setProjects}));return Object(n.useEffect)((function(){setTimeout((function(){S.a.get("data/projects.json").then((function(e){return e.data.data})).then((function(t){e(t)}))}),500)}),[e]),Object(c.jsxs)("div",{className:"app layout-wrapper layout-theme-light",children:[Object(c.jsx)(et,{layoutColorMode:"light",onMobileTopbarMenuClick:function(){return console.log(">>> popup menu")}}),Object(c.jsxs)("div",{className:"layout-main-container",children:[Object(c.jsxs)("div",{className:"layout-main",children:[Object(c.jsx)(l.a,{path:"/project/:pid",component:qe}),Object(c.jsx)(l.a,{path:"/game",component:Qe}),Object(c.jsx)(l.a,{path:"/empty",component:h}),Object(c.jsx)(l.a,{path:"/",exact:!0,component:E})]}),Object(c.jsx)(tt,{layoutColorMode:"light"})]})]})};o.a.render(Object(c.jsx)(d.a,{children:Object(c.jsx)(it,{})}),document.getElementById("root")),a()}},[[276,1,2]]]);
//# sourceMappingURL=main.4889cb24.chunk.js.map